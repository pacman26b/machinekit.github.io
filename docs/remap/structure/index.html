<!DOCTYPE HTML>
<html lang="en-US">
<head profile="http://www.w3.org/2005/10/profile">
  <meta charset="UTF-8">
  <title>Extending Machinekit</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="generator" content="Jekyll v3.1.6">
  <!--  <link rel="alternate" type="application/rss+xml" title="Jekyll • Simple, blog-aware, static sites - Feed" href="/feed.xml"> -->

   
  


  


  <link rel="alternate" type="application/atom+xml" title="Recent commits to Machinekit's master branch" href="https://github.com/machinekit/machinekit/commits/master.atom">
  <link href='http://fonts.googleapis.com/css?family=Alegreya+Sans' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Alegreya+Sans+SC' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/screen.css">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <!--[if lt IE 9]>
  <script src="/js/html5shiv.js"></script>
  <script src="/js/respond.min.js"></script>
  <![endif]-->
  <link rel="icon" type="image/png" href="/images/favicon.png" />
</head>


<body class="wrap">
  <header>
  <nav class="mobile-nav show-on-mobiles">
    <ul>
  <li class="">
    <a href="/">Home</a>
  </li>
  <li class="">
    <a href="/about/">About</a>
  </li>
  <li class="">
    <a href="/community/home">
      <span class="hide-on-mobiles">Community</span>
      <span class="show-on-mobiles">Community</span>
    </a>
  </li>
  <li class="current">
    <a href="/docs/">
      <span class="hide-on-mobiles">Documentation</span>
      <span class="show-on-mobiles">Docs</span>
    </a>
  </li>
  <li class="">
    <a href="http://blog.machinekit.io/">Blog</a>
  <li>
  <li>
    <a href="https://github.com/machinekit/machinekit">GitHub</a>
  </li>
  <li>
    <search-bar>
  <div class="grid">
    <div class="unit align-left center-on-mobiles">
      <p>
        <div class="top-search">
        <form method="get" id="searchform" id="searchbox_013132401186084955638:hpvljajpulu" action="http://machinekit.io/search-result.html">
        <div>
        <input value="013132401186084955638:hpvljajpulu" name="cx" type="hidden"/>
        <input value="FORID:11" name="cof" type="hidden"/>
        Search:<BR>
        <input type="text" value="" name="s" id="s" onfocus="defaultInput(this)" onblur="clearInput(this)" />
        </div>
        </form>
        </div>
      </p>
    </div>
  </div>
</search-bar>

  </li>
  <li>
    <sandbox>
    <div class="unit align-left center-on-mobiles">
      <p>
        <a href="http://machinekit.io/docs/sandbox/index.html">SandBox</a>
      </p>
    </div>
</sandbox>

  </li>
  <li>
    <div class="unit align-left center-on-mobiles">
  <p>
    
	<a href=https://github.com/machinekit/machinekit-docs//edit/master/docs/remap/structure.asciidoc>Edit this page</a>
    
  </p>
</div>


  </li>
</ul>



  </nav>
  <div class="grid">
      <div class="unit one-quarter hide-on-mobiles" >
        <img id='logo' src="/images/gear-256px-color.png"> 
      </div>
         
    <div class="unit three-quarters">
      <h1 id="maintitle" class="hide-on-mobiles">Machinekit</h1>
      <h1 id="maintitle-mobile" class="show-on-mobiles">Machinekit</h1>
       <nav class="main-nav hide-on-mobiles">
         <ul>
  <li class="">
    <a href="/">Home</a>
  </li>
  <li class="">
    <a href="/about/">About</a>
  </li>
  <li class="">
    <a href="/community/home">
      <span class="hide-on-mobiles">Community</span>
      <span class="show-on-mobiles">Community</span>
    </a>
  </li>
  <li class="current">
    <a href="/docs/">
      <span class="hide-on-mobiles">Documentation</span>
      <span class="show-on-mobiles">Docs</span>
    </a>
  </li>
  <li class="">
    <a href="http://blog.machinekit.io/">Blog</a>
  <li>
  <li>
    <a href="https://github.com/machinekit/machinekit">GitHub</a>
  </li>
  <li>
    <search-bar>
  <div class="grid">
    <div class="unit align-left center-on-mobiles">
      <p>
        <div class="top-search">
        <form method="get" id="searchform" id="searchbox_013132401186084955638:hpvljajpulu" action="http://machinekit.io/search-result.html">
        <div>
        <input value="013132401186084955638:hpvljajpulu" name="cx" type="hidden"/>
        <input value="FORID:11" name="cof" type="hidden"/>
        Search:<BR>
        <input type="text" value="" name="s" id="s" onfocus="defaultInput(this)" onblur="clearInput(this)" />
        </div>
        </form>
        </div>
      </p>
    </div>
  </div>
</search-bar>

  </li>
  <li>
    <sandbox>
    <div class="unit align-left center-on-mobiles">
      <p>
        <a href="http://machinekit.io/docs/sandbox/index.html">SandBox</a>
      </p>
    </div>
</sandbox>

  </li>
  <li>
    <div class="unit align-left center-on-mobiles">
  <p>
    
	<a href=https://github.com/machinekit/machinekit-docs//edit/master/docs/remap/structure.asciidoc>Edit this page</a>
    
  </p>
</div>


  </li>
</ul>



       </nav>
    </div>
  </div>
</header>


  <div id="content">
    <section class="docs">
    <div class="grid">

      <div class="docs-nav-mobile unit whole show-on-mobiles">
  <select onchange="if (this.value) window.location.href=this.value">
    <option value="">Navigate the docs…</option>
    
    <optgroup label="For starters">
      


  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://www.machinekit.io/docs/site/about-this-site/">How to use this website</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://www.machinekit.io/docs/index-getting-started/">Getting Started</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://www.machinekit.io/docs/index-user/">Machinekit Introduction</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://www.machinekit.io/docs/index-HAL/">Hardware Abstraction Layer</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://www.machinekit.io/docs/getting-help/">Getting help</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


    </optgroup>
    
    <optgroup label="Developing">
      


  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://www.machinekit.io/docs/index-integrator/">Integrator Manual</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://www.machinekit.io/docs/index-developer/">Developer manual</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://www.machinekit.io/docs/index-documenting/">Documenting</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://www.machinekit.io/docs/developing/develop-index/">Various developing links</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://www.machinekit.io/docs/developing/qtquickvcp/">QtQuickVcp</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


    </optgroup>
    
    <optgroup label="Manpages">
      


  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://www.machinekit.io/docs/man/man1/">HAL Utilities and GUIs</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://www.machinekit.io/docs/man/man3/">RTAPI and HAL Functions</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://www.machinekit.io/docs/man/man9/">HAL Components</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


    </optgroup>
    
    <optgroup label="Project Infrastructure">
      


  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://www.machinekit.io/docs/infra/repositories/">Git Repos &amp; Auto Build</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


    </optgroup>
    
  </select>
</div>


      <div class="unit four-fifths">
        <article>
          <h1>Extending Machinekit</h1>
          <div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction-extending-the-rs274ngc-interpreter-by-remapping-codes">Introduction: Extending the RS274NGC Interpreter by Remapping Codes</a>
<ul class="sectlevel2">
<li><a href="#a-definition-remapping-codes">A Definition: Remapping Codes</a></li>
<li><a href="#why-would-you-want-to-extend-the-rs274ngc-interpreter">Why would you want to extend the RS274NGC Interpreter?</a></li>
</ul>
</li>
<li><a href="#remap:getting-started">Getting started</a>
<ul class="sectlevel2">
<li><a href="#picking-a-code">Picking a code</a></li>
<li><a href="#remap:parameter-handling">Parameter handling</a></li>
<li><a href="#remap:handling-results">Handling results</a></li>
<li><a href="#remap:execution-sequencingg">Execution sequencing</a></li>
<li><a href="#an-minimal-example-remapped-code">An minimal example remapped code</a></li>
</ul>
</li>
<li><a href="#configuring-remapping">Configuring Remapping</a>
<ul class="sectlevel2">
<li><a href="#the-remap-statement">The REMAP statement</a></li>
<li><a href="#useful-remap-option-combinations">Useful REMAP option combinations</a></li>
<li><a href="#remap:argspec-parameter">The 'argspec' parameter</a></li>
</ul>
</li>
<li><a href="#upgrading-an-existing-configuration-for-remapping">Upgrading an existing configuration for remapping</a></li>
<li><a href="#remapping-toolchange-related-codes-t-m6-m61">Remapping toolchange-related codes: T, M6, M61</a>
<ul class="sectlevel2">
<li><a href="#overview">Overview</a></li>
<li><a href="#understanding-the-role-of-iocontrol-with-remapped-toolchange-codes">Understanding the role of iocontrol with remapped toolchange codes</a></li>
<li><a href="#specifying-the-m6-replacement">Specifying the M6 replacement</a></li>
<li><a href="#configuring-iocontrol-with-a-remapped-m6">Configuring iocontrol with a remapped M6</a></li>
<li><a href="#writing-the-change-and-prepare-o-word-procedures">Writing the change and prepare O-word procedures</a></li>
<li><a href="#making-minimal-changes-to-the-builtin-codes-including-code-m6-code">Making minimal changes to the builtin codes, including <code>M6</code></a></li>
<li><a href="#specifying-the-t-prepare-replacement">Specifying the T (prepare) replacement</a></li>
<li><a href="#error-handling-dealing-with-abort">Error handling: dealing with abort</a></li>
<li><a href="#error-handling-failing-a-remapped-code-ngc-procedure">Error handling: failing a remapped code NGC procedure</a></li>
</ul>
</li>
<li><a href="#remapping-other-existing-codes-s-m0-m1-m60">Remapping other existing codes: S, M0, M1, M60</a>
<ul class="sectlevel2">
<li><a href="#automatic-gear-selection-be-remapping-s-set-spindle-speed">Automatic gear selection be remapping  S (set spindle speed)</a></li>
<li><a href="#adjusting-the-behaviour-of-m0-m1-m60">Adjusting the behaviour of M0, M1, M60</a></li>
</ul>
</li>
<li><a href="#remap:G-code-cycles">Creating new G-code cycles</a></li>
<li><a href="#remap:embedded-Python">Configuring  Embedded Python</a>
<ul class="sectlevel2">
<li><a href="#python-plugin-ini-file-configuration">Python plugin : ini file configuration</a></li>
<li><a href="#remap::executing-Python-statements">Executing Python statements from the interpreter</a></li>
</ul>
</li>
<li><a href="#sec:Programming-Embedded-Python">Programming Embedded Python in the RS274NGC Interpreter</a>
<ul class="sectlevel2">
<li><a href="#the-python-plugin-namespace">The Python plugin namespace</a></li>
<li><a href="#the-interpreter-as-seen-from-python">The Interpreter as seen from Python</a></li>
<li><a href="#the-interpreter-code-em-init-em-code-and-code-em-delete-em-code-functions">The Interpreter <code><em>init</em></code> and <code><em>delete</em></code> functions</a></li>
<li><a href="#calling-conventions-ngc-to-python">Calling conventions: NGC to Python</a></li>
<li><a href="#calling-conventions-python-to-ngc">Calling conventions: Python to NGC</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="introduction-extending-the-rs274ngc-interpreter-by-remapping-codes">Introduction: Extending the RS274NGC Interpreter by Remapping Codes</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="a-definition-remapping-codes">A Definition: Remapping Codes</h3>
<div class="paragraph">
<p>By 'remapping codes' we mean one of the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>define the semantics of new - that is, currently unallocated - M- or G-codes</p>
</li>
<li>
<p>redefine the semantics of a - currently limited - set of existing codes.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="why-would-you-want-to-extend-the-rs274ngc-interpreter">Why would you want to extend the RS274NGC Interpreter?</h3>
<div class="paragraph">
<p>The set of codes (M,G,T,S,F) currently understood by the RS274NGC
interpreter is fixed and cannot be extended by configuration options.</p>
</div>
<div class="paragraph">
<p>In particular, some of these codes implement a fixed sequence of steps
to be executed. While some of these, like M6, can be moderately
configured by activating or skipping some of these steps through ini
file options, overall the behaviour is fairly rigid. So - if your
are happy with this situation, then this manual section is not for you.</p>
</div>
<div class="paragraph">
<p>In many cases, this means that supporting a non 'out of the box'
configuration or machine is either cumbersome or impossible, or
requires resorting to changes at the 'C/C\\' language level. The latter
is unpopular for good reasons - changing internals requires in-depth
understanding of interpreter internals, and moreover brings its own
set of support issues. While it is conceivable that certain patches
might make their way into the main Machinekit distribution, the result of
this approach is a hodge-podge of special-case solutions.</p>
</div>
<div class="paragraph">
<p>A good example for this deficiency is tool change support in Machinekit:
while random toolchangers are well supported, it is next to impossible
to reasonably define a configuration for a manual-toolchange machine
with, for example, an automatic tool length offset switch being
visited after a toolchange, and offsets set accordingly. Also, while a
patch for a very specific rack toolchanger exists, it has not found
its way back into the main code base.</p>
</div>
<div class="paragraph">
<p>However, many of these things may be fixed by using an O-word
procedure instead of a builtin code - whenever the - insufficient -
builtin code is to be executed, call the O-word procedure
instead. While possible, it is cumbersome - it requires source-editing
of NGC programs, replacing all calls to the deficient code by a an
O-word procedure call.</p>
</div>
<div class="paragraph">
<p>In it&#8217;s simplest form a remapped code isnt much more than a
spontaneous call to an O-word procedure. This happens behind the scenes
- the procedure is visible at the configuration level, but not at the
NGC program level.</p>
</div>
<div class="paragraph">
<p>Generally, the behaviour of a remapped code may be defined in the following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>you define a O-word subroutine which implements the desired behaviour</p>
</li>
<li>
<p>alternatively, you may employ a Python function which extends the interpreter&#8217;s behaviour.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="how-to-glue-things-together">How to glue things together</h4>
<div class="paragraph">
<p>M- and G-codes, and O-words subroutine calls have some fairly different syntax.</p>
</div>
<div class="paragraph">
<p>O-word procedures, for example, take positional parameters
with a specific syntax like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="{basebackend@docbook:'':ngc}">o&lt;test&gt; call [1.234] [4.65]</code></pre>
</div>
</div>
<div class="paragraph">
<p>whereas M- or G-codes typically take required or optional 'word'
parameters. For istance, G76 (threading) requires the P,Z,I,J and K
words, and optionally takes the R,Q,H, E and L words.</p>
</div>
<div class="paragraph">
<p>So it isnt simply enough to say 'whenever you encounter code X, please
call procedure Y' - at least some checking and conversion of paramters
needs to happen. This calls for some 'glue code' between the new code,
and its corresponding NGC procedure to execute before passing control
to the NGC procedure.</p>
</div>
<div class="paragraph">
<p>This glue code is impossible to write as an O-word procedure itself
since the RS274NGC language lacks the introspective capabilities and
access into interpreter internal data structures to achieve the
required effect. Doing the glue code in - again - 'C/C\\' would be an
inflexible and therefore unsatisfactory solution.</p>
</div>
</div>
<div class="sect3">
<h4 id="how-embedded-python-fits-in">How Embedded Python fits in</h4>
<div class="paragraph">
<p>To make a simple situation easy and a complex situation solvable, the
glue issue is addressed as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>for simple situations, a built-in glue procedure (<code>argspec</code>) covers most
common parameter passing requirements</p>
</li>
<li>
<p>for remapping T,M6,M61,S,F there is some standard Python glue which should
cover most situations, see <a href="#sec:Standard-glue">Standard Glue</a></p>
</li>
<li>
<p>for more complex situations, one can write your own Python glue to implement new behaviour.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Embedded Python functions in the Interpreter started out as glue code,
but turned out very useful well beyond that. Users familiar with
Python will likely find it easier to write remapped codes, glue,
O-word procedures etc in pure Python, without resorting to the
somewhat cumbersome RS274NGC language at all.</p>
</div>
</div>
<div class="sect3">
<h4 id="a-word-on-embedded-python">A Word on Embedded Python</h4>
<div class="paragraph">
<p>Many people are familiar with 'extending' the Python interpreter by
'C/C\\' modules, and this is heavily used in Machinekit to access Task,
HAL and and Interpreter internals from Python scripts. 'Extending
Python' basically means: your Python script executes as 'it is in the
driver seat', and may access non-Python code by importing and using
extension modules written in 'C/C\\'. Examples for this are the Machinekit
<code>hal</code>, <code>gcode</code> and <code>emc</code> modules.</p>
</div>
<div class="paragraph">
<p>Embedded Python is a bit different and and less commonly known: The
main program is written in C/C++ and may use Python like a
subroutine. This is powerful extension mechanism and the basis for the
'scripting extensions' found in many successful software
packages. Embedded Python code may access 'C/C\\' variables and
functions through a similar extension module method.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="remap:getting-started">Getting started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Defining a code involves the following steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>pick a code - either use an unallocated code, or redefine an existing code</p>
</li>
<li>
<p>deciding how parameters are handled</p>
</li>
<li>
<p>decide if and how results are handled</p>
</li>
<li>
<p>decide about the execution sequencing.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="picking-a-code">Picking a code</h3>
<div class="paragraph">
<p>Note that currently only a few existing codes may be redefined,
whereas there are many 'free' codes which might be made available by
remapping. When developing a redefined existing code, it might be a
good idea to start with an unallocated G- or M-code so both the
existing and new behaviour can be exercised. When done, redefine the
existing code to use your remapping setup.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the current set of unused M-codes open to user definition can be found
<a href="#remap:unallocated-m-codes">here</a>,</p>
</li>
<li>
<p>unallocated G-codes are listed <a href="#remap:unallocated-g-codes">here</a>.</p>
</li>
<li>
<p>Existing codes which may be remapped are listed <a href="#remap:remappable-codes">here</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="remap:parameter-handling">Parameter handling</h3>
<div class="paragraph">
<p>Let&#8217;s assume the new code will be defined by an NGC procedure, and needs
some parameters, some of which might be required, others might be
optional. We have the following options to feed values to the
procedure:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>extracting words from the current block  and pass them to the
procedure as parameters (like <code>X22.34</code> or <code>P47</code>)</p>
</li>
<li>
<p>referring to ini file variables</p>
</li>
<li>
<p>referring to global variables (like <code><mark>2200 = 47.11</code> or
<code></mark>&lt;_global_param&gt; = 315.2</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The first method is preferred for parameters of dynamic nature, , like
positions. You need to define which words on the current block have
any meaning for your new code, and specify how that is passed to the
NGC procedure. Any easy way is to use the
<a href="#remap:argspec-parameter">argspec statement</a>. A custom prolog might
provide better error messages.</p>
</div>
<div class="paragraph">
<p>Using to ini file variables is most useful for referring to setup
information for your machine, for instance a fixed position like a
tool-length sensor position. The advantage of this method is that the
parameters are fixed for your configuration regardless which NGC file
you&#8217;re currently executing.</p>
</div>
<div class="paragraph">
<p>Referring to global variables is always possible, but they are easily
overlooked.</p>
</div>
<div class="paragraph">
<p>Note there&#8217;s a limited supply of words which may be used as
parameters, so one might need to fall back to the second and third
methods if many parameters are needed.</p>
</div>
</div>
<div class="sect2">
<h3 id="remap:handling-results">Handling results</h3>
<div class="paragraph">
<p>Your new code might succeed or fail, for instance if passed an invalid
parameter combination. Or you might choose to 'just execute' the
procedure and disregard results, in which case there isnt much work to do.</p>
</div>
<div class="paragraph">
<p>Epilog handlers help in processing results of remap procedures - see
the reference section.</p>
</div>
</div>
<div class="sect2">
<h3 id="remap:execution-sequencingg">Execution sequencing</h3>
<div class="paragraph">
<p>Excecutable G-code words are classified into <a href="#sec:Modal-Groups">modal
groups</a>, which also defines their relative execution behaviour.</p>
</div>
<div class="paragraph">
<p>If a  G-code block  contains several executable words on a line, these
words are executed in a predefined <a href="#sec:Order-of-Execution">order of
execution</a>, not in the order they appear in block.</p>
</div>
<div class="paragraph">
<p>When you define a new executable code, the interpreter does not yet
know where your code fits into this scheme. For this
reason, you need to choose an appropriate modal group for your code to
execute in.</p>
</div>
</div>
<div class="sect2">
<h3 id="an-minimal-example-remapped-code">An minimal example remapped code</h3>
<div class="paragraph">
<p>To give you an idea how the pieces fit together, let&#8217;s explore a
fairly minimal but complete remapped code definition. We choose an
unallocated M-code and add the following option to the ini file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="{basebackend@docbook:'':ini}">[RS274NGC]
REMAP=M400  modalgroup=10 argspec=Pq ngc=myprocedure</code></pre>
</div>
</div>
<div class="paragraph">
<p>In a nutshell, this means:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>M400</code> code takes a required parameter <code>P</code> and an optional
parameter <code>Q</code>. Other words in the current block are ignored with
respect to the <code>M400</code> code. If the <code>P</code> word is not present, fail
execution with an error.</p>
</li>
<li>
<p>when an <code>M400</code> code is encountered, execute <code>myprocedure.ngc</code>  along
the other <a href="#sec:Modal-Groups">modal group</a> 10 M-codes as per
<a href="#sec:Order-of-Execution">order of execution</a>.</p>
</li>
<li>
<p>the value of <code>P</code>, and <code>Q</code> are available in the procedure as local
named parameters. The may be referred to  as <code><mark>&lt;P&gt;</code> and <code></mark>&lt;Q&gt;</code>. The
procedure may test whether the <code>Q</code> word was present with the
<a href="#EXISTS-Function"><code>EXISTS</code></a> builtin function.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The file <code>myprocedure.ngc</code> is expected to exists in the <code>[DISPLAY]NC_FILES</code> or
<code>[RS274NGC]SUBROUTINE_PATH</code> directory.</p>
</div>
<div class="paragraph">
<p>A detailed discussion of REMAP parameters is found in the reference
section below.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-remapping">Configuring Remapping</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="the-remap-statement">The REMAP statement</h3>
<div class="paragraph">
<p>To remap a code, define it using the <code>REMAP</code> option in
<code>RS274NG</code> section of your ini file. Use one <code>REMAP</code> line per remapped code.</p>
</div>
<div class="paragraph">
<p>The syntax of the <code>REMAP</code> is:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">`REMAP=&#8217;&lt;code&gt;' '&lt;options&gt;'</dt>
<dd>
<p>where '&lt;code&gt;' may be one of <code>T</code>,<code>M6</code>,<code>M61</code>,<code>S</code>,<code>F</code> (existing codes) or any of the
unallocated <a href="#remap:unallocated-m-codes">M-codes</a> or <a href="#remap:unallocated-g-codes">G-codes</a>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>It is an error to omit the '&lt;code&gt;' parameter.</p>
</div>
<div class="paragraph">
<p>The options of the REMAP statement are separated by whitespace. The options are
keyword-value pairs and currently are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">`modalgroup=&#8217;&lt;modal group&gt;'</dt>
<dd>
<div class="dlist">
<dl>
<dt class="hdlist1">G-codes</dt>
<dd>
<p>the only currently supported modal group is 1, which
is also the default value if no group is given. Group 1 means
'execute alongside other G-codes'.</p>
</dd>
<dt class="hdlist1">M-codes</dt>
<dd>
<p>currently supported modal groups are:
5,6,7,8,9,10. If no modalgroup is give, it defaults to 10
('execute after all other words in the block').</p>
</dd>
<dt class="hdlist1">T,S,F</dt>
<dd>
<p>for these the modal group is fixed and any
<code>modalgroup=</code> option is ignored.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1">`argspec=&#8217;&lt;argspec&gt;'</dt>
<dd>
<p>See <a href="#remap:argspec-parameter">description of the argspec
parameter options</a>. Optional.</p>
</dd>
<dt class="hdlist1">`ngc=&#8217;&lt;ngc_basename&gt;'</dt>
<dd>
<p>Basename of an O-word subroutine file name. Do not specify an
.ngc extension. Searched for in the directories specified in
the directory specified in <code>[DISPLAY]PROGRAM_PREFIX</code>, then in
<code>[RS274NGC]SUBROUTINE_PATH</code>. Mutually exclusive with
<code>python=</code>. It is an error to omit both <code>ngc=</code> and  <code>python=</code>.</p>
</dd>
<dt class="hdlist1">`python=&#8217;&lt;Python function name&gt;'</dt>
<dd>
<p>Instead of calling an ngc O-word procedure call a Python
function. The function is expected to be defined in the
<code>module_basename.oword</code>
module. Mutually exclusive with <code>ngc=</code>.</p>
</dd>
<dt class="hdlist1">`prolog=&#8217;&lt;Python function name&gt;'</dt>
<dd>
<p>Before executing an ngc procedure, call this Python function.
The function is expected to be defined in the
<code>module_basename.remap</code>
module. Optional.</p>
</dd>
<dt class="hdlist1">`epilog=&#8217;&lt;Python function name&gt;'</dt>
<dd>
<p>After executing an ngc procedure, call this Python function.
The function is expected to be defined in the
<code>module_basename.remap</code>
module. Optional.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>python</code>, <code>prolog</code> and <code>epilog</code> options require the Python
Interpreter plugin to be  <a href="#remap:embedded-Python">configured</a>, and
appropriate Python functions to be defined there so they can be
referred to with these options.</p>
</div>
<div class="paragraph">
<p>The syntax for defining a new code, and redefining an existing code is
identical.</p>
</div>
</div>
<div class="sect2">
<h3 id="useful-remap-option-combinations">Useful REMAP option combinations</h3>
<div class="paragraph">
<p>Note that while many combinations of argspec options are possible, not
all of them make sense. The following combinations are useful idioms:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">`argspec=&#8217;&lt;words&gt;' `ngc=&#8217;&lt;procname&gt;' `modalgroup=&#8217;&lt;group&gt;'</dt>
<dd>
<p>The recommended way to call an NGC procedure with a standard argspec parameter
conversion. Used if argspec is good enough. Note it&#8217;s not good
enough for remapping the Tx and M6/M61 toolchange codes.</p>
</dd>
<dt class="hdlist1">`prolog=&#8217;&lt;pythonprolog&gt;' `ngc=&#8217;&lt;procname&gt;' `epilog=&#8217;&lt;pythonepilog&gt;' `modalgroup=&#8217;&lt;group&gt;'</dt>
<dd>
<p>Call a Python prolog function to take any preliminary steps, then call the NGC
procedure. When done, call the Python epilog function to do any
cleanup or result extraction work which cannot be handled in G-code.
The most flexible way of remapping a code to an NGC procedure,
since almost all of the Interpreter internal variables, and some
internal functions may be accessed from the prolog and epilog
handlers. Also, a longer rope to hang yourselves.</p>
</dd>
<dt class="hdlist1">`python=&#8217;&lt;pythonfunction&gt;' `modalgroup=&#8217;&lt;group&gt;'</dt>
<dd>
<p>Directly call to a Python function without any argument conversion.
The most powerful way of remapping a code and going straight to
Python. Use this if you dont need an NGC procedure, or NGC is
just getting in your way.</p>
</dd>
<dt class="hdlist1">`argspec=&#8217;&lt;words&gt;' `python=&#8217;&lt;pythonfunction&gt;' `modalgroup=&#8217;&lt;group&gt;'</dt>
<dd>
<p>Convert the argspec words and pass them to a Python function as
keyword argument dictionary. Use it when you&#8217;re too lazy to
investigate words passed on the block yourself.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Note that if all you want to achieve is to call some Python code from
G-code, there is the somewhat easier way of
<a href="#remap:Python-O-word-procs">calling Python functions like O-word procedures</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="remap:argspec-parameter">The 'argspec' parameter</h3>
<div class="paragraph">
<p>The argument specification (keyword <code>argspec</code>) describes required and
optional words to be passed to an ngc procedure, as well as optional
precondtions for that code to execute.</p>
</div>
<div class="paragraph">
<p>An argspec consists of 0 or more  characters of the class
 <code>[@A-KMNP-Za-kmnp-z^&gt;]</code> . It can by empty (like <code>argspec=</code>).</p>
</div>
<div class="paragraph">
<p>An empty argspec, or no argspec argument at all implies the remapped
code does not receive  any parameters from the block. It will ignore
any extra parameters present.</p>
</div>
<div class="paragraph">
<p>Note that RS274NGC rules still apply - for instance you may use axis
words (eg X,Y,Z) only in the context of a G-code.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>ABCDEFGHIJKMPQRSTUVWXYZ</code></dt>
<dd>
<p>Defines a required word parameter: an uppercase letter specifies that
the corresponding word <strong>must</strong>
be present in the current block. The word`s value will be
passeed as a local named parameter with a corresponding name.
If the <code>@</code> character is
present in the argspec, it will be passed as positional
parameter, see below.</p>
</dd>
<dt class="hdlist1"><code>abcdefghijkmpqrstuvwxyz</code></dt>
<dd>
<p>Defines an optional word parameter: a lowercase letter specifies that
the corresponding word <strong>may</strong> be present in the current block.
If the word is present, the word&#8217;s value will be
passed as a local named parameter. If the <code>@</code> character is
present in the argspec, it will be passed as positional
parameter, see below.</p>
</dd>
<dt class="hdlist1"><code>@</code></dt>
<dd>
<p>The <code>@</code> (at-sign) tells argspec to pass words as positional
parameters, in the order defined following the <code>@</code>
option. Note that when using positional parameter passing,
a procedure cannot tell whether a word was present or not, see
example below.</p>
</dd>
</dl>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
this helps with packaging existing NGC procedures as remapped
codes. Existing procedures do expect positional parameters. With the
<code>@</code> option, you can avoid rewriting them to refer to local named
parameters.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>^</code></dt>
<dd>
<p>The <code>^</code> (caret) character specifies that the current
spindle speed must be greater than zero (spindle running),
otherwise the code fails with an appropriate error message.</p>
</dd>
<dt class="hdlist1"><code>&gt;</code></dt>
<dd>
<p>The <code>&gt;</code> (greater-than) character specifies that the current
feed must be greater than zero, otherwise the code fails with
an appropriate error message.</p>
</dd>
<dt class="hdlist1"><code>n</code></dt>
<dd>
<p>The <code>n</code> (greater-than) character specifies to pass the current
line number in the `n`local named parameter.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>By default, parameters are passed  as local named parameter to an NGC
procedure. These local parameters appear as 'already set' when the
procedure starts executing, which is different from existing semantics
(local variables start out with value 0.0 and need to be explicitly
assigned a value).</p>
</div>
<div class="paragraph">
<p>Optional word parameters may be tested for presence by the <code>EXISTS(#&lt;word&gt;)</code> idiom.</p>
</div>
<div class="sect3">
<h4 id="example-for-named-parameter-passing-to-ngc-procedures">Example for named parameter passing to NGC procedures</h4>
<div class="paragraph">
<p>Assume the code is defined as</p>
</div>
<div class="paragraph">
<p><code>REMAP=M400  modalgroup=10 argspec=Pq ngc=m400</code></p>
</div>
<div class="paragraph">
<p>and <code>m400.ngc</code> looks as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="{basebackend@docbook:'':ngc}">o&lt;m400&gt; sub
(P is required since it&#39;s uppercase in the argspec)
(debug, P word=#&lt;P&gt;)
(the q argspec is optional since its lowercase in the argspec. Use as follows:)
o100 if [EXISTS[#&lt;q&gt;]]
    (debug, Q word set: #&lt;q&gt;)
o100 endif
o&lt;m400&gt; endsub
M2</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>executing <code>M400</code> will fail with the message
<code>user-defined M400: missing: P</code></p>
</li>
<li>
<p>executing <code>M400 P123</code> will display <code>P word=123.000000</code></p>
</li>
<li>
<p>executing <code>M400 P123 Q456</code> will display <code>P word=123.000000</code> and <code>Q word set: 456.000000</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="example-for-positional-parameter-passing-to-ngc-procedures">Example for positional parameter passing to NGC procedures</h4>
<div class="paragraph">
<p>Assume the code is defined as</p>
</div>
<div class="paragraph">
<p><code>REMAP=M410  modalgroup=10 argspec=@PQr ngc=m410</code></p>
</div>
<div class="paragraph">
<p>and <code>m410.ngc</code> looks as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="{basebackend@docbook:'':ngc}">o&lt;m410&gt; sub
(debug, [1]=#1 [2]=#2 [3]=#3)
o&lt;m410&gt; endsub
M2</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>executing <code>M410 P10</code> will display <code>m410.ngc: [1]=10.000000 [2]=0.000000</code></p>
</li>
<li>
<p>executing <code>M410 P10 Q20</code> will display <code>m410.ngc: [1]=10.000000 [2]=20.000000</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>NB: you lose the capability to distinguish more than one optional
parameter word, and you cannot tell whether an optional parameter was
present but had the value 0, or was not present at all.</p>
</div>
</div>
<div class="sect3">
<h4 id="simple-example-for-named-parameter-passing-to-a-python-function">Simple example for named parameter passing to a Python function</h4>
<div class="paragraph">
<p>It&#8217;s possible to define new codes 'without' any NGC procedure. Here&#8217;s
a simple first example, a more complex one can be found in the next
section.</p>
</div>
<div class="paragraph">
<p>Assume the code is defined as</p>
</div>
<div class="paragraph">
<p><code>REMAP=G88.6 modalgroup=1  argspec=XYZp  python=g886</code></p>
</div>
<div class="paragraph">
<p>This instructs the interpreter to execute the Python function <code>g886</code>
in the <code>module_basename.remap</code> module
which might look like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">interpreter</span> <span style="color: #008000; font-weight: bold">import</span> INTERP_OK
<span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">emccanon</span> <span style="color: #008000; font-weight: bold">import</span> MESSAGE

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">g886</span>(<span style="color: #008000">self</span>, <span style="color: #666666">**</span>words):
    <span style="color: #008000; font-weight: bold">for</span> key <span style="color: #AA22FF; font-weight: bold">in</span> words:
        MESSAGE(<span style="color: #BA2121">&quot;word &#39;</span><span style="color: #BB6688; font-weight: bold">%s</span><span style="color: #BA2121">&#39; = </span><span style="color: #BB6688; font-weight: bold">%f</span><span style="color: #BA2121">&quot;</span> <span style="color: #666666">%</span> (key, words[key]))
    <span style="color: #008000; font-weight: bold">if</span> words<span style="color: #666666">.</span>has_key(<span style="color: #BA2121">&#39;p&#39;</span>):
        MESSAGE(<span style="color: #BA2121">&quot;the P word was present&quot;</span>)
    MESSAGE(<span style="color: #BA2121">&quot;comment on this line: &#39;</span><span style="color: #BB6688; font-weight: bold">%s</span><span style="color: #BA2121">&#39;&quot;</span> <span style="color: #666666">%</span> (<span style="color: #008000">self</span><span style="color: #666666">.</span>blocks[<span style="color: #008000">self</span><span style="color: #666666">.</span>remap_level]<span style="color: #666666">.</span>comment))
    <span style="color: #008000; font-weight: bold">return</span> INTERP_OK</code></pre>
</div>
</div>
<div class="paragraph">
<p>Try this with out with:
  g88.6 x1 y2 z3
  g88.6 x1 y2 z3 p33 (a comment here)</p>
</div>
<div class="paragraph">
<p>You&#8217;ll notice the gradual introduction of the embedded Python
environment - see <a href="#sec:Programming-Embedded-Python">here</a> for details.  Note that
with Python remapping functions, it make no sense to have Python
prolog or epilog functions since it&#8217;s executing a Python function in
the first place.</p>
</div>
</div>
<div class="sect3">
<h4 id="advanced-example-remapped-codes-in-pure-python">Advanced example: Remapped codes in pure Python</h4>
<div class="paragraph">
<p>The <code>interpreter</code> and <code>emccanon</code> modules expose most of the Interpreter
and some Canon internals, so many things which  so far required coding in
'C/C\\' can be now be done in Python.</p>
</div>
<div class="paragraph">
<p>The following example is based on the <code>nc_files/involute.py</code> script -
but canned as a G-code with some parameter extraction and checking. It
also demonstrates calling the interpreter recursively (see <code>self.execute()</code>).</p>
</div>
<div class="paragraph">
<p>Assuming a definition like so (NB: this does not use argspec):</p>
</div>
<div class="paragraph">
<p><code>REMAP=G88.1 modalgroup=1  py=involute</code></p>
</div>
<div class="paragraph">
<p>The <code>involute</code> function in <code>python/remap.py</code> listed below does all
word extraction from the current block directly. Note that interpreter
errors can be translated to Python exceptions. Remember this is
'readahead time' - execution time errors cannot be trapped this way.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">sys</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">traceback</span>
<span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">math</span> <span style="color: #008000; font-weight: bold">import</span> sin,cos

<span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">interpreter</span> <span style="color: #008000; font-weight: bold">import</span> <span style="color: #666666">*</span>
<span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">emccanon</span> <span style="color: #008000; font-weight: bold">import</span> MESSAGE
<span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">util</span> <span style="color: #008000; font-weight: bold">import</span> lineno, call_pydevd
<span style="color: #408080; font-style: italic"># raises InterpreterException if execute() or read() fails</span>
throw_exceptions <span style="color: #666666">=</span> <span style="color: #666666">1</span>


<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">involute</span>(<span style="color: #008000">self</span>, <span style="color: #666666">**</span>words):
    <span style="color: #BA2121; font-style: italic">&quot;&quot;&quot; remap function with raw access to Interpreter internals &quot;&quot;&quot;</span>

    <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>debugmask <span style="color: #666666">&amp;</span> <span style="color: #666666">0x20000000</span>: call_pydevd() <span style="color: #408080; font-style: italic"># USER2 debug flag</span>

    <span style="color: #008000; font-weight: bold">if</span> equal(<span style="color: #008000">self</span><span style="color: #666666">.</span>feed_rate,<span style="color: #666666">0.0</span>):
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&quot;feedrate &gt; 0 required&quot;</span>

    <span style="color: #008000; font-weight: bold">if</span> equal(<span style="color: #008000">self</span><span style="color: #666666">.</span>speed,<span style="color: #666666">0.0</span>):
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&quot;spindle speed &gt; 0 required&quot;</span>

    plunge <span style="color: #666666">=</span> <span style="color: #666666">0.1</span> <span style="color: #408080; font-style: italic"># if Z word was given, plunge - with reduced feed</span>

    <span style="color: #408080; font-style: italic"># inspect controlling block for relevant words</span>
    c <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>blocks[<span style="color: #008000">self</span><span style="color: #666666">.</span>remap_level]
    x0 <span style="color: #666666">=</span> c<span style="color: #666666">.</span>x_number <span style="color: #008000; font-weight: bold">if</span> c<span style="color: #666666">.</span>x_flag <span style="color: #008000; font-weight: bold">else</span> <span style="color: #666666">0</span>
    y0 <span style="color: #666666">=</span> c<span style="color: #666666">.</span>y_number <span style="color: #008000; font-weight: bold">if</span> c<span style="color: #666666">.</span>y_flag <span style="color: #008000; font-weight: bold">else</span> <span style="color: #666666">0</span>
    a  <span style="color: #666666">=</span> c<span style="color: #666666">.</span>p_number <span style="color: #008000; font-weight: bold">if</span> c<span style="color: #666666">.</span>p_flag <span style="color: #008000; font-weight: bold">else</span> <span style="color: #666666">10</span>
    old_z <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>current_z

    <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>debugmask <span style="color: #666666">&amp;</span> <span style="color: #666666">0x10000000</span>:
        <span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&quot;x0=</span><span style="color: #BB6688; font-weight: bold">%f</span><span style="color: #BA2121"> y0=</span><span style="color: #BB6688; font-weight: bold">%f</span><span style="color: #BA2121"> a=</span><span style="color: #BB6688; font-weight: bold">%f</span><span style="color: #BA2121"> old_z=</span><span style="color: #BB6688; font-weight: bold">%f</span><span style="color: #BA2121">&quot;</span> <span style="color: #666666">%</span> (x0,y0,a,old_z)

    <span style="color: #008000; font-weight: bold">try</span>:
        <span style="color: #408080; font-style: italic">#self.execute(&quot;G3456&quot;)  # would raise InterpreterException</span>
        <span style="color: #008000">self</span><span style="color: #666666">.</span>execute(<span style="color: #BA2121">&quot;G21&quot;</span>,lineno())
        <span style="color: #008000">self</span><span style="color: #666666">.</span>execute(<span style="color: #BA2121">&quot;G64 P0.001&quot;</span>,lineno())
        <span style="color: #008000">self</span><span style="color: #666666">.</span>execute(<span style="color: #BA2121">&quot;G0 X</span><span style="color: #BB6688; font-weight: bold">%f</span><span style="color: #BA2121"> Y</span><span style="color: #BB6688; font-weight: bold">%f</span><span style="color: #BA2121">&quot;</span> <span style="color: #666666">%</span> (x0,y0),lineno())

        <span style="color: #008000; font-weight: bold">if</span> c<span style="color: #666666">.</span>z_flag:
            feed <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>feed_rate
            <span style="color: #008000">self</span><span style="color: #666666">.</span>execute(<span style="color: #BA2121">&quot;F</span><span style="color: #BB6688; font-weight: bold">%f</span><span style="color: #BA2121"> G1 Z</span><span style="color: #BB6688; font-weight: bold">%f</span><span style="color: #BA2121">&quot;</span> <span style="color: #666666">%</span> (feed <span style="color: #666666">*</span> plunge, c<span style="color: #666666">.</span>z_number),lineno())
            <span style="color: #008000">self</span><span style="color: #666666">.</span>execute(<span style="color: #BA2121">&quot;F</span><span style="color: #BB6688; font-weight: bold">%f</span><span style="color: #BA2121">&quot;</span> <span style="color: #666666">%</span> (feed),lineno())

        <span style="color: #008000; font-weight: bold">for</span> i <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #666666">100</span>):
            t <span style="color: #666666">=</span> i<span style="color: #666666">/10.</span>
            x <span style="color: #666666">=</span> x0 <span style="color: #666666">+</span> a <span style="color: #666666">*</span> (cos(t) <span style="color: #666666">+</span> t <span style="color: #666666">*</span> sin(t))
            y <span style="color: #666666">=</span> y0 <span style="color: #666666">+</span> a <span style="color: #666666">*</span> (sin(t) <span style="color: #666666">-</span> t <span style="color: #666666">*</span> cos(t))
            <span style="color: #008000">self</span><span style="color: #666666">.</span>execute(<span style="color: #BA2121">&quot;G1 X</span><span style="color: #BB6688; font-weight: bold">%f</span><span style="color: #BA2121"> Y</span><span style="color: #BB6688; font-weight: bold">%f</span><span style="color: #BA2121">&quot;</span> <span style="color: #666666">%</span> (x,y),lineno())

        <span style="color: #008000; font-weight: bold">if</span> c<span style="color: #666666">.</span>z_flag: <span style="color: #408080; font-style: italic"># retract to starting height</span>
            <span style="color: #008000">self</span><span style="color: #666666">.</span>execute(<span style="color: #BA2121">&quot;G0 Z</span><span style="color: #BB6688; font-weight: bold">%f</span><span style="color: #BA2121">&quot;</span> <span style="color: #666666">%</span> (old_z),lineno())

    <span style="color: #008000; font-weight: bold">except</span> InterpreterException,e:
        msg <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;</span><span style="color: #BB6688; font-weight: bold">%d</span><span style="color: #BA2121">: &#39;</span><span style="color: #BB6688; font-weight: bold">%s</span><span style="color: #BA2121">&#39; - </span><span style="color: #BB6688; font-weight: bold">%s</span><span style="color: #BA2121">&quot;</span> <span style="color: #666666">%</span> (e<span style="color: #666666">.</span>line_number,e<span style="color: #666666">.</span>line_text, e<span style="color: #666666">.</span>error_message)
	<span style="color: #008000; font-weight: bold">return</span> msg

    <span style="color: #008000; font-weight: bold">return</span> INTERP_OK</code></pre>
</div>
</div>
<div class="paragraph">
<p>The examples described so far can be found in
'configs/sim/axis/remap/getting-started' with complete working
configurations.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="upgrading-an-existing-configuration-for-remapping">Upgrading an existing configuration for remapping</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The minimal prerequisites for using <code>REMAP</code> statements are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the Python plugin must be activated by specifying a
<code>[PYTHON]TOPLEVEL=&lt;path-to-toplevel-script&gt;</code> in the ini file.</p>
</li>
<li>
<p>the toplevel script needs to import the <code>remap</code> module, which can be
initially empty, but the import needs to be in place.</p>
</li>
<li>
<p>The Python interpreter needs to find the remap.py module above, so
the path to the directory where your Python modules live needs to be
added with  <code>[PYTHON]APPEND=&lt;path-to-your-local-Python-directory&gt;</code></p>
</li>
<li>
<p>Recommended: import the <code>stdglue</code> handlers in the <code>remap</code> module. In
this case Python also needs to find <code>stdglue.py</code> - we just copy it
from the distribution so you can make local changes as
needed. Depending on your installation the path to <code>stdglue.py</code> might
vary.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Assuming your configuration lives under <code>/home/user/xxx</code> and the ini
file is <code>/home/user/xxx/xxx.ini</code>, execute the following commands.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="sh">$ <span style="color: #008000">cd</span> /home/user/xxx
$ mkdir python
$ <span style="color: #008000">cd</span> python
$ cp /usr/share/machinekit/examples/sample-configs/sim/remap/python-stdglue/stdglue.py .
$ <span style="color: #008000">echo</span> <span style="color: #BA2121">&#39;from stdglue import *&#39;</span> &gt;remap.py
$ <span style="color: #008000">echo</span> <span style="color: #BA2121">&#39;import remap&#39;</span> &gt;toplevel.py</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now edit <code>/home/user/xxx/xxx.ini</code> and add the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="{basebackend@docbook:'':ini}">[PYTHON]
TOPLEVEL=/home/user/xxx/python/toplevel.py
APPEND=/home/user/xxx/python</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now verify that Machinekit comes up with no error messages - from a
terminal window execute:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="sh">$ <span style="color: #008000">cd</span> /home/user/xxx
$ machinekit xxx.ini</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="remapping-toolchange-related-codes-t-m6-m61">Remapping toolchange-related codes: T, M6, M61</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="overview">Overview</h3>
<div class="paragraph">
<p>If you are unfamiliar with Machinekit internals, first read the
<a href="#remap::how-toolchange-currently-works">How toolchange currently
works</a> section (dire but necessary).</p>
</div>
<div class="paragraph">
<p>Note than when remapping an existing code, we completely disable
<a href="#remap::interpreter-action-on-M6">this codes' builtin functionality</a>
of the interpreter.</p>
</div>
<div class="paragraph">
<p>So our remapped code will need to do a bit more
than just generating some commands to move the machine as we like - it
will also need to replicate those steps from this sequence which are
needed to keep the interpreter and task happy.</p>
</div>
<div class="paragraph">
<p>However, this does <strong>not</strong> affect the processing of
toolchange-related commands in task and iocontrol. This means when we
execute <a href="#remap::send-tool-load-msg">step 6b</a> this will still cause
<a href="#remap::iocontrol-action-on-load">iocontrol to do its thing</a>.</p>
</div>
<div class="paragraph">
<p>Decisions, decisions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Do we want to use an O-word procedure or do it all in Python code?</p>
</li>
<li>
<p>Is the iocontrol HAL sequence (tool-prepare/tool-prepared and
tool-change/tool-changed pins) good enough or do we need a different kind
of HAL interaction for our toolchanger (for example: more HAL pins
involved with a  different interaction sequence)?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Depending on the answer, we have four different scenarios:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When using an O-word procedure, we need prolog and epilog functions</p>
</li>
<li>
<p>if using all Python code and no O-word procedure, a Python function
is enough</p>
</li>
<li>
<p>when using the iocontrol pins, our O-word procedure or Python code
will contain mostly moves</p>
</li>
<li>
<p>when we need a more complex interaction than offered by iocontrol,
we need to completely define our own interactíon, using <code>motion.digital*</code> and
<code>motion.analog*</code> pins, and essentially ignore the iocontrol pins by
looping them.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you hate O-word procedures and love Python, you&#8217;re free to do it
all in Python, in which case you would just have a <code>python=&lt;function&gt;</code>
spec in the REMAP statement. But assuming most folks would be interested in
using O-word procedures because they are more familiar with that, we&#8217;ll do
that as the  first example.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>So the overall approach for our first example will be:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>we&#8217;d like to do as much as possible with G-code in an O-word
procedure for flexibility. That includes all HAL interaction which
would normally be handled by iocontrol - because we rather would want to do
clever things with moves, probes, HAL pin I/O and so forth.</p>
</li>
<li>
<p>we&#8217;ll try to minimize Python code to the extent needed  to keep the interpreter happy,
and cause task to actually do anything. That will go into the
<code>prolog</code> and <code>epilog</code> Python functions.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="understanding-the-role-of-iocontrol-with-remapped-toolchange-codes">Understanding the role of iocontrol with remapped toolchange codes</h3>
<div class="paragraph">
<p>Iocontrol provides two HAL interaction sequences we might or might not
use:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>when the NML message queued by a SELECT_POCKET() canon command is
executed, this triggers the "raise tool-prepare and wait for
tool-prepared to become high" HAL sequence in iocontrol, besides
setting the XXXX pins</p>
</li>
<li>
<p>when the NML message queued by the CHANGE_TOOL() canon command is
executed, this triggers the  "raise tool-change and wait for
tool-changed to become high" HAL sequence in iocontrol, besides
setting the XXXX pins</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>What you need to decide is whether the existing iocontrol HAL sequences
are sufficient to drive your changer. Maybe you need a different
interaction sequence - for instance more HAL  pins, or maybe a more
complex interaction. Depending on the answer, we might continue to use the existing
iocontrol HAL sequences, or define our own ones.</p>
</div>
<div class="paragraph">
<p>For the sake of documentation, we&#8217;ll disable these  iocontrol
sequences, and roll our own - the result will look and feel like the
existing interaction, but now we have complete control over them
because they are executed in our own O-word procedure.</p>
</div>
<div class="paragraph">
<p>So what we&#8217;ll do is use some <code>motion.digital-<strong></code> and <code>motion.analog-</strong></code>
pins, and the associated <code>M62</code> .. <code>M68</code> commands to do our own HAL
interaction in our O-word procedure, and those will effectively
replace the iocontrol 'tool-prepare/tool-prepared' and
'tool-change/tool-changed' sequences. So we&#8217;ll define our pins
replacing existing iocontrol pins functionally, and go ahead and make
the iocontrol interactions a noop. We&#8217;ll use the following
correspondence in our example:</p>
</div>
<div class="paragraph">
<p>Iocontrol pin correspondence in the examples</p>
</div>
<table class="tableblock frame-topbot grid-none" style="width: 60%;">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">iocontrol.0 pin</th>
<th class="tableblock halign-left valign-top">motion pin</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tool-prepare</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">digital-out-00</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tool-prepared</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">digital-in-00</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tool-change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">digital-out-01</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tool-changed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">digital-in-01</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tool-prep-number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">analog-out-00</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tool-prep-pocket</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">analog-out-01</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tool-number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">analog-out-02</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Let us assume you want to redefine the M6 command, and replace it by
an O-word procedure, but other than that things 'should continue to
work'.</p>
</div>
<div class="paragraph">
<p>So what our O-word procedure would do is to replace the steps
<a href="#remap::interpreter-action-on-M6">outlined here</a>. Looking through
these steps you&#8217;ll find that NGC code can be used for most of them,
but not all. So the stuff NGC cant handle will be done in Python prolog
and epilog functions.</p>
</div>
</div>
<div class="sect2">
<h3 id="specifying-the-m6-replacement">Specifying the M6 replacement</h3>
<div class="paragraph">
<p>To convey the idea, we just replace the builtin M6 semantics with our
own. Once that works, you may go ahead and place any actions you see
fit into the O-word procedure.</p>
</div>
<div class="paragraph">
<p>Going through the <a href="#remap::interpreter-action-on-M6">steps</a>, we find:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>check for T command already executed - <strong>execute in Python prolog</strong></p>
</li>
<li>
<p>check for cutter compensation being active - <strong>execute in Python prolog</strong></p>
</li>
<li>
<p>stop the spindle if needed - <strong>can be done in NGC</strong></p>
</li>
<li>
<p>quill up - <strong>can be done in NGC</strong></p>
</li>
<li>
<p>if TOOL_CHANGE_AT_G30 was set:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>move the A, B and C indexers if applicable - <strong>can be done in NGC</strong></p>
</li>
<li>
<p>generate rapid move to the G30 position - <strong>can be done in NGC</strong></p>
</li>
</ol>
</div>
</li>
<li>
<p>send a CHANGE_TOOL Canon command to task  - <strong>execute in Python epilog</strong></p>
</li>
<li>
<p>set the numberer parameters 5400-5413 according to the new tool - <strong>execute in Python epilog</strong></p>
</li>
<li>
<p>signal to task to stop calling the interpreter for readahead until
toolchange complete - <strong>execute in Python epilog</strong></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>So we need a prolog, and an epilog. Lets assume our ini file incantation of the M6 remap looks as follows:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>REMAP=M6   modalgroup=6  prolog=change_prolog ngc=change epilog=change_epilog</pre>
</div>
</div>
<div class="paragraph">
<p>So the prolog covering steps 1 and 2 would look like so - we decide to
pass a few variables to the remap procedure which can be inspected and
changed there, or used in a message. Those are: <code>tool_in_spindle</code>,
<code>selected_tool</code> (tool numbers) and their respective pockets
<code>current_pocket</code> and <code>selected_pocket</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">change_prolog</span>(<span style="color: #008000">self</span>, <span style="color: #666666">**</span>words):
    <span style="color: #008000; font-weight: bold">try</span>:
	<span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>selected_pocket <span style="color: #666666">&lt;</span> <span style="color: #666666">0</span>:
            <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&quot;M6: no tool prepared&quot;</span>

	<span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>cutter_comp_side:
            <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&quot;Cannot change tools with cutter radius compensation on&quot;</span>

	<span style="color: #008000">self</span><span style="color: #666666">.</span>params[<span style="color: #BA2121">&quot;tool_in_spindle&quot;</span>] <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>current_tool
	<span style="color: #008000">self</span><span style="color: #666666">.</span>params[<span style="color: #BA2121">&quot;selected_tool&quot;</span>] <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>selected_tool
	<span style="color: #008000">self</span><span style="color: #666666">.</span>params[<span style="color: #BA2121">&quot;current_pocket&quot;</span>] <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>current_pocket
        <span style="color: #008000">self</span><span style="color: #666666">.</span>params[<span style="color: #BA2121">&quot;selected_pocket&quot;</span>] <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>selected_pocket
        <span style="color: #008000; font-weight: bold">return</span> INTERP_OK
    <span style="color: #008000; font-weight: bold">except</span> <span style="color: #D2413A; font-weight: bold">Exception</span>, e:
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&quot;M6/change_prolog: </span><span style="color: #BB6688; font-weight: bold">%s</span><span style="color: #BA2121">&quot;</span> <span style="color: #666666">%</span> (e)</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will find that most prolog functions look very similar: first test
that all preconditions for executing the code hold, then prepare the
environment - inject variables and/or do any preparatory processing
steps which cannot easily be done in NGC code; then hand off to the
NGC procedure by returning INTERP_OK.</p>
</div>
<div class="paragraph">
<p>Our first iteration of the O-word procedure is unexciting - just
verify we got parameters right, and signal success by returning a
positive value; steps 3-5 would eventually be covered here (see
<a href="#remap:referto-inifile-variables">here</a> for the variables referring
to ini file settings):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="{basebackend@docbook:'':ngc}">O&lt;change&gt; sub
(debug, change: current_tool=#&lt;current_tool&gt;)
(debug, change: selected_pocket=#&lt;selected_pocket&gt;)
;
; insert any g-code which you see fit here, eg:
; G0  #&lt;_ini[setup]tc_x&gt;  #&lt;_ini[setup]tc_y&gt;  #&lt;_ini[setup]tc_z&gt;
;
O&lt;change&gt; endsub [1]
m2</code></pre>
</div>
</div>
<div class="paragraph">
<p>Assuming success of <code>change.ngc</code>, we need to mop up steps 6-8:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">change_epilog</span>(<span style="color: #008000">self</span>, <span style="color: #666666">**</span>words):
    <span style="color: #008000; font-weight: bold">try</span>:
        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>return_value <span style="color: #666666">&gt;</span> <span style="color: #666666">0.0</span>:
            <span style="color: #408080; font-style: italic"># commit change</span>
            <span style="color: #008000">self</span><span style="color: #666666">.</span>selected_pocket <span style="color: #666666">=</span>  <span style="color: #008000">int</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>params[<span style="color: #BA2121">&quot;selected_pocket&quot;</span>])
            emccanon<span style="color: #666666">.</span>CHANGE_TOOL(<span style="color: #008000">self</span><span style="color: #666666">.</span>selected_pocket)
            <span style="color: #408080; font-style: italic"># cause a sync()</span>
            <span style="color: #008000">self</span><span style="color: #666666">.</span>tool_change_flag <span style="color: #666666">=</span> <span style="color: #008000">True</span>
            <span style="color: #008000">self</span><span style="color: #666666">.</span>set_tool_parameters()
            <span style="color: #008000; font-weight: bold">return</span> INTERP_OK
        <span style="color: #008000; font-weight: bold">else</span>:
            <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&quot;M6 aborted (return code </span><span style="color: #BB6688; font-weight: bold">%.1f</span><span style="color: #BA2121">)&quot;</span> <span style="color: #666666">%</span> (<span style="color: #008000">self</span><span style="color: #666666">.</span>return_value)

    <span style="color: #008000; font-weight: bold">except</span> <span style="color: #D2413A; font-weight: bold">Exception</span>, e:
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&quot;M6/change_epilog: </span><span style="color: #BB6688; font-weight: bold">%s</span><span style="color: #BA2121">&quot;</span> <span style="color: #666666">%</span> (e)</code></pre>
</div>
</div>
<div class="paragraph">
<p>This replacement M6 is compatible with the builtin code,
except steps 3-5 need to be filled in with your NGC code.</p>
</div>
<div class="paragraph">
<p>Again, most epilogs have a common scheme: first, determine whether
things went right in the remap procedure, then do any commit and cleanup
actions which cant be done in NGC code.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuring-iocontrol-with-a-remapped-m6">Configuring iocontrol with a remapped M6</h3>
<div class="paragraph">
<p>Note that the sequence of operations has changed: we do everything
required in the O-word procedure - including any HAL pin
setting/reading to get a changer going, and to acknowledge a tool
change - likely with <code>motion.digital-<strong></code> and <code>motion-analog-</strong></code> IO
pins. When we finally execute the <code>CHANGE_TOOL()</code> command, all
movements and HAL interactions are already completed.</p>
</div>
<div class="paragraph">
<p>Normally only now iocontrol would do its thing as outlined
<a href="#remap::iocontrol-action-on-load">here</a>. However, we dont need the
HAL pin wiggling anymore - all iocontrol is left to do is to accept
we&#8217;re done with prepare and change.</p>
</div>
<div class="paragraph">
<p>This means that the corresponding iocontrol pins have no function any
more. Therefore, we configure iocontrol to immediately acknowledge a
change by configuring like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="{basebackend@docbook:'':hal}"># loop change signals when remapping M6
net tool-change-loop iocontrol.0.tool-change iocontrol.0.tool-changed</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you for some reason want to remap <code>Tx</code> (prepare), the corresponding
iocontrol pins need to be looped as well.</p>
</div>
</div>
<div class="sect2">
<h3 id="writing-the-change-and-prepare-o-word-procedures">Writing the change and prepare O-word procedures</h3>
<div class="paragraph">
<p>The standard prologs and epilogs found in
<code>ncfiles/remap_lib/python-stdglue/stdglue.py</code> pass a few 'exposed
parameters' to the remap procedure.</p>
</div>
<div class="paragraph">
<p>An 'exposed parameter' is a named local variable visible in a remap
procedure which corresponds to interpreter-internal variable which
is relevant for the current remap. Exposed parameters
are set up in the respective prolog, and inspected in the epilog. They
can be changed in the remap procedure and the change will be picked up
in the epilog. The exposed parameters for remappable builtin codes are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>T</code> (prepare_prolog): <code><mark>&lt;tool&gt;</code> , <code></mark>&lt;pocket&gt;</code></p>
</li>
<li>
<p><code>M6</code> (change_prolog): <code><mark>&lt;tool_in_spindle&gt;</code>, <code></mark>&lt;selected_tool&gt;</code>, <code><mark>&lt;current_pocket&gt;</code>, <code></mark>&lt;selected_pocket&gt;</code></p>
</li>
<li>
<p><code>M61</code> (settool_prolog): <code><mark>&lt;tool&gt;</code> , <code></mark>&lt;pocket&gt;</code></p>
</li>
<li>
<p><code>S</code> (setspeed_prolog):  <code>#&lt;speed&gt;</code></p>
</li>
<li>
<p><code>F</code> (setfeed_prolog):  <code>#&lt;feed&gt;</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you have specific needs for extra parameters to be made visible,
that can simply be added to the prolog - practically all of the
interpreter internals are visible to Python.</p>
</div>
</div>
<div class="sect2">
<h3 id="making-minimal-changes-to-the-builtin-codes-including-code-m6-code">Making minimal changes to the builtin codes, including <code>M6</code></h3>
<div class="paragraph">
<p>Remember that normally remapping a code completely disables all internal
processing for that code.</p>
</div>
<div class="paragraph">
<p>However, in some situations it might be sufficient to add a few codes around
the existing <code>M6</code> builtin implementation, like a tool length probe,
but other than that retain the behaviour of the builtin <code>M6</code>.</p>
</div>
<div class="paragraph">
<p>Since this might be a common scenario, the builtin behaviour of
remapped codes has been made available within the remap
procedure. The interpreter detects that you are referring to a
remapped code within the procedure which is supposed to redefine its
behaviour. In this case, the builtin behaviour is used - this
currently is enabled for the set: <code>M6</code>, <code>M61</code>,<code>T</code>, <code>S</code>, <code>F</code>). Note
that otherwise referring to a code within its own remap procedure
would be a error - a <code>remapping recursion</code>.</p>
</div>
<div class="paragraph">
<p>Slightly twisting a builtin would look like so (in the case of <code>M6</code>):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>REMAP=M6   modalgroup=6  ngc=mychange</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="{basebackend@docbook:'':ngc}">o&lt;mychange&gt; sub
M6 (use builtin M6 behaviour)
(.. move to tool length switch, probe and set tool length..)
o&lt;mychange&gt; endsub
m2</code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
when redefining a builtin code, <strong>do not specify any leading
zeroes in G- or M-codes</strong> - for example, say <code>REMAP=M1 ..</code>, not
<code>REMAP=M01 &#8230;&#8203;</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See the <code>configs/sim/axis/remap/extend-builtins</code> directory for a complete
configuration which is the recommded starting point for own work
when extending builtin codes.</p>
</div>
</div>
<div class="sect2">
<h3 id="specifying-the-t-prepare-replacement">Specifying the T (prepare) replacement</h3>
<div class="paragraph">
<p>If you&#8217;re confident with the  <a href="#remap::interpreter-action-on-T">default
implementation</a>, you wouldnt need to do this. But remapping is also a
way to work around deficiencies in the current implementation, for
instance to not block until the "tool-prepared" pin is set.</p>
</div>
<div class="paragraph">
<p>What you could do, for instance, is:
- in a remapped T, just set the equivalent of the "tool-prepare" pin,
but <strong>not</strong> wait for "tool-prepared" here
- in the corresponding remapped M6, wait for the "tool-prepared" at
the very beginning of the O-word procedure.</p>
</div>
<div class="paragraph">
<p>Again, the iocontrol tool-prepare/tool-prepared pins would be unused
and replaced by <code>motion.*</code> pins, so those would pins must be looped:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="{basebackend@docbook:'':hal}"># loop prepare signals when remapping T
net tool-prep-loop iocontrol.0.tool-prepare iocontrol.0.tool-prepared</code></pre>
</div>
</div>
<div class="paragraph">
<p>So, here&#8217;s the setup for a remapped T:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>REMAP=T  prolog=prepare_prolog epilog=prepare_epilog ngc=prepare</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">prepare_prolog</span>(<span style="color: #008000">self</span>,<span style="color: #666666">**</span>words):
    <span style="color: #008000; font-weight: bold">try</span>:
        cblock <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>blocks[<span style="color: #008000">self</span><span style="color: #666666">.</span>remap_level]
        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #AA22FF; font-weight: bold">not</span> cblock<span style="color: #666666">.</span>t_flag:
            <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&quot;T requires a tool number&quot;</span>

        tool  <span style="color: #666666">=</span> cblock<span style="color: #666666">.</span>t_number
        <span style="color: #008000; font-weight: bold">if</span> tool:
            (status, pocket) <span style="color: #666666">=</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>find_tool_pocket(tool)
            <span style="color: #008000; font-weight: bold">if</span> status <span style="color: #666666">!=</span> INTERP_OK:
                <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&quot;T</span><span style="color: #BB6688; font-weight: bold">%d</span><span style="color: #BA2121">: pocket not found&quot;</span> <span style="color: #666666">%</span> (tool)
        <span style="color: #008000; font-weight: bold">else</span>:
            pocket <span style="color: #666666">=</span> <span style="color: #666666">-1</span> <span style="color: #408080; font-style: italic"># this is a T0 - tool unload</span>

        <span style="color: #408080; font-style: italic"># these variables will be visible in the ngc oword sub</span>
        <span style="color: #408080; font-style: italic"># as #&lt;tool&gt; and #&lt;pocket&gt; local variables, and can be</span>
        <span style="color: #408080; font-style: italic"># modified there - the epilog will retrieve the changed</span>
        <span style="color: #408080; font-style: italic"># values</span>
        <span style="color: #008000">self</span><span style="color: #666666">.</span>params[<span style="color: #BA2121">&quot;tool&quot;</span>] <span style="color: #666666">=</span> tool
        <span style="color: #008000">self</span><span style="color: #666666">.</span>params[<span style="color: #BA2121">&quot;pocket&quot;</span>] <span style="color: #666666">=</span> pocket

        <span style="color: #008000; font-weight: bold">return</span> INTERP_OK
    <span style="color: #008000; font-weight: bold">except</span> <span style="color: #D2413A; font-weight: bold">Exception</span>, e:
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&quot;T</span><span style="color: #BB6688; font-weight: bold">%d</span><span style="color: #BA2121">/prepare_prolog: </span><span style="color: #BB6688; font-weight: bold">%s</span><span style="color: #BA2121">&quot;</span> <span style="color: #666666">%</span> (<span style="color: #008000">int</span>(words[<span style="color: #BA2121">&#39;t&#39;</span>]), e)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The minimal ngc prepare procedure again looks like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="{basebackend@docbook:'':ngc}">o&lt;prepare&gt; sub
; returning a positive value to commit:
o&lt;prepare&gt; endsub [1]
m2</code></pre>
</div>
</div>
<div class="paragraph">
<p>And the epilog:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">prepare_epilog</span>(<span style="color: #008000">self</span>, <span style="color: #666666">**</span>words):
    <span style="color: #008000; font-weight: bold">try</span>:
        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>return_value <span style="color: #666666">&gt;</span> <span style="color: #666666">0</span>:
            <span style="color: #008000">self</span><span style="color: #666666">.</span>selected_tool <span style="color: #666666">=</span> <span style="color: #008000">int</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>params[<span style="color: #BA2121">&quot;tool&quot;</span>])
            <span style="color: #008000">self</span><span style="color: #666666">.</span>selected_pocket <span style="color: #666666">=</span> <span style="color: #008000">int</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>params[<span style="color: #BA2121">&quot;pocket&quot;</span>])
            emccanon<span style="color: #666666">.</span>SELECT_POCKET(<span style="color: #008000">self</span><span style="color: #666666">.</span>selected_pocket, <span style="color: #008000">self</span><span style="color: #666666">.</span>selected_tool)
            <span style="color: #008000; font-weight: bold">return</span> INTERP_OK
        <span style="color: #008000; font-weight: bold">else</span>:
            <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&quot;T</span><span style="color: #BB6688; font-weight: bold">%d</span><span style="color: #BA2121">: aborted (return code </span><span style="color: #BB6688; font-weight: bold">%.1f</span><span style="color: #BA2121">)&quot;</span> <span style="color: #666666">%</span> (<span style="color: #008000">int</span>(<span style="color: #008000">self</span><span style="color: #666666">.</span>params[<span style="color: #BA2121">&quot;tool&quot;</span>]),<span style="color: #008000">self</span><span style="color: #666666">.</span>return_value)

    <span style="color: #008000; font-weight: bold">except</span> <span style="color: #D2413A; font-weight: bold">Exception</span>, e:
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&quot;T</span><span style="color: #BB6688; font-weight: bold">%d</span><span style="color: #BA2121">/prepare_epilog: </span><span style="color: #BB6688; font-weight: bold">%s</span><span style="color: #BA2121">&quot;</span> <span style="color: #666666">%</span> (tool,e)</code></pre>
</div>
</div>
<div class="paragraph">
<p>prepare_prolog and prepare_epilog are part of the 'standard glue'
provided by 'nc_files/remap_lib/python-stdglue/stdglue.py'.
This module is intended to cover most
standard remapping situations in a common way.</p>
</div>
</div>
<div class="sect2">
<h3 id="error-handling-dealing-with-abort">Error handling: dealing with abort</h3>
<div class="paragraph">
<p>The builting toolchange procedure has some precautions for dealing
with a program abort (e.g. hitting Escape in Axis during a
change). Your remapped function has none of this, therefore some
explicit cleanup might be needed if a remapped code is aborted. In
particular, a remap procedure might establish modal settings which are
undesirable to have active after an abort. For instance, if your
remap procedure has motion codes (G0,G1,G38..) and the remap is
aborted, then the last modal code will remain active. However, you
very likely want to have any modal motion canceled when the remap is
aborted.</p>
</div>
<div class="paragraph">
<p>The way to do this is by using the <code>[RS274NGC]ON_ABORT_COMMAND</code>
feature. This ini option specifies a O-word procedure call which is
executed if task for some reason aborts program execution.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="{basebackend@docbook:'':ini}">[RS274NGC]
ON_ABORT_COMMAND=O &lt;on_abort&gt; call</code></pre>
</div>
</div>
<div class="paragraph">
<p>The suggested on_abort procedure would look like so (adapt to
your needs):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="{basebackend@docbook:'':ngc}">o&lt;on_abort&gt; sub

G54 (origin offsets are set to the default)
G17 (select XY plane)
G90 (absolute)
G94 (feed mode: units/minute)
M48 (set feed and speed overrides)
G40 (cutter compensation off)
M5  (spindle off)
G80 (cancel modal motion)
M9  (mist and coolant off)

o&lt;on_abort&gt; endsub
m2</code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
Never use an <code>M2</code> in a O-word subroutine, including this
one. It will cause hard-to-find errors. For instance, using an <code>M2</code> in
a subroutine will not end the subroutine properly and will leave the
subroutine NGC file open, not your main program.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Make sure <code>on_abort.ngc</code> is along the interpreter search path
(recommended location: <code>SUBROUTINE_PATH</code> so as not to clutter your
<code>NC_FILES</code> directory with internal procedures). <code>on_abort</code> receives a
single parameter indicating the cause for calling the abort procedure,
which might be used for conditional cleanup.</p>
</div>
<div class="paragraph">
<p>Statements in that procedure typically would assure that post-abort
any state has been cleaned up, like HAL pins properly reset. For an
example, see <code>configs/sim/axis/remap/rack-toolchange</code>.</p>
</div>
<div class="paragraph">
<p>Note that terminating a remapped code by returning INTERP_ERROR from
the epilog (see previous section) will also cause the <code>on_abort</code> procedure
to be called.</p>
</div>
</div>
<div class="sect2">
<h3 id="error-handling-failing-a-remapped-code-ngc-procedure">Error handling: failing a remapped code NGC procedure</h3>
<div class="paragraph">
<p>If you determine in your handler procedure that some error condition
occurred, do not use <code>M2</code> to end your handler - see above:</p>
</div>
<div class="paragraph">
<p>If displaying an operator error message and stopping the current program is
good enough, use the <code>(abort, &lt;message&gt;)</code> feature to terminate the handler with an
error message. Note that you can subsitute numbered, named, ini and
HAL parameters in the text like
in this example (see also <code>tests/interp/abort-hot-comment/test.ngc</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="{basebackend@docbook:'':ngc}">o100 if [..] (some error condition)
     (abort, Bad Things! p42=#42 q=#&lt;q&gt; ini=#&lt;_ini[a]x&gt; pin=#&lt;_hal[component.pin])
o100 endif</code></pre>
</div>
</div>
<div class="paragraph">
<p>NB: ini and HAL variable expansion need explicit enabling with
<a href="#sub:ini-features">FEATURE</a>.</p>
</div>
<div class="paragraph">
<p>If more fine grained recovery action is needed, use the idiom
laid out in the previous example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>define an epilog function, even if it&#8217;s just to signal an error
condition</p>
</li>
<li>
<p>pass a negative value from the handler to signal
the error</p>
</li>
<li>
<p>inspect the return value in the epilog function.</p>
</li>
<li>
<p>take any recovery action needed</p>
</li>
<li>
<p>return the error message string from the handler, which will set the
interpreter error message and abort the program (pretty much like
<code>(abort, message=</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This error message will be displayed in the UI, and returning
INTERP_ERROR will cause this error handled like any other runtime error.</p>
</div>
<div class="paragraph">
<p>Note that both <code>(abort, msg)</code> and returning INTERP_ERROR from an
epilog will cause any ON_ABORT handler to be called as well if defined
(see previous section).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="remapping-other-existing-codes-s-m0-m1-m60">Remapping other existing codes: S, M0, M1, M60</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="automatic-gear-selection-be-remapping-s-set-spindle-speed">Automatic gear selection be remapping  S (set spindle speed)</h3>
<div class="paragraph">
<p>A potential use for a remapped S code would be 'automatic gear
selection' depending on speed. In the remap procedure one would test
for the desired speed attainable given the current gear setting, and
change gears appropriately if not.</p>
</div>
</div>
<div class="sect2">
<h3 id="adjusting-the-behaviour-of-m0-m1-m60">Adjusting the behaviour of M0, M1, M60</h3>
<div class="paragraph">
<p>A use case for remapping M0/M1 would be to customize the behaviour of
the existing code. For instance, it could be desirable to turn off the
spindle, mist and flood during an M0 or M1 program pause, and turn
these settings back on when the program is resumed.</p>
</div>
<div class="paragraph">
<p>For a complete example doing just that, see
'configs/sim/axis/remap/extend-builtins/', which adapts M1 as laid out above.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="remap:G-code-cycles">Creating new G-code cycles</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A G-code cycle as used here is meant to behave as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>On first invocation, the associated words are collected and the
G-code cycle is executed.</p>
</li>
<li>
<p>If subsequent lines just continue parameter words applicable to this
code, but no new G-code, the previous G code is reeexecuted with the
parameters changed accordingly.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An example: Assume you have <code>G84.3</code> defined as remapped G code cycle
with the following ini segment (see <a href="#sec::cycle-stdglue">here</a> for
a detailed description of cycle_prolog and cycle_epilog):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="{basebackend@docbook:'':ini}">[RS274NGC]
# A cycle with an oword procedure: G84.3 &lt;X- Y- Z- Q- P-&gt;
REMAP=G84.3 argspec=xyzabcuvwpr prolog=cycle_prolog ngc=g843 epilog=cycle_epilog modalgroup=1</code></pre>
</div>
</div>
<div class="paragraph">
<p>Executing the following lines:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="{basebackend@docbook:'':ngc}">g17
(1)   g84.3 x1 y2 z3  r1
(2)   x3 y4 p2
(3)   x6 y7 z5
(4)   G80</code></pre>
</div>
</div>
<div class="paragraph">
<p>causes the following (note 'R' is sticky, and 'Z' is sticky since the plane is 'XY'):</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>g843.ngc</code> is called with words x=1, y=2, z=3, r=1</p>
</li>
<li>
<p><code>g843.ngc</code> is called with words x=3, y=4, z=3, p=2, r=1</p>
</li>
<li>
<p><code>g843.ngc</code> is called with words x=6, y=7, z=3, r=1</p>
</li>
<li>
<p>The <code>G84.3</code> cycle is cancelled.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Besides creating new cycles, this provides an easy method for
repackaging existing G-codes which do not behave as cycles. For
instance, the <code>G33.1</code> Rigid Tapping code does not behave as a
cycle. With such a wrapper, a new code can be easily created which
uses <code>G33.1</code> but behaves as a cycle.</p>
</div>
<div class="paragraph">
<p>See 'configs/sim/axis/remap/cycle' for a complete example of this
feature. It contains two cycles, one with an NGC procedure like above,
and a cycle example using just Python.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="remap:embedded-Python">Configuring  Embedded Python</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Python plugin serves both the interpreter, and task if so
configured, and hence has its own section <code>PYTHON</code> in the ini file.</p>
</div>
<div class="sect2">
<h3 id="python-plugin-ini-file-configuration">Python plugin : ini file configuration</h3>
<div class="paragraph">
<p><code>[PYTHON]</code></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">`TOPLEVEL=&#8217;&lt;filename&gt;'</dt>
<dd>
<p>filename of the initial Python script to execute on
startup. This script is responsible for setting up the package
name structure, see below.</p>
</dd>
<dt class="hdlist1">`PATH_PREPEND=&#8217;&lt;directory&gt;'</dt>
<dd>
<p>prepend this directory to <code>PYTHON_PATH</code>. A repeating
group.</p>
</dd>
<dt class="hdlist1">`PATH_APPEND=&#8217;&lt;directory&gt;'</dt>
<dd>
<p>append this directory to <code>PYTHON_PATH</code>. A repeating
group.</p>
</dd>
<dt class="hdlist1">`LOG_LEVEL=&#8217;&lt;integer&gt;'</dt>
<dd>
<p>log level of plugin-related actions. Increase this if you
suspect problems. Can be very verbose.</p>
</dd>
<dt class="hdlist1"><code>RELOAD_ON_CHANGE</code>='[0|1]'</dt>
<dd>
<p>reload the 'TOPLEVEL' script if the file was changed. Handy
for debugging but currently incurs some runtime overhead. Turn
this off for production configurations.</p>
</dd>
<dt class="hdlist1"><code>PYTHON_TASK</code>='[0|1]'</dt>
<dd>
<p>Start the Python task plugin. Experimental. See xxx.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="remap::executing-Python-statements">Executing Python statements from the interpreter</h3>
<div class="paragraph">
<p>For ad-hoc execution of commands the Python 'hot comment' has been
added. Python output by default goes to stdout, so you need to start
Machinekit from a terminal window to see results. Example (eg. in the
MDI window):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>;py,print 2*3</pre>
</div>
</div>
<div class="paragraph">
<p>Note that the interpreter instance is available here as <code>self</code>, so you
could also run:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>;py,print self.tool_table[0].toolno</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>emcStatus</code> structure is accessible, too:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>;py,from emctask import *
;py,print emcstat.io.aux.estop</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec:Programming-Embedded-Python">Programming Embedded Python in the RS274NGC Interpreter</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="the-python-plugin-namespace">The Python plugin namespace</h3>
<div class="paragraph">
<p>The namespace is expected to be laid out as follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>oword</code></dt>
<dd>
<p>Any callables in this module are candidates for Python O-word
procedures. Note that the Python <code>oword</code> module is checked
<strong>before</strong> testing for a NGC procedure with the same name - in
effect names in <code>oword</code> will hide NGC files of the same
basename.</p>
</dd>
<dt class="hdlist1"><code>remap</code></dt>
<dd>
<p>Python callables referenced in an argspec <code>prolog</code>,<code>epilog</code> or
<code>python</code> option are expected to be found here.</p>
</dd>
<dt class="hdlist1"><code>namedparams</code></dt>
<dd>
<p>Python funtcions int this module extend or redefine the namespace of
predefined named parameters, see
<a href="#sec:Adding-Predefined-Named-Parameters">adding predefined parameters</a>.</p>
</dd>
<dt class="hdlist1"><code>task</code></dt>
<dd>
<p>Task-related callables are expected here.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="the-interpreter-as-seen-from-python">The Interpreter as seen from Python</h3>
<div class="paragraph">
<p>The interpreter is an existing C++ class ('Interp') defined in
'src/emc/rs274ngc'. Conceptually all <code>oword.&lt;function&gt;</code> and
<code>remap.&lt;function&gt;</code> Python calls are methods of this Interp class,
although there is no explicit Python definition of this class (it&#8217;s a
'Boost.Python' wrapper instance) and hence receive the as the first
parameter <code>self</code> which can be used to access internals.</p>
</div>
</div>
<div class="sect2">
<h3 id="the-interpreter-code-em-init-em-code-and-code-em-delete-em-code-functions">The Interpreter <code><em>init</em></code> and <code><em>delete</em></code> functions</h3>
<div class="paragraph">
<p>If the <code>TOPLEVEL</code>  module defines a function <code><em>init</em></code>, it will be
called once the interpreter is fully configured (ini file read, and
state synchronized with the world model).</p>
</div>
<div class="paragraph">
<p>If the <code>TOPLEVEL</code>  module defines a function <code><em>delete</em></code>, it will be
called once before the interpreter is shutdown and after the persistent
parameters have been saved to the <code>PARAMETER_FILE</code>.</p>
</div>
<div class="paragraph">
<p>Note_ at this time, the <code><em>delete</em></code> handler does not work for
interpreter instances created by importing the <code>gcode</code> module. If you
need an equivalent functionality there (which is quite unlikely),
please consider the Python <code>atexit</code> module.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span style="color: #408080; font-style: italic"># this would be defined in the TOPLEVEL module</span>

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__init__</span>(<span style="color: #008000">self</span>):
    <span style="color: #408080; font-style: italic"># add any one-time initialisation here</span>
    <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>task:
	<span style="color: #408080; font-style: italic"># this is the milltask instance of interp</span>
	<span style="color: #008000; font-weight: bold">pass</span>
    <span style="color: #008000; font-weight: bold">else</span>:
	<span style="color: #408080; font-style: italic"># this is a non-milltask instance of interp</span>
        <span style="color: #008000; font-weight: bold">pass</span>

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">__delete__</span>(<span style="color: #008000">self</span>):
    <span style="color: #408080; font-style: italic"># add any cleanup/state saving actions here</span>
    <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">self</span><span style="color: #666666">.</span>task: <span style="color: #408080; font-style: italic"># as above</span>
	<span style="color: #008000; font-weight: bold">pass</span>
    <span style="color: #008000; font-weight: bold">else</span>:
        <span style="color: #008000; font-weight: bold">pass</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This function may be used to initialize any Python-side attributes
which might be needed later, for instance in remap or oword
functions, and save or restore state beyond what <code>PARAMETER_FILE</code> provides.</p>
</div>
<div class="paragraph">
<p>If there are setup or cleanup actions which are to happen only in the
milltask Interpreter instance (as opposed to the interpreter instance
which sits in the <code>gcode</code> Python module and serves preview/progress
display purposes but nothing else), this can be tested for by
<a href="#cha:Axis-Preview-and-Remapped-code-execution">evaluating
'self.task'</a>.</p>
</div>
<div class="paragraph">
<p>An example use of <code><em>init</em></code> and <code><em>delete</em></code> can be found in
'configs/sim/axis/remap/cycle/python/toplevel.py' initialising attributes
needed to handle cycles in 'ncfiles/remap_lib/python-stdglue/stdglue.py'
(and imported into 'configs/sim/axis/remap/cycle/python/remap.py').</p>
</div>
</div>
<div class="sect2">
<h3 id="calling-conventions-ngc-to-python">Calling conventions: NGC to Python</h3>
<div class="paragraph">
<p>Python code is called from NGC in the following situations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>during normal program execution:</p>
<div class="ulist">
<ul>
<li>
<p>when an O-word call like <code>O&lt;proc&gt; call</code> is executed and the name
<code>oword.proc</code> is defined and callable</p>
</li>
<li>
<p>when a comment like <code>;py,&lt;Python statement&gt;</code> is executed</p>
</li>
</ul>
</div>
</li>
<li>
<p>during execution of a remapped code: any <code>prolog=</code>, <code>python=</code> and
<code>epilog=</code> handlers.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="remap:Python-O-word-procs">Calling O-word Python subroutines</h4>
<div class="paragraph">
<p>Arguments:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>self</code></dt>
<dd>
<p>the interpreter instance</p>
</dd>
<dt class="hdlist1"><code>*args</code></dt>
<dd>
<p>the list of actual positional parameters. Since the number
of actual parameters may vary, it is best to use this style of declaration:</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span style="color: #408080; font-style: italic"># this would be defined in the oword module</span>
<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">mysub</span>(<span style="color: #008000">self</span>, <span style="color: #666666">*</span>args):
    <span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&quot;number of parameters passed:&quot;</span>, <span style="color: #008000">len</span>(args)
    <span style="color: #008000; font-weight: bold">for</span> a <span style="color: #AA22FF; font-weight: bold">in</span> args:
	<span style="color: #008000; font-weight: bold">print</span> a</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="return-values-of-o-word-python-subroutines">Return values of O-word Python subroutines</h4>
<div class="paragraph">
<p>Just as NGC procedures may return values, so do O-word Python
subroutines. They are expected to either:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>return no value (no <code>return</code> statement or the value <code>None</code>)</p>
</li>
<li>
<p>a float or int value</p>
</li>
<li>
<p>a string, this  means 'this is an error message, abort the program'. Works like <code>(abort, msg)</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Any other return value type will raise a Python exception.</p>
</div>
<div class="paragraph">
<p>In a calling NGC environment, the follwing predefined named parameters
are available:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>#&lt;_value&gt;</code></dt>
<dd>
<p>value returned by the last procedure called. Initialized
to 0.0 on startup. Exposed in Interp as <code>self.return_value</code> (float).</p>
</dd>
<dt class="hdlist1"><code>#&lt;_value_returned&gt;</code></dt>
<dd>
<p>indicates the last procedure called did <code>return`or
`endsub</code> with an explicit value. 1.0 if true. Set to 0.0 on each <code>call</code>. Exposed
in Interp was  <code>self.value_returned</code> (int).</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>See also <code>tests/interp/value-returned</code> for an example.</p>
</div>
</div>
<div class="sect3">
<h4 id="calling-conventions-for-prolog-and-epilog-subroutines">Calling conventions for 'prolog=' and 'epilog=' subroutines</h4>
<div class="paragraph">
<p>Arguments are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>self</code></dt>
<dd>
<p>the interpreter instance</p>
</dd>
<dt class="hdlist1"><code>words</code></dt>
<dd>
<p>keyword parameter dictionary. If an argspec was present, words
are collected from the current block accordingly and passed in
the dictionary for  convenience (the words could as well be
retrieved directly from the  calling block, but this requires
more knowledge of interpreter internals). If no argspec was
passed, or only optional values were specified and none of
these was present in the calling block, this dict is
empty. Word names are converted to lowercase.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Example call:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">minimal_prolog</span>(<span style="color: #008000">self</span>, <span style="color: #666666">**</span>words): <span style="color: #408080; font-style: italic"># in remap module</span>
    <span style="color: #008000; font-weight: bold">print</span> <span style="color: #008000">len</span>(words),<span style="color: #BA2121">&quot; words passed&quot;</span>
    <span style="color: #008000; font-weight: bold">for</span> w <span style="color: #AA22FF; font-weight: bold">in</span> words:
        <span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&quot;</span><span style="color: #BB6688; font-weight: bold">%s</span><span style="color: #BA2121">: </span><span style="color: #BB6688; font-weight: bold">%s</span><span style="color: #BA2121">&quot;</span> <span style="color: #666666">%</span> (w, words[w])
    <span style="color: #008000; font-weight: bold">if</span> words[<span style="color: #BA2121">&#39;p&#39;</span>] <span style="color: #666666">&lt;</span> <span style="color: #666666">78</span>: <span style="color: #408080; font-style: italic"># NB: could raise an exception if p were optional</span>
       <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&quot;failing miserably&quot;</span>
    <span style="color: #008000; font-weight: bold">return</span> INTERP_OK</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return values:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>INTERP_OK</code></dt>
<dd>
<p>return this on success. You need to import this from
<code>interpreter</code>.</p>
</dd>
<dt class="hdlist1"><code>"a message text"</code></dt>
<dd>
<p>returning a string from a handler means 'this is
an error message, abort the program'. Works like <code>(abort, msg)</code>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>.</p>
</div>
</div>
<div class="sect3">
<h4 id="calling-conventions-for-python-subroutines">Calling conventions for 'python=' subroutines</h4>
<div class="paragraph">
<p>Arguments are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>self</code></dt>
<dd>
<p>the interpreter instance</p>
</dd>
<dt class="hdlist1"><code>words</code></dt>
<dd>
<p>keyword parameter dictionary. the same  kwargs dictionary as
prologs and epilogs (see above).</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The minimum <code>python=</code> function example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">useless</span>(<span style="color: #008000">self</span>,  <span style="color: #666666">**</span>words): <span style="color: #408080; font-style: italic"># in remap module</span>
    <span style="color: #008000; font-weight: bold">return</span> INTERP_OK</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return values:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>INTERP_OK</code></dt>
<dd>
<p>return this on success</p>
</dd>
<dt class="hdlist1"><code>"a message text"</code></dt>
<dd>
<p>returning a string from a handler means 'this is
an error message, abort the program'. Works like <code>(abort, msg)</code>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If the handler needs to execute a 'queuebuster
operation' (tool change, probe, HAL pin reading) it is supposed
to suspend execution with the following statement:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>yield INTERP_EXECUTE_FINISH</code></dt>
<dd>
<p>      This signals task to stop readahead, execute all
      queued operations, execute the 'queuebuster' operation,
      synchronize interpreter state with machine state, and th	en signal
the interpreter to continue. At this point the function is
resumed at the statement following the <code>yield ..</code> statement.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="dealing-with-queuebuster-probe-toolchange-and-waiting-for-a-hal-pin">Dealing with queuebuster: Probe, Toolchange and waiting for a HAL pin</h4>
<div class="paragraph">
<p>Queue busters interrupt a procedure at the point where such an
operation is called, hence the procedure needs to be restarted
after the interpreter synch(). When this happens the procedure needs to
know if it is restarted, and where to continue. The Python generator
method is used to deal with procedure restart.</p>
</div>
<div class="paragraph">
<p>This demonstrates call continuation with a single point-of-restart:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">read_pin</span>(<span style="color: #008000">self</span>,<span style="color: #666666">*</span>args):
    <span style="color: #408080; font-style: italic"># wait 5secs for digital-input 00 to go high</span>
    emccanon<span style="color: #666666">.</span>WAIT(<span style="color: #666666">0</span>,<span style="color: #666666">1</span>,<span style="color: #666666">2</span>,<span style="color: #666666">5.0</span>)
    <span style="color: #408080; font-style: italic"># cede control after executing the queue buster:</span>
    <span style="color: #008000; font-weight: bold">yield</span> INTERP_EXECUTE_FINISH
    <span style="color: #408080; font-style: italic"># post-sync() execution resumes here:</span>
    pin_status <span style="color: #666666">=</span> emccanon<span style="color: #666666">.</span>GET_EXTERNAL_DIGITAL_INPUT(<span style="color: #666666">0</span>,<span style="color: #666666">0</span>);
    <span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&quot;pin status=&quot;</span>,pin_status</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
The 'yield' feature is fragile. The following restrictions
apply to the usage of 'yield INTERP_EXECUTE_FINISH':
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Python code executing a 'yield INTERP_EXECUTE_FINISH' must be part
of a remap procedure. Yield does not work in a Python oword procedure.</p>
</li>
<li>
<p>A Python remap subroutine containing 'yield INTERP_EXECUTE_FINISH' statement may
not return a value, as with normal Python yield statements.</p>
</li>
<li>
<p>Code following a yield may not recursively call the interpreter, like with
self.execute("&lt;mdi command&gt;"). This is an architectural restriction
of the interpreter and is not fixable without a major redesign.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="calling-conventions-python-to-ngc">Calling conventions: Python to NGC</h3>
<div class="paragraph">
<p>NGC code is executed from Python when:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the method <code>self.execute(&lt;NGC code&gt;[,&lt;line number&gt;])</code> is executed</p>
</li>
<li>
<p>during execution of a remapped code, if a <code>prolog=</code> function is
defined, the NGC procedure given in <code>ngc=</code> is executed immediately
thereafter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The prolog handler does not call the handler, but it prepares its call
environment, for instance by setting up predefined local parameters.</p>
</div>
<div class="sect3">
<h4 id="inserting-parameters-in-a-prolog-and-retrieving-them-in-an-epilog">Inserting parameters in a prolog, and retrieving  them in an epilog</h4>
<div class="paragraph">
<p>Conceptually a prolog and an epilog execute at the same call level
like the O-word procedure, that is: after the subroutine call is set
up, and before the subroutine endsub or return.</p>
</div>
<div class="paragraph">
<p>This means that any local variable created in a prolog will be a local
variable in the O-word procedure, and any local variables created in
the O-word procedure are still accessible when the epilog executes.</p>
</div>
<div class="paragraph">
<p>The <code>self.params</code> array handles reading and setting numbered and named
parameters. If a named parameter begins with <code>_</code> (underscore), it is
assumed to be a global parameter; if not, it is local to the calling
procedure. Also, numbered parameters in the range 1..30 are treated
like local variables; their original values are restored on
return/endsub from an O-word procedure.</p>
</div>
<div class="paragraph">
<p>Here is an example remapped code demonstrating insertion and
extraction of parameters into/from the O-word procedure:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>REMAP=m300 prolog=insert_param ngc=testparam epilog=retrieve_param modalgroup=10</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">insert_param</span>(<span style="color: #008000">self</span>, <span style="color: #666666">**</span>words): <span style="color: #408080; font-style: italic"># in the remap module</span>
    <span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&quot;insert_param call level=&quot;</span>,<span style="color: #008000">self</span><span style="color: #666666">.</span>call_level
    <span style="color: #008000">self</span><span style="color: #666666">.</span>params[<span style="color: #BA2121">&quot;myname&quot;</span>] <span style="color: #666666">=</span> <span style="color: #666666">123</span>
    <span style="color: #008000">self</span><span style="color: #666666">.</span>params[<span style="color: #666666">1</span>] <span style="color: #666666">=</span> <span style="color: #666666">345</span>
    <span style="color: #008000">self</span><span style="color: #666666">.</span>params[<span style="color: #666666">2</span>] <span style="color: #666666">=</span> <span style="color: #666666">678</span>
    <span style="color: #008000; font-weight: bold">return</span> INTERP_OK

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">retrieve_param</span>(<span style="color: #008000">self</span>, <span style="color: #666666">**</span>words):
    <span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&quot;retrieve_param call level=&quot;</span>,<span style="color: #008000">self</span><span style="color: #666666">.</span>call_level
    <span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&quot;#1=&quot;</span>, <span style="color: #008000">self</span><span style="color: #666666">.</span>params[<span style="color: #666666">1</span>]
    <span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&quot;#2=&quot;</span>, <span style="color: #008000">self</span><span style="color: #666666">.</span>params[<span style="color: #666666">2</span>]
    <span style="color: #008000; font-weight: bold">try</span>:
        <span style="color: #008000; font-weight: bold">print</span> <span style="color: #BA2121">&quot;result=&quot;</span>, <span style="color: #008000">self</span><span style="color: #666666">.</span>params[<span style="color: #BA2121">&quot;result&quot;</span>]
    <span style="color: #008000; font-weight: bold">except</span> <span style="color: #D2413A; font-weight: bold">Exception</span>,e:
	<span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&quot;testparam forgot to assign #&lt;result&gt;&quot;</span>
    <span style="color: #008000; font-weight: bold">return</span> INTERP_OK</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="{basebackend@docbook:'':ngc}">o&lt;testparam&gt; sub
(debug, call_level=#&lt;_call_level&gt; myname=#&lt;myname&gt;)
; try commenting out the next line and run again
#&lt;result&gt; = [#&lt;myname&gt; * 3]
#1 = [#1 * 5]
#2 = [#2 * 3]
o&lt;testparam&gt; endsub
m2</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>self.params()</code> returns a list of all variable names currently defined.
Since <code>myname</code> is local, it goes away after the epilog finishes.</p>
</div>
</div>
<div class="sect3">
<h4 id="calling-the-interpreter-from-python">Calling the interpreter from Python</h4>
<div class="paragraph">
<p>You can recursively call the interpreter from Python code as follows:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>self.execute(&lt;NGC code&gt;[,&lt;line number&gt;])</pre>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python">  <span style="color: #008000">self</span><span style="color: #666666">.</span>execute(<span style="color: #BA2121">&quot;G1 X</span><span style="color: #BB6688; font-weight: bold">%f</span><span style="color: #BA2121"> Y</span><span style="color: #BB6688; font-weight: bold">%f</span><span style="color: #BA2121">&quot;</span> <span style="color: #666666">%</span> (x,y))
  <span style="color: #008000">self</span><span style="color: #666666">.</span>execute(<span style="color: #BA2121">&quot;O &lt;myprocedure&gt; call&quot;</span>, currentline)</code></pre>
</div>
</div>
<div class="paragraph">
<p>You might want to test for the return value being <code>&lt;
INTERP_MIN_ERROR</code>. If you&#8217;re using lots of execute() statements, it&#8217;s
probably easier to trap InterpreterException as per below.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<div class="title">Caution</div>
</td>
<td class="content">
The parameter insertion/retrieval method described in the previous section does not
work in this case. It is good enough for just executing simple NGC
commands or a procedure call and advanced introspection into the
procedure, and passing of local named parameters is not needed. The
recursive call feature is fragile.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="interpreter-exception-during-execute">Interpreter Exception during execute()</h4>
<div class="paragraph">
<p>if <code>interpreter.throw_exceptions</code> is nonzero (default 1), and self.execute() returns an error, the exception
<code>InterpreterException</code> is raised. InterpreterException has the
following attributes:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>line_number</code></dt>
<dd>
<p>where the error occured</p>
</dd>
<dt class="hdlist1"><code>line_text</code></dt>
<dd>
<p>the NGC statement causing the error</p>
</dd>
<dt class="hdlist1"><code>error_message</code></dt>
<dd>
<p>the interpreter&#8217;s error message</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Errors can be trapped in the following Pythonic way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">interpreter</span>
interpreter<span style="color: #666666">.</span>throw_exceptions <span style="color: #666666">=</span> <span style="color: #666666">1</span>
   <span style="color: #666666">...</span>
   <span style="color: #008000; font-weight: bold">try</span>:
        <span style="color: #008000">self</span><span style="color: #666666">.</span>execute(<span style="color: #BA2121">&quot;G3456&quot;</span>)  <span style="color: #408080; font-style: italic">#  raise InterpreterException</span>

   <span style="color: #008000; font-weight: bold">except</span> InterpreterException,e:
        msg <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;</span><span style="color: #BB6688; font-weight: bold">%d</span><span style="color: #BA2121">: &#39;</span><span style="color: #BB6688; font-weight: bold">%s</span><span style="color: #BA2121">&#39; - </span><span style="color: #BB6688; font-weight: bold">%s</span><span style="color: #BA2121">&quot;</span> <span style="color: #666666">%</span> (e<span style="color: #666666">.</span>line_number,e<span style="color: #666666">.</span>line_text, e<span style="color: #666666">.</span>error_message)
        <span style="color: #008000; font-weight: bold">return</span> msg  <span style="color: #408080; font-style: italic"># replace builtin error message</span>
<span style="color: #666666">---------------------------------------------------------------------</span>
<span style="color: #666666">//</span> NOTE: to iterate <span style="color: #AA22FF; font-weight: bold">is</span> human, to recurse: divine<span style="color: #666666">.</span>

<span style="color: #666666">====</span> Canon
The canon layer <span style="color: #AA22FF; font-weight: bold">is</span> practically <span style="color: #008000">all</span> free functions<span style="color: #666666">.</span> Example:
[source,python]
<span style="color: #666666">---------------------------------------------------------------------</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">emccanon</span>
<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">example</span>(<span style="color: #008000">self</span>,<span style="color: #666666">*</span>args):
    <span style="color: #666666">....</span>
    emccanon<span style="color: #666666">.</span>STRAIGHT_TRAVERSE(line,x0,y0,z0,<span style="color: #666666">0</span>,<span style="color: #666666">0</span>,<span style="color: #666666">0</span>,<span style="color: #666666">0</span>,<span style="color: #666666">0</span>,<span style="color: #666666">0</span>)
    emccanon<span style="color: #666666">.</span>STRAIGHT_FEED(line,x1,y1,z1,<span style="color: #666666">0</span>,<span style="color: #666666">0</span>,<span style="color: #666666">0</span>,<span style="color: #666666">0</span>,<span style="color: #666666">0</span>,<span style="color: #666666">0</span>)
    <span style="color: #666666">...</span>
    <span style="color: #008000; font-weight: bold">return</span> INTERP_OK
<span style="color: #666666">---------------------------------------------------------------------</span>

The actual canon functions are declared <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #BA2121">`src/emc/nml_intf/canon.hh`</span>
<span style="color: #AA22FF; font-weight: bold">and</span> implemented <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #BA2121">`src/emc/task/emccanon.cc`</span><span style="color: #666666">.</span>  The implementation of
the Python functions can be found <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #BA2121">`src/emc/rs274ncg/canonmodule.cc`</span><span style="color: #666666">.</span>

<span style="color: #666666">===</span> Builtin modules
The following modules are builtin:

<span style="color: #BA2121">`interpreter`</span>::
	exposes internals of the Interp class<span style="color: #666666">.</span> See
	 <span style="color: #BA2121">`src/emc/rs274ngc/interpmodule.cc`</span>, <span style="color: #AA22FF; font-weight: bold">and</span> the
	<span style="color: #BA2121">`tests/remap/introspect`</span> regression test<span style="color: #666666">.</span>

<span style="color: #BA2121">`emccanon`</span>::
	exposes most calls of  <span style="color: #BA2121">`src/emc/task/emccanon.cc`</span><span style="color: #666666">.</span>

<span style="color: #BA2121">`emctask`</span>::
	exposes the <span style="color: #BA2121">`emcStatus`</span> <span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">instance</span><span style="color: #666666">.</span> See  <span style="color: #BA2121">`src/emc/task/taskmodule.cc`</span><span style="color: #666666">.</span>
	Not present when using the <span style="color: #BA2121">`gcode`</span> module used <span style="color: #008000; font-weight: bold">for</span> user
	interfaces <span style="color: #666666">-</span> only present <span style="color: #AA22FF; font-weight: bold">in</span> the milltask instance of the interpreter<span style="color: #666666">.</span>

<span style="color: #666666">==</span> Adding Predefined Named Parameters [[sec:Adding<span style="color: #666666">-</span>Predefined<span style="color: #666666">-</span>Named<span style="color: #666666">-</span>Parameters]]

The interpreter comes <span style="color: #008000; font-weight: bold">with</span> a <span style="color: #008000">set</span> of <span style="color: #666666">&lt;&lt;</span>sec:Predefined<span style="color: #666666">-</span>Named<span style="color: #666666">-</span>Parameters,predefined named parameters<span style="color: #666666">&gt;&gt;</span> <span style="color: #008000; font-weight: bold">for</span>
accessing internal state <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">the</span> <span style="color: #0000FF; font-weight: bold">NGC</span> <span style="color: #0000FF; font-weight: bold">language</span> <span style="color: #0000FF; font-weight: bold">level.</span> <span style="color: #0000FF; font-weight: bold">These</span> <span style="color: #0000FF; font-weight: bold">parameters</span>
are read<span style="color: #666666">-</span>only <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #008000; font-weight: bold">global</span>, <span style="color: #AA22FF; font-weight: bold">and</span> hence cannot be assigned to<span style="color: #666666">.</span>

Additional parameters may be added by defining a function <span style="color: #AA22FF; font-weight: bold">in</span> the
<span style="color: #BA2121">`namedparams`</span> module<span style="color: #666666">.</span> The name of the function defines the name of the
new predefined named parameter, which now can be referenced <span style="color: #AA22FF; font-weight: bold">in</span>
arbitrary expressions<span style="color: #666666">.</span>

To add <span style="color: #AA22FF; font-weight: bold">or</span> redefine a named parameter:

<span style="color: #666666">*</span> add a <span style="color: #BA2121">`namedparams`</span> module so it can be found by the interpreter
<span style="color: #666666">*</span> define new parameters by functions (see below)<span style="color: #666666">.</span> These functions
 receive <span style="color: #BA2121">`self`</span> (the interpreter instance) <span style="color: #008000; font-weight: bold">as</span> parameter <span style="color: #AA22FF; font-weight: bold">and</span> so can
 access aribtrary state<span style="color: #666666">.</span> Arbitrary Python capabilities can be used to <span style="color: #008000; font-weight: bold">return</span> a value<span style="color: #666666">.</span>
<span style="color: #666666">*</span> <span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">that</span> <span style="color: #0000FF; font-weight: bold">module</span> <span style="color: #0000FF; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">the</span> <span style="color: #BA2121">`TOPLEVEL`</span> script

[source,python]
<span style="color: #666666">---------------------------------------------------------------------</span>
<span style="color: #408080; font-style: italic"># namedparams.py</span>
<span style="color: #408080; font-style: italic"># trivial example</span>
<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">_pi</span>(<span style="color: #008000">self</span>):
    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #666666">3.1415926535</span>
<span style="color: #666666">---------------------------------------------------------------------</span>

[source,{ngc}]
<span style="color: #666666">---------------------------------------------------------------------</span>
<span style="color: #408080; font-style: italic">#&lt;circumference&gt; = [2 * #&lt;radius&gt; * #&lt;_pi&gt;]</span>
<span style="color: #666666">---------------------------------------------------------------------</span>

Functions <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #BA2121">`namedparams.py`</span> are expected to <span style="color: #008000; font-weight: bold">return</span> a <span style="color: #008000">float</span> <span style="color: #AA22FF; font-weight: bold">or</span> <span style="color: #008000">int</span>
value<span style="color: #666666">.</span> If a string <span style="color: #AA22FF; font-weight: bold">is</span> returned, this sets the interpreter error
message <span style="color: #AA22FF; font-weight: bold">and</span> aborts execution<span style="color: #666666">.</span>

<span style="border: 1px solid #FF0000">Ò</span>nly functions <span style="color: #008000; font-weight: bold">with</span> a leading underscore are added <span style="color: #008000; font-weight: bold">as</span> parameters,
since this <span style="color: #AA22FF; font-weight: bold">is</span> the RS274NGC convention <span style="color: #008000; font-weight: bold">for</span> <span style="color: #008000">globals</span><span style="color: #666666">.</span>

It <span style="color: #AA22FF; font-weight: bold">is</span> possible to redefine an existing predefined parameter by adding
a Python function of the same name to the <span style="color: #BA2121">`namedparams`</span> module<span style="color: #666666">.</span> In
this case, a warning <span style="color: #AA22FF; font-weight: bold">is</span> generated during startup<span style="color: #666666">.</span>

While the above example isnt terribly useful, note that pretty much
<span style="color: #008000">all</span> of the interpreter internal state <span style="color: #AA22FF; font-weight: bold">is</span> accessible <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">Python</span>, so
arbitrary predicates may be defined this way<span style="color: #666666">.</span> For a slightly more
advanced example, see <span style="color: #BA2121">`tests/remap/predefined-named-params`</span><span style="color: #666666">.</span>

<span style="color: #666666">==</span> Standard Glue routines [[sec:Standard<span style="color: #666666">-</span>glue]]

Since many remapping tasks are very similar, I<span style="color: #BA2121">&#39;ve started collecting</span>
working prolog <span style="color: #AA22FF; font-weight: bold">and</span> epilog routines <span style="color: #AA22FF; font-weight: bold">in</span> a single Python module<span style="color: #666666">.</span> These
can currently be found <span style="color: #AA22FF; font-weight: bold">in</span>
<span style="color: #BA2121">&#39;ncfiles/remap_lib/python-stdglue/stdglue.py&#39;</span> <span style="color: #AA22FF; font-weight: bold">and</span> provide the
following routines:

<span style="color: #666666">===</span> T: <span style="color: #666666">+</span>prepare_prolog<span style="color: #666666">+</span> <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #666666">+</span>prepare_epilog<span style="color: #666666">+</span>

These wrap a NGC procedure <span style="color: #008000; font-weight: bold">for</span> Tx Tool Prepare<span style="color: #666666">.</span>

<span style="color: #666666">====</span> Actions of <span style="color: #666666">+</span>prepare_prolog<span style="color: #666666">+</span>

The following parameters are made visible to the NGC procedure:

<span style="color: #666666">-</span> <span style="color: #BA2121">`#&lt;tool&gt;`</span> <span style="color: #666666">-</span> the parameter of the <span style="color: #BA2121">`T`</span> word
<span style="color: #666666">-</span> <span style="color: #BA2121">`#&lt;pocket&gt;`</span> <span style="color: #666666">-</span> the corresponding pocket

If tool number zero <span style="color: #AA22FF; font-weight: bold">is</span> requested (meaning Tool unload), the
corresponding pocket <span style="color: #AA22FF; font-weight: bold">is</span> passed <span style="color: #008000; font-weight: bold">as</span> <span style="color: #666666">-1.</span>

It <span style="color: #AA22FF; font-weight: bold">is</span> an error <span style="color: #008000; font-weight: bold">if</span>:

<span style="color: #666666">-</span> no tool number <span style="color: #AA22FF; font-weight: bold">is</span> given <span style="color: #008000; font-weight: bold">as</span> T paramater
<span style="color: #666666">-</span> the tool cannot be found <span style="color: #AA22FF; font-weight: bold">in</span> the tool table<span style="color: #666666">.</span>

Note that unless you <span style="color: #008000">set</span> the <span style="color: #BA2121">`[EMCIO] RANDOM_TOOLCHANGER=1`</span> parameter,
tool <span style="color: #AA22FF; font-weight: bold">and</span> pocket number are identical, <span style="color: #AA22FF; font-weight: bold">and</span> the pocket number <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">the</span>
tool table <span style="color: #AA22FF; font-weight: bold">is</span> ignored<span style="color: #666666">.</span> This <span style="color: #AA22FF; font-weight: bold">is</span> currently a restriction<span style="color: #666666">.</span>

<span style="color: #666666">====</span> Actions of <span style="color: #666666">+</span>prepare_epilog<span style="color: #666666">+</span>

<span style="color: #666666">-</span> The NGC procedure <span style="color: #AA22FF; font-weight: bold">is</span> expected to <span style="color: #008000; font-weight: bold">return</span> a positive value, otherwise
  <span style="color: #AA22FF; font-weight: bold">and</span> error message containing the <span style="color: #008000; font-weight: bold">return</span> value <span style="color: #AA22FF; font-weight: bold">is</span> given <span style="color: #AA22FF; font-weight: bold">and</span> the
  interpreter abors<span style="color: #666666">.</span>
<span style="color: #666666">-</span> In case the NGC procedure executed the T command (which then refers
  to the builtin T behaviour), no further action <span style="color: #AA22FF; font-weight: bold">is</span> taken<span style="color: #666666">.</span> This can be
  used <span style="color: #008000; font-weight: bold">for</span> instance to minimally adjust the builtin behaviour be
  preceding <span style="color: #AA22FF; font-weight: bold">or</span> following it <span style="color: #008000; font-weight: bold">with</span> some other statements<span style="color: #666666">.</span>
<span style="color: #666666">-</span> Otherwise, the <span style="color: #BA2121">`#&lt;tool&gt;`</span> <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #BA2121">`#&lt;pocket&gt;`</span> parameters are extracted
  <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">the</span> <span style="color: #0000FF; font-weight: bold">subroutine</span><span style="color: #BA2121">&#39;s parameter space. This means that the NGC</span>
  procedure could change these values, <span style="color: #AA22FF; font-weight: bold">and</span> the epilog takes the
  changed values <span style="color: #AA22FF; font-weight: bold">in</span> account<span style="color: #666666">.</span>
<span style="color: #666666">-</span> then, the Canon command <span style="color: #BA2121">`SELECT_POCKET(#&lt;pocket&gt;,#&lt;tool&gt;)`</span> <span style="color: #AA22FF; font-weight: bold">is</span> executed<span style="color: #666666">.</span>

<span style="color: #666666">===</span> M6: <span style="color: #666666">+</span>change_prolog<span style="color: #666666">+</span> <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #666666">+</span>change_epilog<span style="color: #666666">+</span>

These wrap a NGC procedure <span style="color: #008000; font-weight: bold">for</span> M6 Tool Change<span style="color: #666666">.</span>

<span style="color: #666666">====</span> Actions of <span style="color: #666666">+</span>change_prolog<span style="color: #666666">+</span>

<span style="color: #666666">*</span> The following three steps are applicable only <span style="color: #008000; font-weight: bold">if</span> the <span style="color: #BA2121">`iocontrol-v2`</span>
component <span style="color: #AA22FF; font-weight: bold">is</span> used:
<span style="color: #666666">**</span> If parameter <span style="color: #666666">5600</span> (fault indicator) <span style="color: #AA22FF; font-weight: bold">is</span> greater than zero, this indicates a Toolchanger
fault, which <span style="color: #AA22FF; font-weight: bold">is</span> handled <span style="color: #008000; font-weight: bold">as</span> follows:
<span style="color: #666666">**</span> <span style="color: #008000; font-weight: bold">if</span> parameter <span style="color: #666666">5601</span> (error code) <span style="color: #AA22FF; font-weight: bold">is</span> negative, this indicates a hard
fault <span style="color: #AA22FF; font-weight: bold">and</span> the prolog aborts <span style="color: #008000; font-weight: bold">with</span> an error message<span style="color: #666666">.</span>
<span style="color: #666666">**</span> <span style="color: #008000; font-weight: bold">if</span> parameter <span style="color: #666666">5601</span> (error code) <span style="color: #AA22FF; font-weight: bold">is</span> greater equal zero, this indicates a soft
fault<span style="color: #666666">.</span> An informational message <span style="color: #AA22FF; font-weight: bold">is</span> displayed <span style="color: #AA22FF; font-weight: bold">and</span> the prolog continues<span style="color: #666666">.</span>

<span style="color: #666666">*</span> If there was no preceding T command which caused a pocket to be
selected, the prolog aborts <span style="color: #008000; font-weight: bold">with</span> an error message<span style="color: #666666">.</span>
<span style="color: #666666">*</span> If cutter radius compensation <span style="color: #AA22FF; font-weight: bold">is</span> on, the prolog aborts <span style="color: #008000; font-weight: bold">with</span> an error
message<span style="color: #666666">.</span>

Then, the following parameters are exported to the NGC procedure:

<span style="color: #666666">-</span> <span style="color: #BA2121">`#&lt;tool_in_spindle&gt;`</span> : the tool number of the currently loaded tool
<span style="color: #666666">-</span> <span style="color: #BA2121">`#&lt;selected_tool&gt;`</span> : the tool number selected
<span style="color: #666666">-</span> <span style="color: #BA2121">`#&lt;selected_pocket&gt;`</span> : the selected tool<span style="color: #BA2121">&#39;s pocket number</span>


<span style="color: #666666">====</span> Actions of <span style="color: #666666">+</span>change_epilog<span style="color: #666666">+</span>

<span style="color: #666666">*</span> The NGC procedure <span style="color: #AA22FF; font-weight: bold">is</span> expected to <span style="color: #008000; font-weight: bold">return</span> a positive value, otherwise
  <span style="color: #AA22FF; font-weight: bold">and</span> error message containing the <span style="color: #008000; font-weight: bold">return</span> value <span style="color: #AA22FF; font-weight: bold">is</span> given <span style="color: #AA22FF; font-weight: bold">and</span> the
  interpreter abors<span style="color: #666666">.</span>
<span style="color: #666666">*</span> If parameter <span style="color: #666666">5600</span> (fault indicator) <span style="color: #AA22FF; font-weight: bold">is</span> greater than zero, this indicates a Toolchanger
fault, which <span style="color: #AA22FF; font-weight: bold">is</span> handled <span style="color: #008000; font-weight: bold">as</span> follows (<span style="color: #BA2121">`iocontrol-v2`</span><span style="color: #666666">-</span>only):
<span style="color: #666666">**</span> <span style="color: #008000; font-weight: bold">if</span> parameter <span style="color: #666666">5601</span> (error code) <span style="color: #AA22FF; font-weight: bold">is</span> negative, this indicates a hard
fault <span style="color: #AA22FF; font-weight: bold">and</span> the epilog aborts <span style="color: #008000; font-weight: bold">with</span> an error message<span style="color: #666666">.</span>
<span style="color: #666666">**</span> <span style="color: #008000; font-weight: bold">if</span> parameter <span style="color: #666666">5601</span> (error code) <span style="color: #AA22FF; font-weight: bold">is</span> greater equal zero, this indicates a soft
fault<span style="color: #666666">.</span> An informational message <span style="color: #AA22FF; font-weight: bold">is</span> displayed <span style="color: #AA22FF; font-weight: bold">and</span> the epilog continues<span style="color: #666666">.</span>
<span style="color: #666666">*</span> In case the NGC procedure executed the M6 command (which then refers
  to the builtin M6 behaviour), no further action <span style="color: #AA22FF; font-weight: bold">is</span> taken<span style="color: #666666">.</span> This can be
  used <span style="color: #008000; font-weight: bold">for</span> instance to minimally adjust the builtin behaviour be
  preceding <span style="color: #AA22FF; font-weight: bold">or</span> following it <span style="color: #008000; font-weight: bold">with</span> some other statements<span style="color: #666666">.</span>
<span style="color: #666666">*</span> Otherwise, the <span style="color: #BA2121">`#&lt;selected_pocket&gt;`</span> parameter <span style="color: #AA22FF; font-weight: bold">is</span> extracted
  <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">the</span> <span style="color: #0000FF; font-weight: bold">subroutine</span><span style="color: #BA2121">&#39;s parameter space, and used to set the</span>
  interpreter<span style="color: #BA2121">&#39;s `current_pocket` variable. Again, the</span>
  procedure could change this value, <span style="color: #AA22FF; font-weight: bold">and</span> the epilog takes the
  changed value <span style="color: #AA22FF; font-weight: bold">in</span> account<span style="color: #666666">.</span>
<span style="color: #666666">*</span> then, the Canon command <span style="color: #BA2121">`CHANGE_TOOL(#&lt;selected_pocket&gt;)`</span> <span style="color: #AA22FF; font-weight: bold">is</span>
  executed<span style="color: #666666">.</span>
<span style="color: #666666">*</span> The new tool parameters (offsets, diameter etc) are <span style="color: #008000">set</span><span style="color: #666666">.</span>


<span style="color: #666666">===</span> G code Cycles: <span style="color: #666666">+</span>cycle_prolog<span style="color: #666666">+</span> <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #666666">+</span>cycle_epilog<span style="color: #666666">+</span> [[sec::cycle<span style="color: #666666">-</span>stdglue]]

These wrap a NGC procedure so it can act <span style="color: #008000; font-weight: bold">as</span> a cycle, meaning the
motion code <span style="color: #AA22FF; font-weight: bold">is</span> retained after finishing execution<span style="color: #666666">.</span> If the <span style="color: #008000">next</span> line
just contains parameter words (e<span style="color: #666666">.</span>g<span style="color: #666666">.</span> new X,Y values), the code <span style="color: #AA22FF; font-weight: bold">is</span>
executed again <span style="color: #008000; font-weight: bold">with</span> the new parameter words merged into the <span style="color: #008000">set</span> of the
paramters given <span style="color: #AA22FF; font-weight: bold">in</span> the first invocation<span style="color: #666666">.</span>

These routines are designed to work <span style="color: #AA22FF; font-weight: bold">in</span> conjunction <span style="color: #008000; font-weight: bold">with</span> an
<span style="color: #666666">&lt;&lt;</span>remap:argspec<span style="color: #666666">-</span>parameter,<span style="color: #BA2121">`argspec=&lt;words&gt;`</span> parameter<span style="color: #666666">&gt;&gt;.</span> While this <span style="color: #AA22FF; font-weight: bold">is</span>
easy to use, <span style="color: #AA22FF; font-weight: bold">in</span> a realistic scenario you would avoid argspec <span style="color: #AA22FF; font-weight: bold">and</span> do a
more thorough investigation of the block manually <span style="color: #AA22FF; font-weight: bold">in</span> order to give better
error messages<span style="color: #666666">.</span>

The suggested argspec <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000; font-weight: bold">as</span> follows:
[source,{ini}]
<span style="color: #666666">---------------------------------------------------------------------</span>
REMAP<span style="color: #666666">=</span>G<span style="color: #666666">&lt;</span>somecode<span style="color: #666666">&gt;</span> argspec<span style="color: #666666">=</span>xyzabcuvwqplr prolog<span style="color: #666666">=</span>cycle_prolog ngc<span style="color: #666666">=&lt;</span>ngc procedure<span style="color: #666666">&gt;</span> epilog<span style="color: #666666">=</span>cycle_epilog modalgroup<span style="color: #666666">=1</span>
<span style="color: #666666">---------------------------------------------------------------------</span>
This will permit <span style="color: #666666">+</span>cycle_prolog<span style="color: #666666">+</span> to determine the compabitibily of <span style="color: #008000">any</span>
axis words give <span style="color: #AA22FF; font-weight: bold">in</span> the block, see below<span style="color: #666666">.</span>


<span style="color: #666666">//</span>sec:Cycle<span style="color: #666666">-</span>Sticky<span style="color: #666666">-</span>Words
<span style="color: #666666">//</span>sec:Canned<span style="color: #666666">-</span>Cycle<span style="color: #666666">-</span>Errors
<span style="color: #666666">//</span>sec:Retract<span style="color: #666666">-</span>Mode
<span style="color: #666666">====</span> Actions of <span style="color: #666666">+</span>cycle_prolog<span style="color: #666666">+</span>
<span style="color: #666666">*</span> Determine whether the words passed <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">the</span> <span style="color: #0000FF; font-weight: bold">current</span> <span style="color: #0000FF; font-weight: bold">block</span> <span style="color: #0000FF; font-weight: bold">fulfill</span>
the conditions outlined under <span style="color: #666666">&lt;&lt;</span>sec:Canned<span style="color: #666666">-</span>Cycle<span style="color: #666666">-</span>Errors,Canned Cycle
Errors<span style="color: #666666">&gt;&gt;.</span>
<span style="color: #666666">**</span> export the axis words <span style="color: #008000; font-weight: bold">as</span> <span style="color: #666666">+&lt;</span>x<span style="color: #666666">&gt;+</span>, <span style="color: #666666">+</span><span style="color: #408080; font-style: italic">#&lt;y&gt;+ etc; fail if axis words from</span>
different groups (XYZ) (UVW) are used together, <span style="color: #AA22FF; font-weight: bold">or</span> <span style="color: #008000">any</span> of (ABC) <span style="color: #AA22FF; font-weight: bold">is</span> given<span style="color: #666666">.</span>
<span style="color: #666666">**</span> export <span style="color: #BA2121">&#39;L-&#39;</span> <span style="color: #008000; font-weight: bold">as</span> <span style="color: #666666">+</span><span style="color: #408080; font-style: italic">#&lt;l&gt;+; default to 1 if not given.</span>
<span style="color: #666666">**</span> export <span style="color: #BA2121">&#39;P-&#39;</span> <span style="color: #008000; font-weight: bold">as</span> <span style="color: #666666">+</span><span style="color: #408080; font-style: italic">#&lt;p&gt;+; fail if p less than 0.</span>
<span style="color: #666666">**</span> export <span style="color: #BA2121">&#39;R-&#39;</span> <span style="color: #008000; font-weight: bold">as</span> <span style="color: #666666">+</span><span style="color: #408080; font-style: italic">#&lt;r&gt;+; fail if r not given, or less equal 0 if given.</span>
<span style="color: #666666">**</span> fail <span style="color: #008000; font-weight: bold">if</span> feed rate <span style="color: #AA22FF; font-weight: bold">is</span> zero, <span style="color: #AA22FF; font-weight: bold">or</span> inverse time feed <span style="color: #AA22FF; font-weight: bold">or</span> cutter
compensation <span style="color: #AA22FF; font-weight: bold">is</span> on<span style="color: #666666">.</span>
<span style="color: #666666">*</span> Determine whether this <span style="color: #AA22FF; font-weight: bold">is</span> the first invocation of a cycle G code, <span style="color: #008000; font-weight: bold">if</span>
so:
<span style="color: #666666">**</span> Add the words passed <span style="color: #AA22FF; font-weight: bold">in</span> (<span style="color: #008000; font-weight: bold">as</span> per argspec) into a <span style="color: #008000">set</span> of sticky
parameters, which <span style="color: #AA22FF; font-weight: bold">is</span> retained across several invocations<span style="color: #666666">.</span>
<span style="color: #666666">*</span> If <span style="color: #AA22FF; font-weight: bold">not</span> (a continuation line <span style="color: #008000; font-weight: bold">with</span> new parameters):
<span style="color: #666666">**</span> merge the words passed <span style="color: #AA22FF; font-weight: bold">in</span> into the existing <span style="color: #008000">set</span> of sticky
paramaters<span style="color: #666666">.</span>
<span style="color: #666666">*</span> export the <span style="color: #008000">set</span> of sticky parameters to the NGC procedure<span style="color: #666666">.</span>

<span style="color: #666666">====</span> Actions of <span style="color: #666666">+</span>cycle_epilog<span style="color: #666666">+</span>
<span style="color: #666666">*</span> Determine <span style="color: #008000; font-weight: bold">if</span> the current code was <span style="color: #AA22FF; font-weight: bold">in</span> fact a cycle, <span style="color: #008000; font-weight: bold">if</span> so:
<span style="color: #666666">**</span> retain the current motion mode so a continuation line without a
motion code will execute the same motion code<span style="color: #666666">.</span>

<span style="color: #666666">===</span> S (Set Speed) : <span style="color: #666666">+</span>setspeed_prolog<span style="color: #666666">+</span> <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #666666">+</span>setspeed_epilog<span style="color: #666666">+</span>
TBD

<span style="color: #666666">===</span> F (Set Feed) : <span style="color: #666666">+</span>setfeed_prolog<span style="color: #666666">+</span> <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #666666">+</span>setfeed_epilog<span style="color: #666666">+</span>
TBD

<span style="color: #666666">===</span> M61 Set tool number : <span style="color: #666666">+</span>settool_prolog<span style="color: #666666">+</span> <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #666666">+</span>settool_epilog<span style="color: #666666">+</span>
TBD

<span style="color: #666666">==</span> Remapped code execution

<span style="color: #666666">===</span> NGC procedure call environment during remaps

Normally, an O<span style="color: #666666">-</span>word procedure <span style="color: #AA22FF; font-weight: bold">is</span> called <span style="color: #008000; font-weight: bold">with</span> positional parameters<span style="color: #666666">.</span>
This scheme <span style="color: #AA22FF; font-weight: bold">is</span> very limiting <span style="color: #AA22FF; font-weight: bold">in</span> particular <span style="color: #AA22FF; font-weight: bold">in</span> the presence of optional
parameters<span style="color: #666666">.</span> Therefore, the calling convention has been extended to use
something remotely similar to the Python keyword arguments model<span style="color: #666666">.</span>

see  LINKTO gcode<span style="color: #666666">/</span>main Subroutines: sub, endsub, <span style="color: #008000; font-weight: bold">return</span>, call<span style="color: #666666">.</span>

<span style="color: #666666">===</span> Nested remapped codes

Remapped codes may be nested just like procedure calls <span style="color: #666666">-</span> that <span style="color: #AA22FF; font-weight: bold">is</span>, a
remapped code whose NGC procedure refers to some other remapped code
will execute properly<span style="color: #666666">.</span>

The maximum nesting level remaps <span style="color: #AA22FF; font-weight: bold">is</span> currently <span style="color: #666666">10.</span>

<span style="color: #666666">===</span> Sequence number  during remaps

Sequence numbers are propagated <span style="color: #AA22FF; font-weight: bold">and</span> restored like <span style="color: #008000; font-weight: bold">with</span> O<span style="color: #666666">-</span>word
calls<span style="color: #666666">.</span> See <span style="color: #BA2121">`tests/remap/nested-remaps/word`</span> <span style="color: #008000; font-weight: bold">for</span> the regression test,
which shows sequence number tracking during nested remaps three levels
deep<span style="color: #666666">.</span>

<span style="color: #666666">===</span> Debugging flags

The following flags are relevant <span style="color: #008000; font-weight: bold">for</span> remapping <span style="color: #AA22FF; font-weight: bold">and</span> Python <span style="color: #666666">-</span> related execution:

 EMC_DEBUG_OWORD             <span style="color: #666666">0x00002000</span>  traces execution of O<span style="color: #666666">-</span>word subroutines
 EMC_DEBUG_REMAP             <span style="color: #666666">0x00004000</span>  traces execution of remap<span style="color: #666666">-</span>related code
 EMC_DEBUG_PYTHON            <span style="color: #666666">0x00008000</span>  calls to the Python plugin
 EMC_DEBUG_NAMEDPARAM        <span style="color: #666666">0x00010000</span>  trace named parameter access
 EMC_DEBUG_PYTHON_TASK       <span style="color: #666666">0x00040000</span>  trace the task Python plugin
 EMC_DEBUG_USER1             <span style="color: #666666">0x10000000</span>  user<span style="color: #666666">-</span>defined <span style="color: #666666">-</span> <span style="color: #AA22FF; font-weight: bold">not</span> interpreted by Machinekit
 EMC_DEBUG_USER2             <span style="color: #666666">0x20000000</span>  user<span style="color: #666666">-</span>defined <span style="color: #666666">-</span> <span style="color: #AA22FF; font-weight: bold">not</span> interpreted by Machinekit

<span style="color: #BA2121">&#39;or&#39;</span> these flags into the <span style="color: #BA2121">`[EMC]DEBUG`</span> variable <span style="color: #008000; font-weight: bold">as</span> needed<span style="color: #666666">.</span> For a current
<span style="color: #008000">list</span> of debug flags see <span style="color: #BA2121">&#39;src/emc/nml_intf/debugflags.h&#39;</span><span style="color: #666666">.</span>

<span style="color: #666666">===</span> Debugging Embedded Python code

Debugging of embedded Python code <span style="color: #AA22FF; font-weight: bold">is</span> harder than debugging normal
Python scripts, <span style="color: #AA22FF; font-weight: bold">and</span> only a limited supply of debuggers exists<span style="color: #666666">.</span> A
working <span style="color: #008000">open</span><span style="color: #666666">-</span>source based solution <span style="color: #AA22FF; font-weight: bold">is</span> to use the
http:<span style="color: #666666">//</span>www<span style="color: #666666">.</span>eclipse<span style="color: #666666">.</span>org[Eclipse IDE], <span style="color: #AA22FF; font-weight: bold">and</span> the http:<span style="color: #666666">//</span>www<span style="color: #666666">.</span>pydev<span style="color: #666666">.</span>org[PydDev]
Eclipse plugin <span style="color: #AA22FF; font-weight: bold">and</span> its
http:<span style="color: #666666">//</span>pydev<span style="color: #666666">.</span>org<span style="color: #666666">/</span>manual_adv_remote_debugger<span style="color: #666666">.</span>html[remote debugging
feature]<span style="color: #666666">.</span>

To use this approach:

<span style="color: #666666">-</span> install Eclipse via the the <span style="color: #BA2121">&#39;Debian Software Center&#39;</span> (choose first
selection)
<span style="color: #666666">-</span> install the PyDev plugin <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">the</span>
http:<span style="color: #666666">//</span>pydev<span style="color: #666666">.</span>org<span style="color: #666666">/</span>updates[Pydev Update Site]
<span style="color: #666666">-</span> setup the Machinekit source tree <span style="color: #008000; font-weight: bold">as</span> an Eclipse project
<span style="color: #666666">-</span> start the Pydev Debug Server <span style="color: #AA22FF; font-weight: bold">in</span> Eclipse
<span style="color: #666666">-</span> make sure the embedded Python code can find the <span style="color: #BA2121">`pydevd.py`</span> module
which comes <span style="color: #008000; font-weight: bold">with</span> that plugin <span style="color: #666666">-</span> it<span style="color: #BA2121">&#39;s buried somewhere deep under the</span>
Eclipse install directory<span style="color: #666666">.</span> Set the the <span style="color: #BA2121">`pydevd`</span> variable <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #BA2121">`util.py`</span>
to reflect this directory location<span style="color: #666666">.</span>
<span style="color: #666666">-</span> <span style="color: #BA2121">`import pydevd`</span> <span style="color: #AA22FF; font-weight: bold">in</span> your Python module <span style="color: #666666">-</span> see example <span style="color: #BA2121">`util.py`</span> <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #BA2121">`remap.py`</span>
<span style="color: #666666">-</span> call <span style="color: #BA2121">`pydevd.settrace()`</span> <span style="color: #AA22FF; font-weight: bold">in</span> your module at some point to connect to
the Eclipse Python debug server <span style="color: #666666">-</span> here you can <span style="color: #008000">set</span> breakpoints <span style="color: #AA22FF; font-weight: bold">in</span> your
code, inspect variables, step etc <span style="color: #008000; font-weight: bold">as</span> usual<span style="color: #666666">.</span>

CAUTION:  <span style="color: #BA2121">`pydevd.settrace()`</span> will block execution <span style="color: #008000; font-weight: bold">if</span> Eclipse <span style="color: #AA22FF; font-weight: bold">and</span> the
Pydev debug server have <span style="color: #AA22FF; font-weight: bold">not</span> been started<span style="color: #666666">.</span>

To cover the last two steps: the <span style="color: #BA2121">`o&lt;pydevd&gt;`</span> procedure helps to get
into the debugger <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">MDI</span> <span style="color: #0000FF; font-weight: bold">mode.</span> <span style="color: #0000FF; font-weight: bold">See</span> <span style="color: #0000FF; font-weight: bold">also</span> <span style="color: #0000FF; font-weight: bold">the</span> <span style="color: #BA2121">`call_pydevd`</span> function
<span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #BA2121">`util.py`</span> <span style="color: #AA22FF; font-weight: bold">and</span> its usage <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #BA2121">`remap.involute`</span> to <span style="color: #008000">set</span> a breakpoint<span style="color: #666666">.</span>

Here<span style="color: #BA2121">&#39;s a screenshot of Eclipse/PyDevd debugging the `involute`</span>
procedure <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">above</span>:

image::debug_embedded_python<span style="color: #666666">.</span>png[Debugging <span style="color: #008000; font-weight: bold">with</span> Eclipse]

See the Python code <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #BA2121">`configs/sim/axis/remap/getting-started/python`</span> <span style="color: #008000; font-weight: bold">for</span> details<span style="color: #666666">.</span>

<span style="color: #666666">==</span> Axis Preview <span style="color: #AA22FF; font-weight: bold">and</span> Remapped code execution
[[cha:Axis<span style="color: #666666">-</span>Preview<span style="color: #666666">-</span><span style="color: #AA22FF; font-weight: bold">and</span><span style="color: #666666">-</span>Remapped<span style="color: #666666">-</span>code<span style="color: #666666">-</span>execution]]

For complete preview of a remapped code<span style="color: #BA2121">&#39;s toolpath some precautions</span>
need to be taken<span style="color: #666666">.</span> To understand what <span style="color: #AA22FF; font-weight: bold">is</span> going on, let<span style="color: #BA2121">&#39;s review the</span>
preview <span style="color: #AA22FF; font-weight: bold">and</span> execution process (this covers the Axis case, but others
are similar):

First, note that there are <span style="color: #666666">*</span>two<span style="color: #666666">*</span> independent interpreter instances
involved:

<span style="color: #666666">-</span> one instance <span style="color: #AA22FF; font-weight: bold">in</span> the milltask program, which executes a program when
you hit the <span style="color: #BA2121">&#39;Start&#39;</span> button, <span style="color: #AA22FF; font-weight: bold">and</span> actually makes the machine move
<span style="color: #666666">-</span> a second instance <span style="color: #AA22FF; font-weight: bold">in</span> the user interface whose primary purpose <span style="color: #AA22FF; font-weight: bold">is</span> to
generate the toolpath preview<span style="color: #666666">.</span> This one <span style="color: #BA2121">&#39;executes&#39;</span> a program once it
<span style="color: #AA22FF; font-weight: bold">is</span> loaded, but it doesnt actually cause machine movements<span style="color: #666666">.</span>

Now assume that your remap procedure contains a G38 probe operation,
<span style="color: #008000; font-weight: bold">for</span> example <span style="color: #008000; font-weight: bold">as</span> part of a tool change <span style="color: #008000; font-weight: bold">with</span> automatic tool length
touchoff<span style="color: #666666">.</span> If the probe fails, that would clearly be an error, so you<span style="color: #BA2121">&#39;d</span>
display a message <span style="color: #AA22FF; font-weight: bold">and</span> abort the program<span style="color: #666666">.</span>

Now, what about preview of this procedure<span style="border: 1px solid #FF0000">?</span>  At preview time, of course
it<span style="color: #BA2121">&#39;s not known whether the probe succeeds or fails - but you would</span>
likely want to see what the maximum depth of the probe <span style="color: #AA22FF; font-weight: bold">is</span>, <span style="color: #AA22FF; font-weight: bold">and</span> assume
it  succeeds <span style="color: #AA22FF; font-weight: bold">and</span> continues execution to
preview further movements<span style="color: #666666">.</span> Also, there <span style="color: #AA22FF; font-weight: bold">is</span> no point <span style="color: #AA22FF; font-weight: bold">in</span> displaying a
<span style="color: #BA2121">&#39;probe failed&#39;</span> message <span style="color: #AA22FF; font-weight: bold">and</span> aborting <span style="color: #666666">*</span>during preview<span style="color: #666666">*.</span>

The way to address this issue <span style="color: #AA22FF; font-weight: bold">is</span> to test <span style="color: #AA22FF; font-weight: bold">in</span> your procedure whether it
executes <span style="color: #AA22FF; font-weight: bold">in</span> preview <span style="color: #AA22FF; font-weight: bold">or</span> execution mode<span style="color: #666666">.</span> This can be checked <span style="color: #008000; font-weight: bold">for</span> by
testing the <span style="color: #BA2121">`#&lt;_task&gt;`</span> <span style="color: #666666">&lt;&lt;</span>sec:Predefined<span style="color: #666666">-</span>Named<span style="color: #666666">-</span>Parameters, predefined
named parameter<span style="color: #666666">&gt;&gt;</span> <span style="color: #666666">-</span> it will be <span style="color: #666666">1</span> during actual execution <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #666666">0</span> during
preview<span style="color: #666666">.</span> See
<span style="color: #BA2121">&#39;configs/sim/axis/remap/manual-toolchange-with-tool-length-switch/nc_subroutines/manual_change.ngc&#39;</span>
<span style="color: #008000; font-weight: bold">for</span> a complete usage example<span style="color: #666666">.</span>

Within Embedded Python, the task instance can be checked <span style="color: #008000; font-weight: bold">for</span> by
testing <span style="color: #BA2121">&#39;self.task&#39;</span> <span style="color: #666666">-</span> this will be <span style="color: #666666">1</span> <span style="color: #AA22FF; font-weight: bold">in</span> the milltask instance, <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #666666">0</span>
<span style="color: #AA22FF; font-weight: bold">in</span> the preview instance(s)<span style="color: #666666">.</span>

<span style="color: #666666">==</span> Remappable Codes [[sec:remap:remappable<span style="color: #666666">-</span>codes]]

<span style="color: #666666">===</span> Existing codes which can be remapped [[remap:remappable<span style="color: #666666">-</span>codes]]

The current <span style="color: #008000">set</span> of <span style="color: #666666">*</span>existing<span style="color: #666666">*</span> codes <span style="color: #008000">open</span> to redefinition <span style="color: #AA22FF; font-weight: bold">is</span>:

<span style="color: #666666">-</span> Tx (Prepare)
<span style="color: #666666">-</span> M6 (Change tool)
<span style="color: #666666">-</span> M61 (Set tool number)
<span style="color: #666666">-</span> M0 (pause a running program temporarily)
<span style="color: #666666">-</span> M1 (pause a running program temporarily <span style="color: #008000; font-weight: bold">if</span> the optional stop switch <span style="color: #AA22FF; font-weight: bold">is</span> on)
<span style="color: #666666">-</span> M60 (exchange pallet shuttles <span style="color: #AA22FF; font-weight: bold">and</span> then pause a running program temporarily)
<span style="color: #666666">-</span> S  (<span style="color: #008000">set</span> spindle speed)
<span style="color: #666666">-</span> F  (<span style="color: #008000">set</span> feed)

Note that the use of M61 currently requires the use of iocontrol<span style="color: #666666">-</span>v2<span style="color: #666666">.</span>

<span style="color: #666666">===</span> Currently unallocated G<span style="color: #666666">-</span>codes: [[remap:unallocated<span style="color: #666666">-</span>g<span style="color: #666666">-</span>codes]]

These codes are currently undefined <span style="color: #AA22FF; font-weight: bold">in</span> the current implementation of Machinekit
<span style="color: #AA22FF; font-weight: bold">and</span> may be used to define new G<span style="color: #666666">-</span>codes:

FIXTHIS too verbose

G0<span style="color: #666666">.1</span> G0<span style="color: #666666">.2</span> G0<span style="color: #666666">.3</span> G0<span style="color: #666666">.4</span> G0<span style="color: #666666">.5</span> G0<span style="color: #666666">.6</span> G0<span style="color: #666666">.7</span> G0<span style="color: #666666">.8</span> G0<span style="color: #666666">.9</span>
G1<span style="color: #666666">.1</span> G1<span style="color: #666666">.2</span> G1<span style="color: #666666">.3</span> G1<span style="color: #666666">.4</span> G1<span style="color: #666666">.5</span> G1<span style="color: #666666">.6</span> G1<span style="color: #666666">.7</span> G1<span style="color: #666666">.8</span> G1<span style="color: #666666">.9</span>
G2<span style="color: #666666">.1</span> G2<span style="color: #666666">.2</span> G2<span style="color: #666666">.3</span> G2<span style="color: #666666">.4</span> G2<span style="color: #666666">.5</span> G2<span style="color: #666666">.6</span> G2<span style="color: #666666">.7</span> G2<span style="color: #666666">.8</span> G2<span style="color: #666666">.9</span>
G3<span style="color: #666666">.1</span> G3<span style="color: #666666">.2</span> G3<span style="color: #666666">.3</span> G3<span style="color: #666666">.4</span> G3<span style="color: #666666">.5</span> G3<span style="color: #666666">.6</span> G3<span style="color: #666666">.7</span> G3<span style="color: #666666">.8</span> G3<span style="color: #666666">.9</span>
G4<span style="color: #666666">.1</span> G4<span style="color: #666666">.2</span> G4<span style="color: #666666">.3</span> G4<span style="color: #666666">.4</span> G4<span style="color: #666666">.5</span> G4<span style="color: #666666">.6</span> G4<span style="color: #666666">.7</span> G4<span style="color: #666666">.8</span> G4<span style="color: #666666">.9</span>
G5<span style="color: #666666">.4</span> G5<span style="color: #666666">.5</span> G5<span style="color: #666666">.6</span> G5<span style="color: #666666">.7</span> G5<span style="color: #666666">.8</span> G5<span style="color: #666666">.9</span>
G6 G6<span style="color: #666666">.1</span> G6<span style="color: #666666">.2</span> G6<span style="color: #666666">.3</span> G6<span style="color: #666666">.4</span> G6<span style="color: #666666">.5</span> G6<span style="color: #666666">.6</span> G6<span style="color: #666666">.7</span> G6<span style="color: #666666">.8</span> G6<span style="color: #666666">.9</span>
G7<span style="color: #666666">.1</span> G7<span style="color: #666666">.2</span> G7<span style="color: #666666">.3</span> G7<span style="color: #666666">.4</span> G7<span style="color: #666666">.5</span> G7<span style="color: #666666">.6</span> G7<span style="color: #666666">.7</span> G7<span style="color: #666666">.8</span> G7<span style="color: #666666">.9</span>
G8<span style="color: #666666">.1</span> G8<span style="color: #666666">.2</span> G8<span style="color: #666666">.3</span> G8<span style="color: #666666">.4</span> G8<span style="color: #666666">.5</span> G8<span style="color: #666666">.6</span> G8<span style="color: #666666">.7</span> G8<span style="color: #666666">.8</span> G8<span style="color: #666666">.9</span>
G9 G9<span style="color: #666666">.1</span> G9<span style="color: #666666">.2</span> G9<span style="color: #666666">.3</span> G9<span style="color: #666666">.4</span> G9<span style="color: #666666">.5</span> G9<span style="color: #666666">.6</span> G9<span style="color: #666666">.7</span> G9<span style="color: #666666">.8</span> G9<span style="color: #666666">.9</span>
G10<span style="color: #666666">.1</span> G10<span style="color: #666666">.2</span> G10<span style="color: #666666">.3</span> G10<span style="color: #666666">.4</span> G10<span style="color: #666666">.5</span> G10<span style="color: #666666">.6</span> G10<span style="color: #666666">.7</span> G10<span style="color: #666666">.8</span> G10<span style="color: #666666">.9</span>
G11 G11<span style="color: #666666">.1</span> G11<span style="color: #666666">.2</span> G11<span style="color: #666666">.3</span> G11<span style="color: #666666">.4</span> G11<span style="color: #666666">.5</span> G11<span style="color: #666666">.6</span> G11<span style="color: #666666">.7</span> G11<span style="color: #666666">.8</span> G11<span style="color: #666666">.9</span>
G12 G12<span style="color: #666666">.1</span> G12<span style="color: #666666">.2</span> G12<span style="color: #666666">.3</span> G12<span style="color: #666666">.4</span> G12<span style="color: #666666">.5</span> G12<span style="color: #666666">.6</span> G12<span style="color: #666666">.7</span> G12<span style="color: #666666">.8</span> G12<span style="color: #666666">.9</span>
G13 G13<span style="color: #666666">.1</span> G13<span style="color: #666666">.2</span> G13<span style="color: #666666">.3</span> G13<span style="color: #666666">.4</span> G13<span style="color: #666666">.5</span> G13<span style="color: #666666">.6</span> G13<span style="color: #666666">.7</span> G13<span style="color: #666666">.8</span> G13<span style="color: #666666">.9</span>
G14 G14<span style="color: #666666">.1</span> G14<span style="color: #666666">.2</span> G14<span style="color: #666666">.3</span> G14<span style="color: #666666">.4</span> G14<span style="color: #666666">.5</span> G14<span style="color: #666666">.6</span> G14<span style="color: #666666">.7</span> G14<span style="color: #666666">.8</span> G14<span style="color: #666666">.9</span>
G15 G15<span style="color: #666666">.1</span> G15<span style="color: #666666">.2</span> G15<span style="color: #666666">.3</span> G15<span style="color: #666666">.4</span> G15<span style="color: #666666">.5</span> G15<span style="color: #666666">.6</span> G15<span style="color: #666666">.7</span> G15<span style="color: #666666">.8</span> G15<span style="color: #666666">.9</span>
G16 G16<span style="color: #666666">.1</span> G16<span style="color: #666666">.2</span> G16<span style="color: #666666">.3</span> G16<span style="color: #666666">.4</span> G16<span style="color: #666666">.5</span> G16<span style="color: #666666">.6</span> G16<span style="color: #666666">.7</span> G16<span style="color: #666666">.8</span> G16<span style="color: #666666">.9</span>
G17<span style="color: #666666">.2</span> G17<span style="color: #666666">.3</span> G17<span style="color: #666666">.4</span> G17<span style="color: #666666">.5</span> G17<span style="color: #666666">.6</span> G17<span style="color: #666666">.7</span> G17<span style="color: #666666">.8</span> G17<span style="color: #666666">.9</span>
G18<span style="color: #666666">.2</span> G18<span style="color: #666666">.3</span> G18<span style="color: #666666">.4</span> G18<span style="color: #666666">.5</span> G18<span style="color: #666666">.6</span> G18<span style="color: #666666">.7</span> G18<span style="color: #666666">.8</span> G18<span style="color: #666666">.9</span>
G19<span style="color: #666666">.2</span> G19<span style="color: #666666">.3</span> G19<span style="color: #666666">.4</span> G19<span style="color: #666666">.5</span> G19<span style="color: #666666">.6</span> G19<span style="color: #666666">.7</span> G19<span style="color: #666666">.8</span> G19<span style="color: #666666">.9</span>
G20<span style="color: #666666">.1</span> G20<span style="color: #666666">.2</span> G20<span style="color: #666666">.3</span> G20<span style="color: #666666">.4</span> G20<span style="color: #666666">.5</span> G20<span style="color: #666666">.6</span> G20<span style="color: #666666">.7</span> G20<span style="color: #666666">.8</span> G20<span style="color: #666666">.9</span>
G21<span style="color: #666666">.1</span> G21<span style="color: #666666">.2</span> G21<span style="color: #666666">.3</span> G21<span style="color: #666666">.4</span> G21<span style="color: #666666">.5</span> G21<span style="color: #666666">.6</span> G21<span style="color: #666666">.7</span> G21<span style="color: #666666">.8</span> G21<span style="color: #666666">.9</span>
G22 G22<span style="color: #666666">.1</span> G22<span style="color: #666666">.2</span> G22<span style="color: #666666">.3</span> G22<span style="color: #666666">.4</span> G22<span style="color: #666666">.5</span> G22<span style="color: #666666">.6</span> G22<span style="color: #666666">.7</span> G22<span style="color: #666666">.8</span> G22<span style="color: #666666">.9</span>
G23 G23<span style="color: #666666">.1</span> G23<span style="color: #666666">.2</span> G23<span style="color: #666666">.3</span> G23<span style="color: #666666">.4</span> G23<span style="color: #666666">.5</span> G23<span style="color: #666666">.6</span> G23<span style="color: #666666">.7</span> G23<span style="color: #666666">.8</span> G23<span style="color: #666666">.9</span>
G24 G24<span style="color: #666666">.1</span> G24<span style="color: #666666">.2</span> G24<span style="color: #666666">.3</span> G24<span style="color: #666666">.4</span> G24<span style="color: #666666">.5</span> G24<span style="color: #666666">.6</span> G24<span style="color: #666666">.7</span> G24<span style="color: #666666">.8</span> G24<span style="color: #666666">.9</span>
G25 G25<span style="color: #666666">.1</span> G25<span style="color: #666666">.2</span> G25<span style="color: #666666">.3</span> G25<span style="color: #666666">.4</span> G25<span style="color: #666666">.5</span> G25<span style="color: #666666">.6</span> G25<span style="color: #666666">.7</span> G25<span style="color: #666666">.8</span> G25<span style="color: #666666">.9</span>
G26 G26<span style="color: #666666">.1</span> G26<span style="color: #666666">.2</span> G26<span style="color: #666666">.3</span> G26<span style="color: #666666">.4</span> G26<span style="color: #666666">.5</span> G26<span style="color: #666666">.6</span> G26<span style="color: #666666">.7</span> G26<span style="color: #666666">.8</span> G26<span style="color: #666666">.9</span>
G27 G27<span style="color: #666666">.1</span> G27<span style="color: #666666">.2</span> G27<span style="color: #666666">.3</span> G27<span style="color: #666666">.4</span> G27<span style="color: #666666">.5</span> G27<span style="color: #666666">.6</span> G27<span style="color: #666666">.7</span> G27<span style="color: #666666">.8</span> G27<span style="color: #666666">.9</span>
G28<span style="color: #666666">.2</span> G28<span style="color: #666666">.3</span> G28<span style="color: #666666">.4</span> G28<span style="color: #666666">.5</span> G28<span style="color: #666666">.6</span> G28<span style="color: #666666">.7</span> G28<span style="color: #666666">.8</span> G28<span style="color: #666666">.9</span>
G29 G29<span style="color: #666666">.1</span> G29<span style="color: #666666">.2</span> G29<span style="color: #666666">.3</span> G29<span style="color: #666666">.4</span> G29<span style="color: #666666">.5</span> G29<span style="color: #666666">.6</span> G29<span style="color: #666666">.7</span> G29<span style="color: #666666">.8</span> G29<span style="color: #666666">.9</span>
G30<span style="color: #666666">.2</span> G30<span style="color: #666666">.3</span> G30<span style="color: #666666">.4</span> G30<span style="color: #666666">.5</span> G30<span style="color: #666666">.6</span> G30<span style="color: #666666">.7</span> G30<span style="color: #666666">.8</span> G30<span style="color: #666666">.9</span>
G31 G31<span style="color: #666666">.1</span> G31<span style="color: #666666">.2</span> G31<span style="color: #666666">.3</span> G31<span style="color: #666666">.4</span> G31<span style="color: #666666">.5</span> G31<span style="color: #666666">.6</span> G31<span style="color: #666666">.7</span> G31<span style="color: #666666">.8</span> G31<span style="color: #666666">.9</span>
G32 G32<span style="color: #666666">.1</span> G32<span style="color: #666666">.2</span> G32<span style="color: #666666">.3</span> G32<span style="color: #666666">.4</span> G32<span style="color: #666666">.5</span> G32<span style="color: #666666">.6</span> G32<span style="color: #666666">.7</span> G32<span style="color: #666666">.8</span> G32<span style="color: #666666">.9</span>
G33<span style="color: #666666">.2</span> G33<span style="color: #666666">.3</span> G33<span style="color: #666666">.4</span> G33<span style="color: #666666">.5</span> G33<span style="color: #666666">.6</span> G33<span style="color: #666666">.7</span> G33<span style="color: #666666">.8</span> G33<span style="color: #666666">.9</span>
G34 G34<span style="color: #666666">.1</span> G34<span style="color: #666666">.2</span> G34<span style="color: #666666">.3</span> G34<span style="color: #666666">.4</span> G34<span style="color: #666666">.5</span> G34<span style="color: #666666">.6</span> G34<span style="color: #666666">.7</span> G34<span style="color: #666666">.8</span> G34<span style="color: #666666">.9</span>
G35 G35<span style="color: #666666">.1</span> G35<span style="color: #666666">.2</span> G35<span style="color: #666666">.3</span> G35<span style="color: #666666">.4</span> G35<span style="color: #666666">.5</span> G35<span style="color: #666666">.6</span> G35<span style="color: #666666">.7</span> G35<span style="color: #666666">.8</span> G35<span style="color: #666666">.9</span>
G36 G36<span style="color: #666666">.1</span> G36<span style="color: #666666">.2</span> G36<span style="color: #666666">.3</span> G36<span style="color: #666666">.4</span> G36<span style="color: #666666">.5</span> G36<span style="color: #666666">.6</span> G36<span style="color: #666666">.7</span> G36<span style="color: #666666">.8</span> G36<span style="color: #666666">.9</span>
G37 G37<span style="color: #666666">.1</span> G37<span style="color: #666666">.2</span> G37<span style="color: #666666">.3</span> G37<span style="color: #666666">.4</span> G37<span style="color: #666666">.5</span> G37<span style="color: #666666">.6</span> G37<span style="color: #666666">.7</span> G37<span style="color: #666666">.8</span> G37<span style="color: #666666">.9</span>
G38 G38<span style="color: #666666">.1</span> G38<span style="color: #666666">.6</span> G38<span style="color: #666666">.7</span> G38<span style="color: #666666">.8</span> G38<span style="color: #666666">.9</span>
G39 G39<span style="color: #666666">.1</span> G39<span style="color: #666666">.2</span> G39<span style="color: #666666">.3</span> G39<span style="color: #666666">.4</span> G39<span style="color: #666666">.5</span> G39<span style="color: #666666">.6</span> G39<span style="color: #666666">.7</span> G39<span style="color: #666666">.8</span> G39<span style="color: #666666">.9</span>
G40<span style="color: #666666">.1</span> G40<span style="color: #666666">.2</span> G40<span style="color: #666666">.3</span> G40<span style="color: #666666">.4</span> G40<span style="color: #666666">.5</span> G40<span style="color: #666666">.6</span> G40<span style="color: #666666">.7</span> G40<span style="color: #666666">.8</span> G40<span style="color: #666666">.9</span>
G41<span style="color: #666666">.2</span> G41<span style="color: #666666">.3</span> G41<span style="color: #666666">.4</span> G41<span style="color: #666666">.5</span> G41<span style="color: #666666">.6</span> G41<span style="color: #666666">.7</span> G41<span style="color: #666666">.8</span> G41<span style="color: #666666">.9</span>
G42<span style="color: #666666">.2</span> G42<span style="color: #666666">.3</span> G42<span style="color: #666666">.4</span> G42<span style="color: #666666">.5</span> G42<span style="color: #666666">.6</span> G42<span style="color: #666666">.7</span> G42<span style="color: #666666">.8</span> G42<span style="color: #666666">.9</span>
G43<span style="color: #666666">.2</span> G43<span style="color: #666666">.3</span> G43<span style="color: #666666">.4</span> G43<span style="color: #666666">.5</span> G43<span style="color: #666666">.6</span> G43<span style="color: #666666">.7</span> G43<span style="color: #666666">.8</span> G43<span style="color: #666666">.9</span>
G44 G44<span style="color: #666666">.1</span> G44<span style="color: #666666">.2</span> G44<span style="color: #666666">.3</span> G44<span style="color: #666666">.4</span> G44<span style="color: #666666">.5</span> G44<span style="color: #666666">.6</span> G44<span style="color: #666666">.7</span> G44<span style="color: #666666">.8</span> G44<span style="color: #666666">.9</span>
G45 G45<span style="color: #666666">.1</span> G45<span style="color: #666666">.2</span> G45<span style="color: #666666">.3</span> G45<span style="color: #666666">.4</span> G45<span style="color: #666666">.5</span> G45<span style="color: #666666">.6</span> G45<span style="color: #666666">.7</span> G45<span style="color: #666666">.8</span> G45<span style="color: #666666">.9</span>
G46 G46<span style="color: #666666">.1</span> G46<span style="color: #666666">.2</span> G46<span style="color: #666666">.3</span> G46<span style="color: #666666">.4</span> G46<span style="color: #666666">.5</span> G46<span style="color: #666666">.6</span> G46<span style="color: #666666">.7</span> G46<span style="color: #666666">.8</span> G46<span style="color: #666666">.9</span>
G47 G47<span style="color: #666666">.1</span> G47<span style="color: #666666">.2</span> G47<span style="color: #666666">.3</span> G47<span style="color: #666666">.4</span> G47<span style="color: #666666">.5</span> G47<span style="color: #666666">.6</span> G47<span style="color: #666666">.7</span> G47<span style="color: #666666">.8</span> G47<span style="color: #666666">.9</span>
G48 G48<span style="color: #666666">.1</span> G48<span style="color: #666666">.2</span> G48<span style="color: #666666">.3</span> G48<span style="color: #666666">.4</span> G48<span style="color: #666666">.5</span> G48<span style="color: #666666">.6</span> G48<span style="color: #666666">.7</span> G48<span style="color: #666666">.8</span> G48<span style="color: #666666">.9</span>
G49<span style="color: #666666">.1</span> G49<span style="color: #666666">.2</span> G49<span style="color: #666666">.3</span> G49<span style="color: #666666">.4</span> G49<span style="color: #666666">.5</span> G49<span style="color: #666666">.6</span> G49<span style="color: #666666">.7</span> G49<span style="color: #666666">.8</span> G49<span style="color: #666666">.9</span>
G50 G50<span style="color: #666666">.1</span> G50<span style="color: #666666">.2</span> G50<span style="color: #666666">.3</span> G50<span style="color: #666666">.4</span> G50<span style="color: #666666">.5</span> G50<span style="color: #666666">.6</span> G50<span style="color: #666666">.7</span> G50<span style="color: #666666">.8</span> G50<span style="color: #666666">.9</span>
G51 G51<span style="color: #666666">.1</span> G51<span style="color: #666666">.2</span> G51<span style="color: #666666">.3</span> G51<span style="color: #666666">.4</span> G51<span style="color: #666666">.5</span> G51<span style="color: #666666">.6</span> G51<span style="color: #666666">.7</span> G51<span style="color: #666666">.8</span> G51<span style="color: #666666">.9</span>
G52 G52<span style="color: #666666">.1</span> G52<span style="color: #666666">.2</span> G52<span style="color: #666666">.3</span> G52<span style="color: #666666">.4</span> G52<span style="color: #666666">.5</span> G52<span style="color: #666666">.6</span> G52<span style="color: #666666">.7</span> G52<span style="color: #666666">.8</span> G52<span style="color: #666666">.9</span>
G53<span style="color: #666666">.1</span> G53<span style="color: #666666">.2</span> G53<span style="color: #666666">.3</span> G53<span style="color: #666666">.4</span> G53<span style="color: #666666">.5</span> G53<span style="color: #666666">.6</span> G53<span style="color: #666666">.7</span> G53<span style="color: #666666">.8</span> G53<span style="color: #666666">.9</span>
G54<span style="color: #666666">.1</span> G54<span style="color: #666666">.2</span> G54<span style="color: #666666">.3</span> G54<span style="color: #666666">.4</span> G54<span style="color: #666666">.5</span> G54<span style="color: #666666">.6</span> G54<span style="color: #666666">.7</span> G54<span style="color: #666666">.8</span> G54<span style="color: #666666">.9</span>
G55<span style="color: #666666">.1</span> G55<span style="color: #666666">.2</span> G55<span style="color: #666666">.3</span> G55<span style="color: #666666">.4</span> G55<span style="color: #666666">.5</span> G55<span style="color: #666666">.6</span> G55<span style="color: #666666">.7</span> G55<span style="color: #666666">.8</span> G55<span style="color: #666666">.9</span>
G56<span style="color: #666666">.1</span> G56<span style="color: #666666">.2</span> G56<span style="color: #666666">.3</span> G56<span style="color: #666666">.4</span> G56<span style="color: #666666">.5</span> G56<span style="color: #666666">.6</span> G56<span style="color: #666666">.7</span> G56<span style="color: #666666">.8</span> G56<span style="color: #666666">.9</span>
G57<span style="color: #666666">.1</span> G57<span style="color: #666666">.2</span> G57<span style="color: #666666">.3</span> G57<span style="color: #666666">.4</span> G57<span style="color: #666666">.5</span> G57<span style="color: #666666">.6</span> G57<span style="color: #666666">.7</span> G57<span style="color: #666666">.8</span> G57<span style="color: #666666">.9</span>
G58<span style="color: #666666">.1</span> G58<span style="color: #666666">.2</span> G58<span style="color: #666666">.3</span> G58<span style="color: #666666">.4</span> G58<span style="color: #666666">.5</span> G58<span style="color: #666666">.6</span> G58<span style="color: #666666">.7</span> G58<span style="color: #666666">.8</span> G58<span style="color: #666666">.9</span>
G59<span style="color: #666666">.4</span> G59<span style="color: #666666">.5</span> G59<span style="color: #666666">.6</span> G59<span style="color: #666666">.7</span> G59<span style="color: #666666">.8</span> G59<span style="color: #666666">.9</span>
G60 G60<span style="color: #666666">.1</span> G60<span style="color: #666666">.2</span> G60<span style="color: #666666">.3</span> G60<span style="color: #666666">.4</span> G60<span style="color: #666666">.5</span> G60<span style="color: #666666">.6</span> G60<span style="color: #666666">.7</span> G60<span style="color: #666666">.8</span> G60<span style="color: #666666">.9</span>
G61<span style="color: #666666">.2</span> G61<span style="color: #666666">.3</span> G61<span style="color: #666666">.4</span> G61<span style="color: #666666">.5</span> G61<span style="color: #666666">.6</span> G61<span style="color: #666666">.7</span> G61<span style="color: #666666">.8</span> G61<span style="color: #666666">.9</span>
G62 G62<span style="color: #666666">.1</span> G62<span style="color: #666666">.2</span> G62<span style="color: #666666">.3</span> G62<span style="color: #666666">.4</span> G62<span style="color: #666666">.5</span> G62<span style="color: #666666">.6</span> G62<span style="color: #666666">.7</span> G62<span style="color: #666666">.8</span> G62<span style="color: #666666">.9</span>
G63 G63<span style="color: #666666">.1</span> G63<span style="color: #666666">.2</span> G63<span style="color: #666666">.3</span> G63<span style="color: #666666">.4</span> G63<span style="color: #666666">.5</span> G63<span style="color: #666666">.6</span> G63<span style="color: #666666">.7</span> G63<span style="color: #666666">.8</span> G63<span style="color: #666666">.9</span>
G64<span style="color: #666666">.1</span> G64<span style="color: #666666">.2</span> G64<span style="color: #666666">.3</span> G64<span style="color: #666666">.4</span> G64<span style="color: #666666">.5</span> G64<span style="color: #666666">.6</span> G64<span style="color: #666666">.7</span> G64<span style="color: #666666">.8</span> G64<span style="color: #666666">.9</span>
G65 G65<span style="color: #666666">.1</span> G65<span style="color: #666666">.2</span> G65<span style="color: #666666">.3</span> G65<span style="color: #666666">.4</span> G65<span style="color: #666666">.5</span> G65<span style="color: #666666">.6</span> G65<span style="color: #666666">.7</span> G65<span style="color: #666666">.8</span> G65<span style="color: #666666">.9</span>
G66 G66<span style="color: #666666">.1</span> G66<span style="color: #666666">.2</span> G66<span style="color: #666666">.3</span> G66<span style="color: #666666">.4</span> G66<span style="color: #666666">.5</span> G66<span style="color: #666666">.6</span> G66<span style="color: #666666">.7</span> G66<span style="color: #666666">.8</span> G66<span style="color: #666666">.9</span>
G67 G67<span style="color: #666666">.1</span> G67<span style="color: #666666">.2</span> G67<span style="color: #666666">.3</span> G67<span style="color: #666666">.4</span> G67<span style="color: #666666">.5</span> G67<span style="color: #666666">.6</span> G67<span style="color: #666666">.7</span> G67<span style="color: #666666">.8</span> G67<span style="color: #666666">.9</span>
G68 G68<span style="color: #666666">.1</span> G68<span style="color: #666666">.2</span> G68<span style="color: #666666">.3</span> G68<span style="color: #666666">.4</span> G68<span style="color: #666666">.5</span> G68<span style="color: #666666">.6</span> G68<span style="color: #666666">.7</span> G68<span style="color: #666666">.8</span> G68<span style="color: #666666">.9</span>
G69 G69<span style="color: #666666">.1</span> G69<span style="color: #666666">.2</span> G69<span style="color: #666666">.3</span> G69<span style="color: #666666">.4</span> G69<span style="color: #666666">.5</span> G69<span style="color: #666666">.6</span> G69<span style="color: #666666">.7</span> G69<span style="color: #666666">.8</span> G69<span style="color: #666666">.9</span>
G70 G70<span style="color: #666666">.1</span> G70<span style="color: #666666">.2</span> G70<span style="color: #666666">.3</span> G70<span style="color: #666666">.4</span> G70<span style="color: #666666">.5</span> G70<span style="color: #666666">.6</span> G70<span style="color: #666666">.7</span> G70<span style="color: #666666">.8</span> G70<span style="color: #666666">.9</span>
G71 G71<span style="color: #666666">.1</span> G71<span style="color: #666666">.2</span> G71<span style="color: #666666">.3</span> G71<span style="color: #666666">.4</span> G71<span style="color: #666666">.5</span> G71<span style="color: #666666">.6</span> G71<span style="color: #666666">.7</span> G71<span style="color: #666666">.8</span> G71<span style="color: #666666">.9</span>
G72 G72<span style="color: #666666">.1</span> G72<span style="color: #666666">.2</span> G72<span style="color: #666666">.3</span> G72<span style="color: #666666">.4</span> G72<span style="color: #666666">.5</span> G72<span style="color: #666666">.6</span> G72<span style="color: #666666">.7</span> G72<span style="color: #666666">.8</span> G72<span style="color: #666666">.9</span>
G73<span style="color: #666666">.1</span> G73<span style="color: #666666">.2</span> G73<span style="color: #666666">.3</span> G73<span style="color: #666666">.4</span> G73<span style="color: #666666">.5</span> G73<span style="color: #666666">.6</span> G73<span style="color: #666666">.7</span> G73<span style="color: #666666">.8</span> G73<span style="color: #666666">.9</span>
G74 G74<span style="color: #666666">.1</span> G74<span style="color: #666666">.2</span> G74<span style="color: #666666">.3</span> G74<span style="color: #666666">.4</span> G74<span style="color: #666666">.5</span> G74<span style="color: #666666">.6</span> G74<span style="color: #666666">.7</span> G74<span style="color: #666666">.8</span> G74<span style="color: #666666">.9</span>
G75 G75<span style="color: #666666">.1</span> G75<span style="color: #666666">.2</span> G75<span style="color: #666666">.3</span> G75<span style="color: #666666">.4</span> G75<span style="color: #666666">.5</span> G75<span style="color: #666666">.6</span> G75<span style="color: #666666">.7</span> G75<span style="color: #666666">.8</span> G75<span style="color: #666666">.9</span>
G76<span style="color: #666666">.1</span> G76<span style="color: #666666">.2</span> G76<span style="color: #666666">.3</span> G76<span style="color: #666666">.4</span> G76<span style="color: #666666">.5</span> G76<span style="color: #666666">.6</span> G76<span style="color: #666666">.7</span> G76<span style="color: #666666">.8</span> G76<span style="color: #666666">.9</span>
G77 G77<span style="color: #666666">.1</span> G77<span style="color: #666666">.2</span> G77<span style="color: #666666">.3</span> G77<span style="color: #666666">.4</span> G77<span style="color: #666666">.5</span> G77<span style="color: #666666">.6</span> G77<span style="color: #666666">.7</span> G77<span style="color: #666666">.8</span> G77<span style="color: #666666">.9</span>
G78 G78<span style="color: #666666">.1</span> G78<span style="color: #666666">.2</span> G78<span style="color: #666666">.3</span> G78<span style="color: #666666">.4</span> G78<span style="color: #666666">.5</span> G78<span style="color: #666666">.6</span> G78<span style="color: #666666">.7</span> G78<span style="color: #666666">.8</span> G78<span style="color: #666666">.9</span>
G79 G79<span style="color: #666666">.1</span> G79<span style="color: #666666">.2</span> G79<span style="color: #666666">.3</span> G79<span style="color: #666666">.4</span> G79<span style="color: #666666">.5</span> G79<span style="color: #666666">.6</span> G79<span style="color: #666666">.7</span> G79<span style="color: #666666">.8</span> G79<span style="color: #666666">.9</span>
G80<span style="color: #666666">.1</span> G80<span style="color: #666666">.2</span> G80<span style="color: #666666">.3</span> G80<span style="color: #666666">.4</span> G80<span style="color: #666666">.5</span> G80<span style="color: #666666">.6</span> G80<span style="color: #666666">.7</span> G80<span style="color: #666666">.8</span> G80<span style="color: #666666">.9</span>
G81<span style="color: #666666">.1</span> G81<span style="color: #666666">.2</span> G81<span style="color: #666666">.3</span> G81<span style="color: #666666">.4</span> G81<span style="color: #666666">.5</span> G81<span style="color: #666666">.6</span> G81<span style="color: #666666">.7</span> G81<span style="color: #666666">.8</span> G81<span style="color: #666666">.9</span>
G82<span style="color: #666666">.1</span> G82<span style="color: #666666">.2</span> G82<span style="color: #666666">.3</span> G82<span style="color: #666666">.4</span> G82<span style="color: #666666">.5</span> G82<span style="color: #666666">.6</span> G82<span style="color: #666666">.7</span> G82<span style="color: #666666">.8</span> G82<span style="color: #666666">.9</span>
G83<span style="color: #666666">.1</span> G83<span style="color: #666666">.2</span> G83<span style="color: #666666">.3</span> G83<span style="color: #666666">.4</span> G83<span style="color: #666666">.5</span> G83<span style="color: #666666">.6</span> G83<span style="color: #666666">.7</span> G83<span style="color: #666666">.8</span> G83<span style="color: #666666">.9</span>
G84<span style="color: #666666">.1</span> G84<span style="color: #666666">.2</span> G84<span style="color: #666666">.3</span> G84<span style="color: #666666">.4</span> G84<span style="color: #666666">.5</span> G84<span style="color: #666666">.6</span> G84<span style="color: #666666">.7</span> G84<span style="color: #666666">.8</span> G84<span style="color: #666666">.9</span>
G85<span style="color: #666666">.1</span> G85<span style="color: #666666">.2</span> G85<span style="color: #666666">.3</span> G85<span style="color: #666666">.4</span> G85<span style="color: #666666">.5</span> G85<span style="color: #666666">.6</span> G85<span style="color: #666666">.7</span> G85<span style="color: #666666">.8</span> G85<span style="color: #666666">.9</span>
G86<span style="color: #666666">.1</span> G86<span style="color: #666666">.2</span> G86<span style="color: #666666">.3</span> G86<span style="color: #666666">.4</span> G86<span style="color: #666666">.5</span> G86<span style="color: #666666">.6</span> G86<span style="color: #666666">.7</span> G86<span style="color: #666666">.8</span> G86<span style="color: #666666">.9</span>
G87<span style="color: #666666">.1</span> G87<span style="color: #666666">.2</span> G87<span style="color: #666666">.3</span> G87<span style="color: #666666">.4</span> G87<span style="color: #666666">.5</span> G87<span style="color: #666666">.6</span> G87<span style="color: #666666">.7</span> G87<span style="color: #666666">.8</span> G87<span style="color: #666666">.9</span>
G88<span style="color: #666666">.1</span> G88<span style="color: #666666">.2</span> G88<span style="color: #666666">.3</span> G88<span style="color: #666666">.4</span> G88<span style="color: #666666">.5</span> G88<span style="color: #666666">.6</span> G88<span style="color: #666666">.7</span> G88<span style="color: #666666">.8</span> G88<span style="color: #666666">.9</span>
G89<span style="color: #666666">.1</span> G89<span style="color: #666666">.2</span> G89<span style="color: #666666">.3</span> G89<span style="color: #666666">.4</span> G89<span style="color: #666666">.5</span> G89<span style="color: #666666">.6</span> G89<span style="color: #666666">.7</span> G89<span style="color: #666666">.8</span> G89<span style="color: #666666">.9</span>
G90<span style="color: #666666">.2</span> G90<span style="color: #666666">.3</span> G90<span style="color: #666666">.4</span> G90<span style="color: #666666">.5</span> G90<span style="color: #666666">.6</span> G90<span style="color: #666666">.7</span> G90<span style="color: #666666">.8</span> G90<span style="color: #666666">.9</span>
G91<span style="color: #666666">.2</span> G91<span style="color: #666666">.3</span> G91<span style="color: #666666">.4</span> G91<span style="color: #666666">.5</span> G91<span style="color: #666666">.6</span> G91<span style="color: #666666">.7</span> G91<span style="color: #666666">.8</span> G91<span style="color: #666666">.9</span>
G92<span style="color: #666666">.4</span> G92<span style="color: #666666">.5</span> G92<span style="color: #666666">.6</span> G92<span style="color: #666666">.7</span> G92<span style="color: #666666">.8</span> G92<span style="color: #666666">.9</span>
G93<span style="color: #666666">.1</span> G93<span style="color: #666666">.2</span> G93<span style="color: #666666">.3</span> G93<span style="color: #666666">.4</span> G93<span style="color: #666666">.5</span> G93<span style="color: #666666">.6</span> G93<span style="color: #666666">.7</span> G93<span style="color: #666666">.8</span> G93<span style="color: #666666">.9</span>
G94<span style="color: #666666">.1</span> G94<span style="color: #666666">.2</span> G94<span style="color: #666666">.3</span> G94<span style="color: #666666">.4</span> G94<span style="color: #666666">.5</span> G94<span style="color: #666666">.6</span> G94<span style="color: #666666">.7</span> G94<span style="color: #666666">.8</span> G94<span style="color: #666666">.9</span>
G95<span style="color: #666666">.1</span> G95<span style="color: #666666">.2</span> G95<span style="color: #666666">.3</span> G95<span style="color: #666666">.4</span> G95<span style="color: #666666">.5</span> G95<span style="color: #666666">.6</span> G95<span style="color: #666666">.7</span> G95<span style="color: #666666">.8</span> G95<span style="color: #666666">.9</span>
G96<span style="color: #666666">.1</span> G96<span style="color: #666666">.2</span> G96<span style="color: #666666">.3</span> G96<span style="color: #666666">.4</span> G96<span style="color: #666666">.5</span> G96<span style="color: #666666">.6</span> G96<span style="color: #666666">.7</span> G96<span style="color: #666666">.8</span> G96<span style="color: #666666">.9</span>
G97<span style="color: #666666">.1</span> G97<span style="color: #666666">.2</span> G97<span style="color: #666666">.3</span> G97<span style="color: #666666">.4</span> G97<span style="color: #666666">.5</span> G97<span style="color: #666666">.6</span> G97<span style="color: #666666">.7</span> G97<span style="color: #666666">.8</span> G97<span style="color: #666666">.9</span>
G98<span style="color: #666666">.1</span> G98<span style="color: #666666">.2</span> G98<span style="color: #666666">.3</span> G98<span style="color: #666666">.4</span> G98<span style="color: #666666">.5</span> G98<span style="color: #666666">.6</span> G98<span style="color: #666666">.7</span> G98<span style="color: #666666">.8</span> G98<span style="color: #666666">.9</span>
G99<span style="color: #666666">.1</span> G99<span style="color: #666666">.2</span> G99<span style="color: #666666">.3</span> G99<span style="color: #666666">.4</span> G99<span style="color: #666666">.5</span> G99<span style="color: #666666">.6</span> G99<span style="color: #666666">.7</span> G99<span style="color: #666666">.8</span> G99<span style="color: #666666">.9</span>

<span style="color: #666666">===</span> Currently unallocated M<span style="color: #666666">-</span>codes: [[remap:unallocated<span style="color: #666666">-</span>m<span style="color: #666666">-</span>codes]]

These codes are currently undefined <span style="color: #AA22FF; font-weight: bold">in</span> the current implementation of Machinekit
<span style="color: #AA22FF; font-weight: bold">and</span> may be used to define new M<span style="color: #666666">-</span>codes:

 M10
 M11 M12 M13 M14 M15 M16 M17 M18 M19 M20
 M21 M22 M23 M24 M25 M26 M27 M28 M29 M31 M32 M33 M34 M35 M36 M37 M38 M39 M40
 M41 M42 M43 M44 M45 M46 M47 M54 M55 M56 M57 M58 M59 M74 M75 M76 M77 M78 M79 M80
 M81 M82 M83 M84 M85 M86 M87 M88 M89 M90
 M91 M92 M93 M94 M95 M96 M97 M98 M99

All codes between <span style="color: #BA2121">`M100`</span>  <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #BA2121">`M999`</span><span style="color: #666666">.</span>

<span style="color: #666666">===</span> readahead time <span style="color: #AA22FF; font-weight: bold">and</span> execution time
foo

<span style="color: #666666">===</span> plugin<span style="color: #666666">/</span>pickle hack
foo

<span style="color: #666666">===</span> Module, methods, classes, etc reference
foo


<span style="color: #666666">==</span> Introduction: Extending Task Execution
foo

<span style="color: #666666">===</span> Why would you want to change Task Execution<span style="border: 1px solid #FF0000">?</span>
foo

<span style="color: #666666">===</span> A diagram: task, interp, iocontrol, UI (<span style="border: 1px solid #FF0000">??</span>)
foo

<span style="color: #666666">==</span> Models of Task execution
foo

<span style="color: #666666">===</span> Traditional iocontrol<span style="color: #666666">/</span>iocontrolv2 execution
foo

<span style="color: #666666">===</span> Redefining IO procedures
foo

<span style="color: #666666">===</span> Execution<span style="color: #666666">-</span>time Python procedures
foo

<span style="color: #666666">//</span> setup examples

<span style="color: #666666">==</span> A short survey of Machinekit program execution
To understand remapping of codes it might be helpful to survey the
execution  of task <span style="color: #AA22FF; font-weight: bold">and</span> interpreter <span style="color: #008000; font-weight: bold">as</span> far <span style="color: #008000; font-weight: bold">as</span> it relates to remapping<span style="color: #666666">.</span>

<span style="color: #666666">===</span> Interpreter state
Conceptually, the interpreter<span style="color: #BA2121">&#39;s state consist of variables which fall into</span>
the following categories:

<span style="color: #666666">1.</span> configuration information (typically <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">INI</span> <span style="color: #0000FF; font-weight: bold">file</span>)
<span style="color: #666666">2.</span> the <span style="color: #BA2121">&#39;World model&#39;</span> <span style="color: #666666">-</span> a representation of actual machine state
<span style="color: #666666">3.</span> modal state <span style="color: #AA22FF; font-weight: bold">and</span> settings
<span style="color: #666666">4.</span> interpreter execution state

(<span style="color: #666666">3</span>) refers to state which <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #BA2121">&#39;carried over&#39;</span> between executing
individual NGC codes <span style="color: #666666">-</span> <span style="color: #008000; font-weight: bold">for</span> instance, once the spindle <span style="color: #AA22FF; font-weight: bold">is</span> turned on <span style="color: #AA22FF; font-weight: bold">and</span>
the speed <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000">set</span>, it remains at this setting until turned off<span style="color: #666666">.</span> The
same goes <span style="color: #008000; font-weight: bold">for</span> many codes, like feed, units, motion modes (feed <span style="color: #AA22FF; font-weight: bold">or</span>
rapid)  <span style="color: #AA22FF; font-weight: bold">and</span> so forth<span style="color: #666666">.</span>

(<span style="color: #666666">4</span>) holds information about the block currently executed, whether we
are <span style="color: #AA22FF; font-weight: bold">in</span> a subroutine, interpreter variables etc<span style="color: #666666">.</span>

Most of this state <span style="color: #AA22FF; font-weight: bold">is</span> aggregated <span style="color: #AA22FF; font-weight: bold">in</span> a <span style="color: #666666">-</span> fairly unsystematic <span style="color: #666666">-</span>
<span style="color: #BA2121">`structure _setup`</span> (see interp_internals<span style="color: #666666">.</span>hh)<span style="color: #666666">.</span>

<span style="color: #666666">===</span> Task <span style="color: #AA22FF; font-weight: bold">and</span> Interpreter interaction, Queueing <span style="color: #AA22FF; font-weight: bold">and</span> Read<span style="color: #666666">-</span>Ahead

The task part of Machinekit <span style="color: #AA22FF; font-weight: bold">is</span> responsible <span style="color: #008000; font-weight: bold">for</span> coordinating actual machine
commands <span style="color: #666666">-</span> movement, HAL interactions <span style="color: #AA22FF; font-weight: bold">and</span> so forth<span style="color: #666666">.</span> It does <span style="color: #AA22FF; font-weight: bold">not</span> by
itself handle the RS274NGC language<span style="color: #666666">.</span> To do so, task calls upon the
interpreter to parse <span style="color: #AA22FF; font-weight: bold">and</span> execute the <span style="color: #008000">next</span> command <span style="color: #666666">-</span> either <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">MDI</span> <span style="color: #0000FF; font-weight: bold">or</span>
the current <span style="color: #008000">file</span><span style="color: #666666">.</span>

The interpreter execution generates canonical machine operations, which
actually move something<span style="color: #666666">.</span> These are, however, <span style="color: #AA22FF; font-weight: bold">not</span> immediately executed but
put on a queue<span style="color: #666666">.</span> The actual execution of these codes happens <span style="color: #AA22FF; font-weight: bold">in</span> the task
part of Machinekit: canon commands are pulled off that interpreter queue,
<span style="color: #AA22FF; font-weight: bold">and</span> executed resulting <span style="color: #AA22FF; font-weight: bold">in</span> actual machine movements<span style="color: #666666">.</span>

This means that typically the interpreter <span style="color: #AA22FF; font-weight: bold">is</span> far ahead of the actual
execution of commands <span style="color: #666666">-</span> the parsing of the program might well be
finished before <span style="color: #008000">any</span> noticeable movement starts<span style="color: #666666">.</span> This behaviour <span style="color: #AA22FF; font-weight: bold">is</span>
called <span style="color: #BA2121">&#39;read-ahead&#39;</span><span style="color: #666666">.</span>

<span style="color: #666666">===</span> Predicting the machine position

To compute canonical machine operations <span style="color: #AA22FF; font-weight: bold">in</span> advance during readahead,
the interpreter must be able to predict the machine position after
each line of Gcode, <span style="color: #AA22FF; font-weight: bold">and</span> that <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> always possible<span style="color: #666666">.</span>

Let<span style="color: #BA2121">&#39;s look at a simple example program which does relative moves</span>
(G91), <span style="color: #AA22FF; font-weight: bold">and</span> assume the machine starts at x<span style="color: #666666">=0</span>,y<span style="color: #666666">=0</span>,z<span style="color: #666666">=0.</span> Relative moves
imply that the outcome of the <span style="color: #008000">next</span> move relies on the position of the
previous one:

[source,{ngc}]
<span style="color: #666666">---------------------------------------------------------------------</span>
N10 G91
N20 G0 X10 Y<span style="color: #666666">-5</span> Z20
N30 G1 Y20 Z<span style="color: #666666">-5</span>
N40 G0 Z30
N50 M2
<span style="color: #666666">---------------------------------------------------------------------</span>

Here the interpreter can clearly predict machine positions <span style="color: #008000; font-weight: bold">for</span> each line:

After N20: x<span style="color: #666666">=10</span> y<span style="color: #666666">=-5</span> z<span style="color: #666666">=20</span>; after N30: x<span style="color: #666666">=10</span> y<span style="color: #666666">=15</span> z<span style="color: #666666">=15</span>; after N40: x<span style="color: #666666">=10</span> y<span style="color: #666666">=15</span> z<span style="color: #666666">=45</span>

<span style="color: #AA22FF; font-weight: bold">and</span> so can parse the whole program <span style="color: #AA22FF; font-weight: bold">and</span> generate canonical operations
well <span style="color: #AA22FF; font-weight: bold">in</span> advance<span style="color: #666666">.</span>


<span style="color: #666666">===</span> Queuebusters <span style="color: #008000; font-weight: bold">break</span> position prediction

However, complete readahead <span style="color: #AA22FF; font-weight: bold">is</span> only possible when the
interpreter can predict the position impact <span style="color: #008000; font-weight: bold">for</span> <span style="color: #666666">*</span>every<span style="color: #666666">*</span> line <span style="color: #AA22FF; font-weight: bold">in</span> the
program <span style="color: #AA22FF; font-weight: bold">in</span> advance<span style="color: #666666">.</span> Let<span style="color: #BA2121">&#39;s look at a modified example:</span>

[source,{ngc}]
<span style="color: #666666">---------------------------------------------------------------------</span>
N10 G91
N20 G0 X10 Y<span style="color: #666666">-5</span> Z20
N30 G38<span style="color: #666666">.3</span> Z<span style="color: #666666">-10</span>
N40 O100 <span style="color: #008000; font-weight: bold">if</span> [<span style="color: #408080; font-style: italic">#5070 EQ 0]</span>
N50    G1 Y20 Z<span style="color: #666666">-5</span>
N60 O100 <span style="color: #008000; font-weight: bold">else</span>
N70    G0 Z30
N80 O100 endif
N90 G1 Z10
N95 M2
<span style="color: #666666">---------------------------------------------------------------------</span>
To pre<span style="color: #666666">-</span>compute the move <span style="color: #AA22FF; font-weight: bold">in</span> N90, the interpreter would need to know
where the machine <span style="color: #AA22FF; font-weight: bold">is</span> after line N80 <span style="color: #666666">-</span> <span style="color: #AA22FF; font-weight: bold">and</span> that depends on whether the
probe command succeeded <span style="color: #AA22FF; font-weight: bold">or</span> <span style="color: #AA22FF; font-weight: bold">not</span>, which <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> known until it<span style="color: #BA2121">&#39;s actually</span>
executed<span style="color: #666666">.</span>

So, some operations are incompatible <span style="color: #008000; font-weight: bold">with</span> further read<span style="color: #666666">-</span>ahead<span style="color: #666666">.</span> These
are called <span style="color: #BA2121">&#39;queue busters&#39;</span>, <span style="color: #AA22FF; font-weight: bold">and</span> they are:

<span style="color: #666666">-</span> reading a HAL pin<span style="color: #BA2121">&#39;s value with M66: value of HAL pin not predictable</span>
<span style="color: #666666">-</span> loading a new tool <span style="color: #008000; font-weight: bold">with</span> M6: tool geometry <span style="color: #AA22FF; font-weight: bold">not</span> predictable
<span style="color: #666666">-</span> executing a probe <span style="color: #008000; font-weight: bold">with</span> G38<span style="color: #666666">.</span>x: final position <span style="color: #AA22FF; font-weight: bold">and</span> success<span style="color: #666666">/</span>failure <span style="color: #AA22FF; font-weight: bold">not</span> predictable


<span style="color: #666666">===</span> How queuebusters are dealt <span style="color: #008000; font-weight: bold">with</span>

Whenever the interpreter encounters a queuebuster, it needs to stop
readahead <span style="color: #AA22FF; font-weight: bold">and</span> wait until the relevant result <span style="color: #AA22FF; font-weight: bold">is</span> avalaible<span style="color: #666666">.</span> The way
this works <span style="color: #AA22FF; font-weight: bold">is</span>:

<span style="color: #666666">-</span> when such a code <span style="color: #AA22FF; font-weight: bold">is</span> encountered, the interpreter returns a
special <span style="color: #008000; font-weight: bold">return</span> code to task (<span style="color: #BA2121">&#39;INTERP_EXECUTE_FINISH&#39;</span>)<span style="color: #666666">.</span>

<span style="color: #666666">-</span> this returncode signals to task to stop readahead <span style="color: #008000; font-weight: bold">for</span> now, execute
<span style="color: #008000">all</span> queued canonical commands built up so far (including the last one,
which <span style="color: #AA22FF; font-weight: bold">is</span> the queue buster), <span style="color: #AA22FF; font-weight: bold">and</span> then <span style="color: #BA2121">&#39;synchronize</span>
the interpreter state <span style="color: #008000; font-weight: bold">with</span> the world model<span style="color: #BA2121">&#39;. Technically, this means</span>
updating internal variables to reflect HAL pin values, <span style="color: #008000">reload</span> tool
geometries after an M6, <span style="color: #AA22FF; font-weight: bold">and</span> convey results of a probe<span style="color: #666666">.</span>

<span style="color: #666666">-</span> The interpreter<span style="color: #BA2121">&#39;s &#39;</span>synch()<span style="color: #BA2121">&#39; method is called by task and does just</span>
that <span style="color: #666666">-</span> read <span style="color: #008000">all</span> the world model <span style="color: #BA2121">&#39;actual&#39;</span> values which are relevant <span style="color: #008000; font-weight: bold">for</span>
further execution<span style="color: #666666">.</span>

<span style="color: #666666">-</span> at this point, task goes ahead <span style="color: #AA22FF; font-weight: bold">and</span> calls the interpreter <span style="color: #008000; font-weight: bold">for</span> more
  readahead <span style="color: #666666">-</span> until either the program ends <span style="color: #AA22FF; font-weight: bold">or</span> another queuebuster <span style="color: #AA22FF; font-weight: bold">is</span> encountered<span style="color: #666666">.</span>

<span style="color: #666666">===</span> Word order <span style="color: #AA22FF; font-weight: bold">and</span> execution order

One <span style="color: #AA22FF; font-weight: bold">or</span> several <span style="color: #BA2121">&#39;words&#39;</span> may be present on an NGC <span style="color: #BA2121">&#39;block&#39;</span> <span style="color: #008000; font-weight: bold">if</span> they are
compatible (some are mutually exclusive <span style="color: #AA22FF; font-weight: bold">and</span> must be on different
lines)<span style="color: #666666">.</span>  The execution model however prescribes a strict ordering of
execution of codes, regardless of their appearance on the source line
(<span style="color: #666666">&lt;&lt;</span>sec:Order<span style="color: #666666">-</span>of<span style="color: #666666">-</span>Execution, G<span style="color: #666666">-</span>Code Order of Execution<span style="color: #666666">&gt;&gt;</span>)<span style="color: #666666">.</span>

<span style="color: #666666">===</span> Parsing

Once a line <span style="color: #AA22FF; font-weight: bold">is</span> read (<span style="color: #AA22FF; font-weight: bold">in</span> either MDI mode, <span style="color: #AA22FF; font-weight: bold">or</span> <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">the</span> <span style="color: #0000FF; font-weight: bold">current</span> <span style="color: #0000FF; font-weight: bold">NGC</span>
<span style="color: #008000">file</span>), it <span style="color: #AA22FF; font-weight: bold">is</span> parsed <span style="color: #AA22FF; font-weight: bold">and</span> flags <span style="color: #AA22FF; font-weight: bold">and</span> parameters are <span style="color: #008000">set</span> <span style="color: #AA22FF; font-weight: bold">in</span> a <span style="color: #BA2121">&#39;struct</span>
block<span style="color: #BA2121">&#39; (struct _setup, member block1). This struct holds all information</span>
about the current source line, but independent of different ordering
of codes on the current line: <span style="color: #008000; font-weight: bold">as</span> <span style="color: #008000">long</span> <span style="color: #008000; font-weight: bold">as</span> several codes are compatible,
<span style="color: #008000">any</span> source ordering will result <span style="color: #AA22FF; font-weight: bold">in</span> the same variables <span style="color: #008000">set</span> <span style="color: #AA22FF; font-weight: bold">in</span> the
struct block<span style="color: #666666">.</span> Right after parsing, <span style="color: #008000">all</span> codes on a block are checked <span style="color: #008000; font-weight: bold">for</span>
compatibility<span style="color: #666666">.</span>

<span style="color: #666666">===</span> Execution

After successful parsing the block <span style="color: #AA22FF; font-weight: bold">is</span> executed by execute_block(), <span style="color: #AA22FF; font-weight: bold">and</span>
here the different items are handled according to execution order<span style="color: #666666">.</span>

If a <span style="color: #BA2121">&quot;queue buster&quot;</span> <span style="color: #AA22FF; font-weight: bold">is</span> found, a corresponding flag <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000">set</span> <span style="color: #AA22FF; font-weight: bold">in</span> the
interpreter state (toolchange_flag, input_flag, probe_flag) <span style="color: #AA22FF; font-weight: bold">and</span> the
interpreter returns an INTERP_EXECUTE_FINISH <span style="color: #008000; font-weight: bold">return</span> value, signaling
<span style="color: #BA2121">&#39;stop readahead for now, and resynch&#39;</span> to the caller (<span style="color: #BA2121">&#39;task&#39;</span>)<span style="color: #666666">.</span>
If no queue busters are found
after <span style="color: #008000">all</span> items are executed, INTERP_OK <span style="color: #AA22FF; font-weight: bold">is</span> returned, signalling that
read<span style="color: #666666">-</span>ahead may <span style="color: #008000; font-weight: bold">continue</span><span style="color: #666666">.</span>

When read ahead continues after the synch, task starts executing
interpreter read() operations again<span style="color: #666666">.</span>  During the <span style="color: #008000">next</span> read operation,
the abovementioned flags are checked <span style="color: #AA22FF; font-weight: bold">and</span> corresponding variables are
<span style="color: #008000">set</span> (because the a synch() was just executed, the values are now
current)<span style="color: #666666">.</span> This means that the <span style="color: #008000">next</span> command already executes <span style="color: #AA22FF; font-weight: bold">in</span> the
properly <span style="color: #008000">set</span> variable context<span style="color: #666666">.</span>

<span style="color: #666666">===</span> Procedure execution

O<span style="color: #666666">-</span>word procedures complicate handling of queue busters a bit<span style="color: #666666">.</span> A queue
buster might be found somewhere <span style="color: #AA22FF; font-weight: bold">in</span> a nested procedure, resulting <span style="color: #AA22FF; font-weight: bold">in</span> a
semi<span style="color: #666666">-</span>finished procedure call when INTERP_EXECUTE_FINISH <span style="color: #AA22FF; font-weight: bold">is</span>
returned<span style="color: #666666">.</span> Task makes sure to synchronize the world model, <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #008000; font-weight: bold">continue</span>
parsing <span style="color: #AA22FF; font-weight: bold">and</span> execution <span style="color: #008000; font-weight: bold">as</span> <span style="color: #008000">long</span> <span style="color: #008000; font-weight: bold">as</span> there <span style="color: #AA22FF; font-weight: bold">is</span> still a procedure executing
(call_level <span style="color: #666666">&gt;</span> <span style="color: #666666">0</span>)<span style="color: #666666">.</span>

<span style="color: #666666">===</span> How toolchange currently works [[remap::how<span style="color: #666666">-</span>toolchange<span style="color: #666666">-</span>currently<span style="color: #666666">-</span>works]]
The actions happening <span style="color: #AA22FF; font-weight: bold">in</span> Machinekit are a bit involved, but it<span style="color: #BA2121">&#39;s necessary</span>
to get the overall idea what currently happens before you <span style="color: #008000">set</span> out to
adapt those workings to your own needs<span style="color: #666666">.</span>

Note that remapping an existing code completely disables <span style="color: #008000">all</span> internal
processing <span style="color: #008000; font-weight: bold">for</span> that code<span style="color: #666666">.</span> That means that beyond your desired
behaviour <span style="color: #666666">-</span> probably described through an NGC Oword <span style="color: #AA22FF; font-weight: bold">or</span> Python
procedure, you need to replicate those internal actions of the
interpreter which together result <span style="color: #AA22FF; font-weight: bold">in</span> a complete replacement of the
existing code<span style="color: #666666">.</span> The prolog <span style="color: #AA22FF; font-weight: bold">and</span> epilog code <span style="color: #AA22FF; font-weight: bold">is</span> the place to do this<span style="color: #666666">.</span>

<span style="color: #666666">====</span> How tool information <span style="color: #AA22FF; font-weight: bold">is</span> communicated
Several processes are <span style="color: #BA2121">&#39;interested&#39;</span> <span style="color: #AA22FF; font-weight: bold">in</span> tool information: task <span style="color: #AA22FF; font-weight: bold">and</span> its
interpreter, <span style="color: #008000; font-weight: bold">as</span> well <span style="color: #008000; font-weight: bold">as</span> the user interface<span style="color: #666666">.</span> Also, the <span style="color: #BA2121">&#39;halui&#39;</span> process<span style="color: #666666">.</span>

Tool information <span style="color: #AA22FF; font-weight: bold">is</span> held <span style="color: #AA22FF; font-weight: bold">in</span> the <span style="color: #BA2121">&#39;emcStatus&#39;</span> structure, which <span style="color: #AA22FF; font-weight: bold">is</span>
 shared by <span style="color: #008000">all</span> parties<span style="color: #666666">.</span> One of its fields <span style="color: #AA22FF; font-weight: bold">is</span> the <span style="color: #BA2121">&#39;toolTable&#39;</span> array,
 which holds the description <span style="color: #008000; font-weight: bold">as</span> loaded <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">the</span> <span style="color: #0000FF; font-weight: bold">tool</span> <span style="color: #0000FF; font-weight: bold">table</span> <span style="color: #0000FF; font-weight: bold">file</span> (tool
 number, diameter, frontangle, backangle <span style="color: #AA22FF; font-weight: bold">and</span> orientation <span style="color: #008000; font-weight: bold">for</span> lathe,
 tool offset information)<span style="color: #666666">.</span>

The authoritative source <span style="color: #AA22FF; font-weight: bold">and</span> only process actually <span style="color: #BA2121">&#39;setting&#39;</span> tool
information <span style="color: #AA22FF; font-weight: bold">in</span> this structure <span style="color: #AA22FF; font-weight: bold">is</span> the <span style="color: #BA2121">&#39;iocontrol&#39;</span> process<span style="color: #666666">.</span> All others
processes just consult this structure<span style="color: #666666">.</span> The interpreter holds actually
a local copy of the tool table<span style="color: #666666">.</span>

For the curious, the current emcStatus structure can be accessed by
<span style="color: #666666">&lt;&lt;</span>remap::executing<span style="color: #666666">-</span>Python<span style="color: #666666">-</span>statements,Python statements<span style="color: #666666">&gt;&gt;.</span> The
interpreter<span style="color: #BA2121">&#39;s perception of the tool currently loaded for instance is</span>
accessed by:

 ;py,<span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">interpreter</span> <span style="color: #008000; font-weight: bold">import</span> <span style="color: #666666">*</span>
 ;py,<span style="color: #008000; font-weight: bold">print</span> this<span style="color: #666666">.</span>tool_table[<span style="color: #666666">0</span>]

To see fields <span style="color: #AA22FF; font-weight: bold">in</span> the <span style="color: #008000; font-weight: bold">global</span> emcStatus structure, <span style="color: #008000; font-weight: bold">try</span> this:

 ;py,<span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">emctask</span> <span style="color: #008000; font-weight: bold">import</span> <span style="color: #666666">*</span>
 ;py,<span style="color: #008000; font-weight: bold">print</span> emcstat<span style="color: #666666">.</span>io<span style="color: #666666">.</span>tool<span style="color: #666666">.</span>pocketPrepped
 ;py,<span style="color: #008000; font-weight: bold">print</span> emcstat<span style="color: #666666">.</span>io<span style="color: #666666">.</span>tool<span style="color: #666666">.</span>toolInSpindle
 ;py,<span style="color: #008000; font-weight: bold">print</span> emcstat<span style="color: #666666">.</span>io<span style="color: #666666">.</span>tool<span style="color: #666666">.</span>toolTable[<span style="color: #666666">0</span>]

You need to have Machinekit started <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">a</span> <span style="color: #0000FF; font-weight: bold">terminal</span> <span style="color: #0000FF; font-weight: bold">window</span> <span style="color: #0000FF; font-weight: bold">to</span> <span style="color: #0000FF; font-weight: bold">see</span> <span style="color: #0000FF; font-weight: bold">the</span>
results<span style="color: #666666">.</span>

<span style="color: #666666">===</span> How Tx (Prepare Tool) works



<span style="color: #666666">====</span> Interpreter action on a Tx command [[remap::interpreter<span style="color: #666666">-</span>action<span style="color: #666666">-</span>on<span style="color: #666666">-</span>T]]

All the interpreter does <span style="color: #AA22FF; font-weight: bold">is</span> evaluate the toolnumber paramter, looks up
its corresponding pocket, remembers it <span style="color: #AA22FF; font-weight: bold">in</span> the <span style="color: #BA2121">`selected_pocket`</span>
variable <span style="color: #008000; font-weight: bold">for</span> later, <span style="color: #AA22FF; font-weight: bold">and</span>  queues a canon command
(SELECT_POCKET)<span style="color: #666666">.</span> See <span style="color: #BA2121">&#39;Interp::convert_tool_select&#39;</span> <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #BA2121">&#39;src/emc/rs274/interp_execute.cc&#39;</span><span style="color: #666666">.</span>

<span style="color: #666666">====</span> Task action on SELECT_POCKET

When task gets around to handle a SELECT_POCKET, it sends a
EMC_TOOL_PREPARE message to the iocontrol process, which handles most
tool<span style="color: #666666">-</span>related actions <span style="color: #AA22FF; font-weight: bold">in</span> Machinekit<span style="color: #666666">.</span>

In the current implementation, task actually waits <span style="color: #008000; font-weight: bold">for</span> iocontrol to
complete the changer positioning operation, which <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #AA22FF; font-weight: bold">not</span> necessary IMO
<span style="color: #666666">-</span> it defeats the idea that changer preparation <span style="color: #AA22FF; font-weight: bold">and</span> code execution can
proceed <span style="color: #AA22FF; font-weight: bold">in</span> parallel<span style="color: #666666">.</span>

<span style="color: #666666">====</span> Iocontrol action on EMC_TOOL_PREPARE

When iocontrol sees the select pocket command, it does the related HAL
pin wiggling <span style="color: #666666">-</span> it sets the <span style="color: #BA2121">&quot;tool-prep-number&quot;</span> pin to indicate which
tool <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000">next</span>, raises the <span style="color: #BA2121">&quot;tool-prepare&quot;</span> pin, <span style="color: #AA22FF; font-weight: bold">and</span> waits <span style="color: #008000; font-weight: bold">for</span> the
<span style="color: #BA2121">&quot;tool-prepared&quot;</span> pin to go high<span style="color: #666666">.</span>

When the changer responds by asserting <span style="color: #BA2121">&quot;tool-prepared&quot;</span>, it considers
the prepare phase to be completed <span style="color: #AA22FF; font-weight: bold">and</span> signals task to
<span style="color: #008000; font-weight: bold">continue</span><span style="color: #666666">.</span> (again, this <span style="color: #BA2121">&#39;wait&#39;</span> istn strictly necessary IMO)

<span style="color: #666666">====</span> Building the prolog <span style="color: #AA22FF; font-weight: bold">and</span> epilog <span style="color: #008000; font-weight: bold">for</span> Tx

See the Python functions <span style="color: #BA2121">`prepare_prolog`</span> <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #BA2121">`prepare_epilog`</span> <span style="color: #AA22FF; font-weight: bold">in</span>
<span style="color: #BA2121">`configs/sim/axis/remap/toolchange/python/toolchange.py`</span><span style="color: #666666">.</span>


<span style="color: #666666">===</span> How M6 (Change tool) works

You need to understand this fully before you can adapt it<span style="color: #666666">.</span> It <span style="color: #AA22FF; font-weight: bold">is</span> very
relevant to writing a prolog <span style="color: #AA22FF; font-weight: bold">and</span> epilog handler <span style="color: #008000; font-weight: bold">for</span> a remapped
M6<span style="color: #666666">.</span> Remapping an existing codes means you disable the internal steps
taken normally, <span style="color: #AA22FF; font-weight: bold">and</span> replicate them <span style="color: #008000; font-weight: bold">as</span> far <span style="color: #008000; font-weight: bold">as</span> needed <span style="color: #008000; font-weight: bold">for</span> your own
purposes<span style="color: #666666">.</span>

Even <span style="color: #008000; font-weight: bold">if</span> you are <span style="color: #AA22FF; font-weight: bold">not</span> familiar <span style="color: #008000; font-weight: bold">with</span> C, I suggest you look at the
<span style="color: #BA2121">&#39;Interp::convert_tool_change&#39;</span> code <span style="color: #AA22FF; font-weight: bold">in</span>
<span style="color: #BA2121">&#39;src/emc/rs274/interp_convert.cc&#39;</span><span style="color: #666666">.</span>

<span style="color: #666666">====</span> Interpreter action on a M6 command [[remap::interpreter<span style="color: #666666">-</span>action<span style="color: #666666">-</span>on<span style="color: #666666">-</span>M6]]
When the interpreter sees an M6, it:

<span style="color: #666666">.</span> checks whether a T command has already been executed (test
<span style="color: #BA2121">&#39;settings-&gt;selected_pocket&#39;</span> to be <span style="color: #666666">&gt;=</span> <span style="color: #666666">0</span>) <span style="color: #AA22FF; font-weight: bold">and</span> fail <span style="color: #008000; font-weight: bold">with</span> <span style="color: #BA2121">&#39;Need tool</span>
prepared <span style="color: #666666">-</span>Txx<span style="color: #666666">-</span> <span style="color: #008000; font-weight: bold">for</span> toolchange<span style="color: #BA2121">&#39; message if not.</span>
<span style="color: #666666">.</span> check <span style="color: #008000; font-weight: bold">for</span> cutter compensation being active, <span style="color: #AA22FF; font-weight: bold">and</span> fail <span style="color: #008000; font-weight: bold">with</span> <span style="color: #BA2121">&#39;Cannot</span>
change tools <span style="color: #008000; font-weight: bold">with</span> cutter radius compensation on<span style="color: #BA2121">&#39; if so.</span>
<span style="color: #666666">.</span> stop the spindle <span style="color: #008000; font-weight: bold">except</span> <span style="color: #008000; font-weight: bold">if</span> the <span style="color: #BA2121">&quot;TOOL_CHANGE_WITH_SPINDLE_ON&quot;</span> ini
option <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000">set</span><span style="color: #666666">.</span>
<span style="color: #666666">.</span> generate a rapid <span style="color: #BA2121">&#39;Z up&#39;</span> move <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000; font-weight: bold">if</span> the <span style="color: #BA2121">&quot;TOOL_CHANGE_QUILL_UP&quot;</span> ini
option <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000">set</span><span style="color: #666666">.</span>
<span style="color: #666666">.</span> <span style="color: #008000; font-weight: bold">if</span> TOOL_CHANGE_AT_G30 was <span style="color: #008000">set</span>:
<span style="color: #666666">..</span> move the A, B <span style="color: #AA22FF; font-weight: bold">and</span> C indexers <span style="color: #008000; font-weight: bold">if</span> applicable
<span style="color: #666666">..</span> generate rapid move to the G30 position
<span style="color: #666666">.</span> execute a CHANGE_TOOL canon command,<span style="color: #008000; font-weight: bold">with</span> the selected pocket <span style="color: #008000; font-weight: bold">as</span>
parameter<span style="color: #666666">.</span> CHANGE_TOOL will:
<span style="color: #666666">..</span> generate a rapid move to TOOL_CHANGE_POSITION <span style="color: #008000; font-weight: bold">if</span> so <span style="color: #008000">set</span> <span style="color: #AA22FF; font-weight: bold">in</span> ini
<span style="color: #666666">..</span> enqueue an EMC_TOOL_LOAD NML message to task<span style="color: #666666">.</span> [[remap::send<span style="color: #666666">-</span>tool<span style="color: #666666">-</span>load<span style="color: #666666">-</span>msg]]
<span style="color: #666666">.</span> <span style="color: #008000">set</span> the numberer parameters <span style="color: #666666">5400-5413</span> according to the new tool
<span style="color: #666666">.</span> signal to task to stop calling the interpreter <span style="color: #008000; font-weight: bold">for</span> readahead by
returning INTERP_EXECUTE_FINISH since M6 <span style="color: #AA22FF; font-weight: bold">is</span> a queue buster<span style="color: #666666">.</span>

<span style="color: #666666">====</span> What task does when it sees a CHANGE_TOOL command
Again, <span style="color: #AA22FF; font-weight: bold">not</span> much more than passing the buck to iocontrol by sending it
an EMC_TOOL_LOAD message, <span style="color: #AA22FF; font-weight: bold">and</span> waiting until iocontrol has done its
thing<span style="color: #666666">.</span>

<span style="color: #666666">====</span> Iocontrol action on EMC_TOOL_LOAD [[remap::iocontrol<span style="color: #666666">-</span>action<span style="color: #666666">-</span>on<span style="color: #666666">-</span>load]]

<span style="color: #666666">.</span> it asserts the <span style="color: #BA2121">&quot;tool-change&quot;</span> pin
<span style="color: #666666">.</span> it waits <span style="color: #008000; font-weight: bold">for</span> the <span style="color: #BA2121">&quot;tool-changed&quot;</span> pin to become active
<span style="color: #666666">.</span> when that has happened:
<span style="color: #666666">..</span> deassert <span style="color: #BA2121">&quot;tool-change&quot;</span>
<span style="color: #666666">..</span> <span style="color: #008000">set</span> <span style="color: #BA2121">&quot;tool-prep-number&quot;</span> <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #BA2121">&quot;tool-prep-pocket&quot;</span> pins to zero
<span style="color: #666666">..</span> execute the <span style="color: #BA2121">&#39;load_tool()&#39;</span> function <span style="color: #008000; font-weight: bold">with</span> the pocket <span style="color: #008000; font-weight: bold">as</span> parameter<span style="color: #666666">.</span>

The last step actually sets the tooltable entries <span style="color: #AA22FF; font-weight: bold">in</span> the <span style="color: #BA2121">&#39;emcStatus&#39;</span>
structure<span style="color: #666666">.</span> The actual action taken depends on whether the
RANDOM_TOOLCHANGER ini option was <span style="color: #008000">set</span>, but at the end of the process
<span style="color: #BA2121">&#39;toolTable[0]&#39;</span> reflects the tool currently <span style="color: #AA22FF; font-weight: bold">in</span> the spindle<span style="color: #666666">.</span>

When that has happended:

<span style="color: #666666">.</span> iocontrol signals task to go ahead
<span style="color: #666666">.</span> task tells the interpreter to execute a <span style="color: #BA2121">&#39;synch()&#39;</span> operation, to see
what has changed
<span style="color: #666666">.</span> the interpreter <span style="color: #BA2121">&#39;synch()&#39;</span> pulls <span style="color: #008000">all</span> information <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">the</span> <span style="color: #0000FF; font-weight: bold">world</span> <span style="color: #0000FF; font-weight: bold">model</span>
needed, among it the changed tool table<span style="color: #666666">.</span>

From there on, the interpreter has complete  knowledge of the world
model <span style="color: #AA22FF; font-weight: bold">and</span> continues <span style="color: #008000; font-weight: bold">with</span> readahead<span style="color: #666666">.</span>

<span style="color: #666666">====</span> Building the prolog <span style="color: #AA22FF; font-weight: bold">and</span> epilog <span style="color: #008000; font-weight: bold">for</span> M6
See the Python functions <span style="color: #BA2121">`change_prolog`</span> <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #BA2121">`change_epilog`</span> <span style="color: #AA22FF; font-weight: bold">in</span>
<span style="color: #BA2121">`configs/sim/axis/remap/toolchange/python/toolchange.py`</span><span style="color: #666666">.</span>

<span style="color: #666666">===</span> How M61 (Change tool number) works
M61 requires a non<span style="color: #666666">-</span>negative <span style="color: #BA2121">`Q`</span>parameter (tool number)<span style="color: #666666">.</span> If zero, this
means <span style="color: #BA2121">&#39;unload tool&#39;</span>, <span style="color: #008000; font-weight: bold">else</span> <span style="color: #BA2121">&#39;set current tool number to Q&#39;</span><span style="color: #666666">.</span>

<span style="color: #666666">====</span> Building the replacement <span style="color: #008000; font-weight: bold">for</span> M61
An example Python redefinition <span style="color: #008000; font-weight: bold">for</span> M61 can be found <span style="color: #AA22FF; font-weight: bold">in</span> the
<span style="color: #BA2121">`set_tool_number`</span> function <span style="color: #AA22FF; font-weight: bold">in</span>
<span style="color: #BA2121">`configs/sim/axis/remap/toolchange/python/toolchange.py`</span><span style="color: #666666">.</span>


<span style="color: #666666">==</span> Optional Interpreter features: ini <span style="color: #008000">file</span> configuration[[sub:ini<span style="color: #666666">-</span>features]]
(((Enabling optional features)))

There are some interpreter features <span style="color: #AA22FF; font-weight: bold">in</span> this branch which are
experimental, <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #AA22FF; font-weight: bold">not</span> backwards compatible, which <span style="color: #AA22FF; font-weight: bold">is</span> why they need to
be enabled explicitly<span style="color: #666666">.</span> They are specified <span style="color: #008000; font-weight: bold">as</span> follows:

[source,{ini}]
<span style="color: #666666">---------------------------------------------------------------------</span>
  [RS274NGC]
  FEATURES <span style="color: #666666">=</span> <span style="color: #666666">&lt;</span>feature mask<span style="color: #666666">&gt;</span>
<span style="color: #666666">---------------------------------------------------------------------</span>

Mask bits are:

<span style="color: #BA2121">`Retain G43: 1 (experimental)`</span>::
	When <span style="color: #008000">set</span>, you can  turn on G43 after loading the first tool,
        <span style="color: #AA22FF; font-weight: bold">and</span> then <span style="color: #AA22FF; font-weight: bold">not</span> worry about it through the program<span style="color: #666666">.</span>  When you
	<span style="color: #008000; font-weight: bold">finally</span> unload the last tool, G43 mode <span style="color: #AA22FF; font-weight: bold">is</span> canceled<span style="color: #666666">.</span>
	This <span style="color: #AA22FF; font-weight: bold">is</span> experimental <span style="color: #008000; font-weight: bold">as</span> it changes the
	operation of legal ngc program, but it could be argued that
	those programs are buggy <span style="color: #AA22FF; font-weight: bold">or</span> likely to be <span style="color: #AA22FF; font-weight: bold">not</span> what the author
        intended<span style="color: #666666">.</span>

<span style="color: #BA2121">`add n_args parameter:  2`</span>::
       A called subroutine can determine the number of actual positional
       parameters passed by inspecting the <span style="color: #666666">+</span><span style="color: #408080; font-style: italic">#&lt;n_args&gt;+ parameter.</span>


<span style="color: #BA2121">`enable #&lt;_ini[section]name&gt; readonly variables:  4`</span>::
	<span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">set</span>, the interpreter will fetch read<span style="color: #666666">-</span>only values <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">the</span>
	ini <span style="color: #008000">file</span> through this special variable syntax<span style="color: #666666">.</span>


<span style="color: #BA2121">`enable #&lt;_hal[Hal item]&gt; readonly variables: 8`</span>::
	<span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">set</span>, the interpreter will fetch read<span style="color: #666666">-</span>only values <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">HAL</span>
	<span style="color: #008000">file</span> through this special variable syntax<span style="color: #666666">.</span>

<span style="color: #BA2121">`preserve case in O-word names within comments: 16`</span>::
	  <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">set</span>, enables reading of mixed<span style="color: #666666">-</span>case HAL items <span style="color: #AA22FF; font-weight: bold">in</span>
	  structured comments like  <span style="color: #BA2121">&#39;(debug, #&lt;_hal[MixedCaseItem])&#39;</span><span style="color: #666666">.</span>
	  Really a cludge which should go away<span style="color: #666666">.</span>

<span style="color: #666666">==</span> Named parameters <span style="color: #AA22FF; font-weight: bold">and</span> inifile variables [[remap:referto<span style="color: #666666">-</span>inifile<span style="color: #666666">-</span>variables]]

To access ini <span style="color: #008000">file</span> values <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">G</span><span style="color: #666666">-</span>code,  use the following named
parameter syntax:

	  <span style="color: #408080; font-style: italic">#&lt;_ini[section]name&gt;</span>

For example, <span style="color: #008000; font-weight: bold">if</span> the ini <span style="color: #008000">file</span> looks like so:

[source,{ini}]
<span style="color: #666666">---------------------------------------------------------------------</span>
[SETUP]
XPOS <span style="color: #666666">=</span> <span style="color: #666666">3.145</span>
YPOS <span style="color: #666666">=</span> <span style="color: #666666">2.718</span>
<span style="color: #666666">---------------------------------------------------------------------</span>

you may refer to the O<span style="color: #666666">-</span>word named parameters <span style="color: #BA2121">`#&lt;_ini[setup]xpos&gt;`</span> <span style="color: #AA22FF; font-weight: bold">and</span>
<span style="color: #BA2121">`#&lt;_ini[setup]ypos&gt;`</span> within G<span style="color: #666666">-</span>code<span style="color: #666666">.</span>

<span style="color: #BA2121">`EXISTS`</span> can be used to test <span style="color: #008000; font-weight: bold">for</span> presence of a given ini <span style="color: #008000">file</span>
variable:

[source,{ngc}]
<span style="color: #666666">---------------------------------------------------------------------</span>
o100 <span style="color: #008000; font-weight: bold">if</span> [EXISTS[<span style="color: #408080; font-style: italic">#&lt;_ini[setup]xpos&gt;]]</span>
  (debug, [setup]xpos exists: <span style="color: #408080; font-style: italic">#&lt;_ini[setup]xpos&gt;)</span>
o100 <span style="color: #008000; font-weight: bold">else</span>
  (debug, [setup]xpos does <span style="color: #AA22FF; font-weight: bold">not</span> exist)
o100 endif
<span style="color: #666666">---------------------------------------------------------------------</span>

The value <span style="color: #AA22FF; font-weight: bold">is</span> read <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">the</span> <span style="color: #0000FF; font-weight: bold">inifile</span> <span style="color: #0000FF; font-weight: bold">once</span>, <span style="color: #AA22FF; font-weight: bold">and</span> cached <span style="color: #AA22FF; font-weight: bold">in</span> the
interpreter<span style="color: #666666">.</span> These parameters are read<span style="color: #666666">-</span>only <span style="color: #666666">-</span> assigning a value will
cause a runtime error<span style="color: #666666">.</span> The names are <span style="color: #AA22FF; font-weight: bold">not</span> case sensitive <span style="color: #666666">-</span> they are
converted to uppercase before consulting the ini <span style="color: #008000">file</span><span style="color: #666666">.</span>

Permanent setup information <span style="color: #AA22FF; font-weight: bold">is</span> usually stored <span style="color: #AA22FF; font-weight: bold">in</span> the ini <span style="color: #008000">file</span><span style="color: #666666">.</span> While
ini variables can be easily accessed <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">the</span> <span style="color: #0000FF; font-weight: bold">shell</span>, Python <span style="color: #AA22FF; font-weight: bold">and</span> C code,
so far there was no way to refer to ini <span style="color: #008000">file</span> variables <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">G</span><span style="color: #666666">-</span>code<span style="color: #666666">.</span>
This release enables such access<span style="color: #666666">.</span> The feature was motivated by the
need to replace ini variables which are currently used <span style="color: #AA22FF; font-weight: bold">in</span> the
hard<span style="color: #666666">-</span>coded toolchange process, like the <span style="color: #BA2121">`[EMCIO]TOOL_CHANGE_POSITION`</span> parameter<span style="color: #666666">.</span>


CAUTION: this section doesnt really belong here but since it comes <span style="color: #008000; font-weight: bold">with</span>
the same branch, here it rests <span style="color: #008000; font-weight: bold">for</span> now until its clear this will be
merged<span style="color: #666666">.</span> It should go into the gcode<span style="color: #666666">/</span>overview Named Parameters section<span style="color: #666666">.</span>


<span style="color: #666666">==</span> Named parameters <span style="color: #AA22FF; font-weight: bold">and</span> HAL items [[remap:referto<span style="color: #666666">-</span>hal<span style="color: #666666">-</span>items]]


To read arbitrary HAL pins, signals <span style="color: #AA22FF; font-weight: bold">and</span> parameters <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">G</span><span style="color: #666666">-</span>code,  use the following named
parameter syntax:

	  <span style="color: #408080; font-style: italic">#&lt;_hal[hal_name]&gt;</span>

where <span style="color: #BA2121">`hal_name`</span> may be a pin, parameter <span style="color: #AA22FF; font-weight: bold">or</span> signal name<span style="color: #666666">.</span>

Example:

[source,{ngc}]
<span style="color: #666666">---------------------------------------------------------------------</span>
(debug, <span style="color: #408080; font-style: italic">#&lt;_hal[motion-controller.time]&gt;)</span>
<span style="color: #666666">---------------------------------------------------------------------</span>

Access of HAL items <span style="color: #AA22FF; font-weight: bold">is</span> read<span style="color: #666666">-</span>only<span style="color: #666666">.</span> Currently, only <span style="color: #008000">all</span><span style="color: #666666">-</span>lowercase HAL
names can be accessed this way<span style="color: #666666">.</span>

<span style="color: #BA2121">`EXISTS`</span> can be used to test <span style="color: #008000; font-weight: bold">for</span> the presence of a given HAL item:

[source,{ngc}]
<span style="color: #666666">---------------------------------------------------------------------</span>
o100 <span style="color: #008000; font-weight: bold">if</span> [EXISTS[<span style="color: #408080; font-style: italic">#&lt;_hal[motion-controller.time]&gt;]]</span>
  (debug, [motion<span style="color: #666666">-</span>controller<span style="color: #666666">.</span>time] exists: <span style="color: #408080; font-style: italic">#&lt;_hal[motion-controller.time]&gt;)</span>
o100 <span style="color: #008000; font-weight: bold">else</span>
  (debug, [motion<span style="color: #666666">-</span>controller<span style="color: #666666">.</span>time] does <span style="color: #AA22FF; font-weight: bold">not</span> exist)
o100 endif
<span style="color: #666666">---------------------------------------------------------------------</span>

This feature was motivated by the desire <span style="color: #008000; font-weight: bold">for</span> stronger coupling between
user interface components like <span style="color: #BA2121">`GladeVCP`</span> <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #BA2121">`PyVCP`</span> to act <span style="color: #008000; font-weight: bold">as</span>
paramter source <span style="color: #008000; font-weight: bold">for</span> driving NGC <span style="color: #008000">file</span> behaviour<span style="color: #666666">.</span> The alternative <span style="color: #666666">-</span>
going through the M6x pins <span style="color: #AA22FF; font-weight: bold">and</span> wiring them <span style="color: #666666">-</span> has a limited,
non<span style="color: #666666">-</span>mmemonic namespace <span style="color: #AA22FF; font-weight: bold">and</span> <span style="color: #AA22FF; font-weight: bold">is</span> unncessary cumbersome just <span style="color: #008000; font-weight: bold">as</span> a
UI<span style="color: #666666">/</span>Interpreter communications mechanism<span style="color: #666666">.</span>


CAUTION: this section doesnt really belong here but since it comes <span style="color: #008000; font-weight: bold">with</span>
the same branch, here it rests <span style="color: #008000; font-weight: bold">for</span> now until its clear this will be
merged<span style="color: #666666">.</span> It should go into the gcode<span style="color: #666666">/</span>overview Named Parameters section<span style="color: #666666">.</span>

<span style="color: #666666">==</span>  Status

<span style="color: #666666">.</span> the RELOAD_ON_CHANGE feature <span style="color: #AA22FF; font-weight: bold">is</span> fairly broken<span style="color: #666666">.</span> Restart after
changing a Python <span style="color: #008000">file</span><span style="color: #666666">.</span>

<span style="color: #666666">.</span> M61 (remapped <span style="color: #AA22FF; font-weight: bold">or</span> <span style="color: #AA22FF; font-weight: bold">not</span>) <span style="color: #AA22FF; font-weight: bold">is</span> broken <span style="color: #AA22FF; font-weight: bold">in</span> iocontrol <span style="color: #AA22FF; font-weight: bold">and</span> requires
iocontrol<span style="color: #666666">-</span>v2 to actually work<span style="color: #666666">.</span>

<span style="color: #666666">//</span> A short survey of Machinekit execution
<span style="color: #666666">//</span> Interpreter internals access <span style="color: #666666">-</span> Python view
<span style="color: #666666">//</span> Task internals access <span style="color: #666666">-</span> Python view

<span style="color: #666666">==</span>  Build notes <span style="color: #666666">-</span> Lucid (<span style="color: #666666">10.04</span>)

For the interpreter <span style="color: #666666">&amp;</span> task Python plugins, this <span style="color: #AA22FF; font-weight: bold">is</span> required:

 apt<span style="color: #666666">-</span>get install libboost<span style="color: #666666">-</span>python1<span style="color: #666666">.40-</span>dev

When compiling you might notice that interpmodule<span style="color: #666666">.</span>cc takes very <span style="color: #008000">long</span>
to <span style="color: #008000">compile</span>, which <span style="color: #AA22FF; font-weight: bold">is</span> normal <span style="color: #666666">-</span> the extensive use of C<span style="color: #666666">++</span> templates makes the
compiler breathe heavily<span style="color: #666666">.</span>

If you want to play <span style="color: #008000; font-weight: bold">with</span> the configs<span style="color: #666666">/</span>sim<span style="color: #666666">/</span>axis<span style="color: #666666">/</span>remap<span style="color: #666666">/</span>iocontrol<span style="color: #666666">-</span>removed
example, you need to install <span style="color: #008000; font-weight: bold">as</span> follows:

 apt<span style="color: #666666">-</span>get unixODBC<span style="color: #666666">-</span>dev libsqliteodbc sqlite3
 git clone https:<span style="color: #666666">//</span>code<span style="color: #666666">.</span>google<span style="color: #666666">.</span>com<span style="color: #666666">/</span>p<span style="color: #666666">/</span>pyodbc<span style="color: #666666">/</span>
 sudo  python setup<span style="color: #666666">.</span>py build install

If you<span style="color: #BA2121">&#39;d want to try how the Firefox SQlite manager plugin looks &amp;</span>
feels <span style="color: #008000; font-weight: bold">as</span> a tooltable editor, <span style="color: #008000; font-weight: bold">try</span> this:

<span style="color: #666666">.</span> read http:<span style="color: #666666">//</span>code<span style="color: #666666">.</span>google<span style="color: #666666">.</span>com<span style="color: #666666">/</span>p<span style="color: #666666">/</span>sqlite<span style="color: #666666">-</span>manager<span style="color: #666666">/</span>

<span style="color: #666666">.</span> download the <span style="color: #008000">zip</span> <span style="color: #008000">file</span>  <span style="color: #BA2121">&#39;SQLiteManager 0.7.7 as XULRunner App&#39;</span>
    <span style="color: #AA22FF; font-weight: bold">or</span> whatever <span style="color: #AA22FF; font-weight: bold">is</span> the latest <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">http</span>:<span style="color: #666666">//</span>code<span style="color: #666666">.</span>google<span style="color: #666666">.</span>com<span style="color: #666666">/</span>p<span style="color: #666666">/</span>sqlite<span style="color: #666666">-</span>manager<span style="color: #666666">/</span>downloads<span style="color: #666666">/</span><span style="color: #008000">list</span>

<span style="color: #666666">.</span> create a directory under your home directory, eg <span style="color: #666666">~/</span>sqlite<span style="color: #666666">-</span>manager

<span style="color: #666666">.</span> unzip the zp <span style="color: #008000">file</span> <span style="color: #008000; font-weight: bold">from</span> <span style="color: #666666">1</span>) into this directory

<span style="color: #666666">.</span><span style="color: #008000; font-weight: bold">try</span> running firefox <span style="color: #008000; font-weight: bold">with</span> this plugin <span style="color: #AA22FF; font-weight: bold">and</span> the tooltable<span style="color: #666666">.</span>sqlite <span style="color: #008000">file</span> <span style="color: #AA22FF; font-weight: bold">in</span> this directory like so:
 <span style="color: #BA2121">`firefox -app &lt;homdir&gt;/sqlite-manager/application.ini -f tooltable.sqlite`</span>

 firefox should come up <span style="color: #008000; font-weight: bold">with</span> the sqlite manager extension <span style="color: #AA22FF; font-weight: bold">and</span> having this database opened

<span style="color: #666666">.</span> adapt the following command line <span style="color: #008000; font-weight: bold">with</span> appropriate paths <span style="color: #AA22FF; font-weight: bold">in</span> the ini <span style="color: #008000">file</span>:

<span style="color: #BA2121">`TOOL_EDITOR= firefox -app  /home/mah/sqlite-manager/application.ini -f /home/mah/emc2-dev/configs/sim/remap/iocontrol-removed/tooltable.sqlite`</span>



<span style="color: #666666">==</span>  Build notes <span style="color: #666666">-</span> Hardy (<span style="color: #666666">8.04</span>)

Building <span style="color: #AA22FF; font-weight: bold">and</span> running on Hardy <span style="color: #AA22FF; font-weight: bold">is</span> possible<span style="color: #666666">.</span> runtests works fine too, so
the remapping framework per se <span style="color: #AA22FF; font-weight: bold">is</span> ok<span style="color: #666666">.</span>

However running the examples <span style="color: #AA22FF; font-weight: bold">is</span> quite limited <span style="color: #008000; font-weight: bold">as</span> of now:

The Git version included <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #666666">8.04</span> <span style="color: #AA22FF; font-weight: bold">is</span> too old to pull
https:<span style="color: #666666">//</span>code<span style="color: #666666">.</span>google<span style="color: #666666">.</span>com<span style="color: #666666">/</span>p<span style="color: #666666">/</span>pyodbc<span style="color: #666666">/</span> so the iocontrol<span style="color: #666666">-</span>removed demo cant
be run<span style="color: #666666">.</span>

The  python<span style="color: #666666">-</span>gtkglext1 dependency <span style="color: #AA22FF; font-weight: bold">is</span> missing <span style="color: #008000; font-weight: bold">for</span> reasons I dont
understand<span style="color: #666666">.</span>

Even <span style="color: #008000; font-weight: bold">if</span> python<span style="color: #666666">-</span>gtkglext1 <span style="color: #AA22FF; font-weight: bold">is</span> installed, the startup of the
manualtoolchange <span style="color: #AA22FF; font-weight: bold">and</span> racktoolchange demos fails due to gladevcp startup issues<span style="color: #666666">.</span>

Note that has nothing to to <span style="color: #008000; font-weight: bold">with</span> the new code but rather the very old
platform trying to run gladevcp<span style="color: #666666">.</span>

<span style="color: #666666">==</span>  Workarounds

The workaround mentioned below was necessary up to commit
d21a488a9e82dd85aa17207b80e3d930afeff202 <span style="color: #666666">.</span> References to
DISPLAY_LD_PRELOAD <span style="color: #AA22FF; font-weight: bold">and</span> TASK_LD_PRELOAD have been removed <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">the</span> <span style="color: #0000FF; font-weight: bold">ini</span>
files under configs<span style="color: #666666">/</span>sim<span style="color: #666666">/</span>axis<span style="color: #666666">/</span>remap because they are <span style="color: #AA22FF; font-weight: bold">not</span> needed anymore<span style="color: #666666">.</span>

Configure now tests whether a workaround <span style="color: #AA22FF; font-weight: bold">is</span> required, <span style="color: #AA22FF; font-weight: bold">and</span>
automatically does <span style="color: #BA2121">&#39;the right thing&#39;</span> <span style="color: #008000; font-weight: bold">if</span> needed<span style="color: #666666">.</span>

 <span style="color: #408080; font-style: italic"># Michael Haberler 4/2011</span>
 <span style="color: #408080; font-style: italic">#</span>
 <span style="color: #408080; font-style: italic"># if you get a segfault like described</span>
 <span style="color: #408080; font-style: italic"># here: https://bugs.launchpad.net/ubuntu/+source/mesa/+bug/259219</span>
 <span style="color: #408080; font-style: italic"># or here: https://www.libavg.de/wiki/LinuxInstallIssues#glibc_invalid_pointer :</span>
 <span style="color: #408080; font-style: italic">#</span>
 <span style="color: #408080; font-style: italic"># specify a workaround with:</span>
 <span style="color: #408080; font-style: italic"># [DISPLAY]</span>
 <span style="color: #408080; font-style: italic"># DISPLAY_LD_PRELOAD = /usr/lib/libstdc++.so.6</span>
 <span style="color: #408080; font-style: italic"># and</span>
 <span style="color: #408080; font-style: italic"># [TASK]</span>
 <span style="color: #408080; font-style: italic"># TASK_LD_PRELOAD = /usr/lib/libstdc++.so.6</span>
 <span style="color: #408080; font-style: italic">#</span>
 <span style="color: #408080; font-style: italic"># this is actually a bug in libgl1-mesa-dri and it looks</span>
 <span style="color: #408080; font-style: italic"># it has been fixed in mesa - 7.10.1-0ubuntu2</span>
 <span style="color: #408080; font-style: italic"># unfortunately for now this workaround is needed</span>
 DISPLAY_LD_PRELOAD <span style="color: #666666">=</span> <span style="color: #666666">/</span>usr<span style="color: #666666">/</span>lib<span style="color: #666666">/</span>libstdc<span style="color: #666666">++.</span>so<span style="color: #666666">.6</span>


<span style="color: #666666">//</span> normal, _italic_, <span style="color: #666666">*</span>bold<span style="color: #666666">*</span>, <span style="color: #666666">+</span>mono<span style="color: #666666">+.</span>
<span style="color: #666666">//</span> <span style="color: #BA2121">``</span>double quoted<span style="color: #BA2121">&#39;&#39;</span>, <span style="border: 1px solid #FF0000">`</span>single quoted<span style="color: #BA2121">&#39;.</span>
<span style="color: #666666">//</span> normal, <span style="color: #666666">^</span><span style="color: #008000">super</span><span style="color: #666666">^</span>, <span style="color: #666666">~</span>sub<span style="color: #666666">~.</span>
<span style="color: #666666">//</span> normal, italic, bold, mono<span style="color: #666666">.</span>
<span style="color: #666666">//</span> <span style="border: 1px solid #FF0000">“</span>double quoted<span style="border: 1px solid #FF0000">”</span>, <span style="border: 1px solid #FF0000">‘</span>single quoted<span style="border: 1px solid #FF0000">’</span><span style="color: #666666">.</span>
<span style="color: #666666">//</span> normal, <span style="color: #008000">super</span>, sub<span style="color: #666666">.</span>
<span style="color: #666666">//</span> Command: <span style="color: #BA2121">`ls -al`</span>
<span style="color: #666666">//</span> <span style="color: #666666">+</span>mono <span style="color: #666666">*</span>bold<span style="color: #666666">*+</span>
<span style="color: #666666">//</span> <span style="color: #BA2121">`passthru *bold*`</span>

<span style="color: #666666">==</span> Changes

<span style="color: #666666">-</span> the method to <span style="color: #008000; font-weight: bold">return</span> error messages <span style="color: #AA22FF; font-weight: bold">and</span> fail used to be
  <span style="color: #BA2121">&#39;self.set_errormsg(text)&#39;</span> followed by <span style="color: #BA2121">&#39;return INTERP_ERROR&#39;</span><span style="color: #666666">.</span> This
  has been replaced by merely returning a string <span style="color: #008000; font-weight: bold">from</span> <span style="color: #0000FF; font-weight: bold">a</span> <span style="color: #0000FF; font-weight: bold">Python</span> <span style="color: #0000FF; font-weight: bold">handler</span>
  <span style="color: #AA22FF; font-weight: bold">or</span> oword subroutine<span style="color: #666666">.</span> This sets the error message <span style="color: #AA22FF; font-weight: bold">and</span> aborts the
  progam<span style="color: #666666">.</span> Previously there was no clean way to abort a Python oword
  subroutine<span style="color: #666666">.</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
          <div class="section-nav-docs">
  <div class="left align-right">
  </div>
  <div class="right align-left">
  </div>
  <div class="clear"></div>
</div>

        </article>
      </div>

      <div class="nocontent">
  <!-- The area to exclude -->
  <!-- prevent google crawlers adding boiler plate stuff to search hits -->
    <div class="unit one-fifth hide-on-mobiles">
      <aside>
	
        <h4>For starters</h4>
	

<ul>

  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://www.machinekit.io/docs/site/about-this-site/">
	  How to use this website</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://www.machinekit.io/docs/index-getting-started/">
	  Getting Started</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://www.machinekit.io/docs/index-user/">
	  Machinekit Introduction</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://www.machinekit.io/docs/index-HAL/">
	  Hardware Abstraction Layer</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://www.machinekit.io/docs/getting-help/">
	  Getting help</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


</ul>

        
        <h4>Developing</h4>
	

<ul>

  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://www.machinekit.io/docs/index-integrator/">
	  Integrator Manual</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://www.machinekit.io/docs/index-developer/">
	  Developer manual</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://www.machinekit.io/docs/index-documenting/">
	  Documenting</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://www.machinekit.io/docs/developing/develop-index/">
	  Various developing links</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://www.machinekit.io/docs/developing/qtquickvcp/">
	  QtQuickVcp</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


</ul>

        
        <h4>Manpages</h4>
	

<ul>

  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://www.machinekit.io/docs/man/man1/">
	  HAL Utilities and GUIs</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://www.machinekit.io/docs/man/man3/">
	  RTAPI and HAL Functions</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://www.machinekit.io/docs/man/man9/">
	  HAL Components</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


</ul>

        
        <h4>Project Infrastructure</h4>
	

<ul>

  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://www.machinekit.io/docs/infra/repositories/">
	  Git Repos &amp; Auto Build</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


</ul>

        
      </aside>
    </div>
</div>



      <div class="clear"></div>

    </div>
  </section>

  </div>
  <footer>
  <div class="grid">
    <div class="unit two-thirds align-right center-on-mobiles">
      <p>
      </p>
    </div>
  </div>
</footer>

   
  


</body>
</html>
